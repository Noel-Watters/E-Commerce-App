var Bb=n=>{throw TypeError(n)};var fy=(n,e,t)=>e.has(n)||Bb("Cannot "+t);var q=(n,e,t)=>(fy(n,e,"read from private field"),t?t.call(n):e.get(n)),De=(n,e,t)=>e.has(n)?Bb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ye=(n,e,t,i)=>(fy(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),Ke=(n,e,t)=>(fy(n,e,"access private method"),t);var _d=(n,e,t,i)=>({set _(a){ye(n,e,a,t)},get _(){return q(n,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function If(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hy={exports:{}},Pc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb;function gD(){if(zb)return Pc;zb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Pc.Fragment=e,Pc.jsx=t,Pc.jsxs=t,Pc}var Fb;function yD(){return Fb||(Fb=1,hy.exports=gD()),hy.exports}var R=yD(),dy={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function vD(){if(qb)return Ve;qb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function x(j,re,ce){this.props=j,this.context=re,this.refs=k,this.updater=ce||S}x.prototype.isReactComponent={},x.prototype.setState=function(j,re){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,re,"setState")},x.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=x.prototype;function G(j,re,ce){this.props=j,this.context=re,this.refs=k,this.updater=ce||S}var z=G.prototype=new U;z.constructor=G,C(z,x.prototype),z.isPureReactComponent=!0;var H=Array.isArray,K={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function N(j,re,ce,oe,de,ve){return ce=ve.ref,{$$typeof:n,type:j,key:re,ref:ce!==void 0?ce:null,props:ve}}function I(j,re){return N(j.type,re,void 0,void 0,void 0,j.props)}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function P(j){var re={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ce){return re[ce]})}var V=/\/+/g;function B(j,re){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):re.toString(36)}function M(){}function Me(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(M,M):(j.status="pending",j.then(function(re){j.status==="pending"&&(j.status="fulfilled",j.value=re)},function(re){j.status==="pending"&&(j.status="rejected",j.reason=re)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Pe(j,re,ce,oe,de){var ve=typeof j;(ve==="undefined"||ve==="boolean")&&(j=null);var be=!1;if(j===null)be=!0;else switch(ve){case"bigint":case"string":case"number":be=!0;break;case"object":switch(j.$$typeof){case n:case e:be=!0;break;case y:return be=j._init,Pe(be(j._payload),re,ce,oe,de)}}if(be)return de=de(j),be=oe===""?"."+B(j,0):oe,H(de)?(ce="",be!=null&&(ce=be.replace(V,"$&/")+"/"),Pe(de,re,ce,"",function(xt){return xt})):de!=null&&(D(de)&&(de=I(de,ce+(de.key==null||j&&j.key===de.key?"":(""+de.key).replace(V,"$&/")+"/")+be)),re.push(de)),1;be=0;var ot=oe===""?".":oe+":";if(H(j))for(var ze=0;ze<j.length;ze++)oe=j[ze],ve=ot+B(oe,ze),be+=Pe(oe,re,ce,ve,de);else if(ze=E(j),typeof ze=="function")for(j=ze.call(j),ze=0;!(oe=j.next()).done;)oe=oe.value,ve=ot+B(oe,ze++),be+=Pe(oe,re,ce,ve,de);else if(ve==="object"){if(typeof j.then=="function")return Pe(Me(j),re,ce,oe,de);throw re=String(j),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return be}function W(j,re,ce){if(j==null)return j;var oe=[],de=0;return Pe(j,oe,"","",function(ve){return re.call(ce,ve,de++)}),oe}function le(j){if(j._status===-1){var re=j._result;re=re(),re.then(function(ce){(j._status===0||j._status===-1)&&(j._status=1,j._result=ce)},function(ce){(j._status===0||j._status===-1)&&(j._status=2,j._result=ce)}),j._status===-1&&(j._status=0,j._result=re)}if(j._status===1)return j._result.default;throw j._result}var he=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Ce(){}return Ve.Children={map:W,forEach:function(j,re,ce){W(j,function(){re.apply(this,arguments)},ce)},count:function(j){var re=0;return W(j,function(){re++}),re},toArray:function(j){return W(j,function(re){return re})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ve.Component=x,Ve.Fragment=t,Ve.Profiler=a,Ve.PureComponent=G,Ve.StrictMode=i,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(j){return K.H.useMemoCache(j)}},Ve.cache=function(j){return function(){return j.apply(null,arguments)}},Ve.cloneElement=function(j,re,ce){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var oe=C({},j.props),de=j.key,ve=void 0;if(re!=null)for(be in re.ref!==void 0&&(ve=void 0),re.key!==void 0&&(de=""+re.key),re)!J.call(re,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&re.ref===void 0||(oe[be]=re[be]);var be=arguments.length-2;if(be===1)oe.children=ce;else if(1<be){for(var ot=Array(be),ze=0;ze<be;ze++)ot[ze]=arguments[ze+2];oe.children=ot}return N(j.type,de,void 0,void 0,ve,oe)},Ve.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Ve.createElement=function(j,re,ce){var oe,de={},ve=null;if(re!=null)for(oe in re.key!==void 0&&(ve=""+re.key),re)J.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(de[oe]=re[oe]);var be=arguments.length-2;if(be===1)de.children=ce;else if(1<be){for(var ot=Array(be),ze=0;ze<be;ze++)ot[ze]=arguments[ze+2];de.children=ot}if(j&&j.defaultProps)for(oe in be=j.defaultProps,be)de[oe]===void 0&&(de[oe]=be[oe]);return N(j,ve,void 0,void 0,null,de)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(j){return{$$typeof:h,render:j}},Ve.isValidElement=D,Ve.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:le}},Ve.memo=function(j,re){return{$$typeof:m,type:j,compare:re===void 0?null:re}},Ve.startTransition=function(j){var re=K.T,ce={};K.T=ce;try{var oe=j(),de=K.S;de!==null&&de(ce,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ce,he)}catch(ve){he(ve)}finally{K.T=re}},Ve.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Ve.use=function(j){return K.H.use(j)},Ve.useActionState=function(j,re,ce){return K.H.useActionState(j,re,ce)},Ve.useCallback=function(j,re){return K.H.useCallback(j,re)},Ve.useContext=function(j){return K.H.useContext(j)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(j,re){return K.H.useDeferredValue(j,re)},Ve.useEffect=function(j,re,ce){var oe=K.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return oe.useEffect(j,re)},Ve.useId=function(){return K.H.useId()},Ve.useImperativeHandle=function(j,re,ce){return K.H.useImperativeHandle(j,re,ce)},Ve.useInsertionEffect=function(j,re){return K.H.useInsertionEffect(j,re)},Ve.useLayoutEffect=function(j,re){return K.H.useLayoutEffect(j,re)},Ve.useMemo=function(j,re){return K.H.useMemo(j,re)},Ve.useOptimistic=function(j,re){return K.H.useOptimistic(j,re)},Ve.useReducer=function(j,re,ce){return K.H.useReducer(j,re,ce)},Ve.useRef=function(j){return K.H.useRef(j)},Ve.useState=function(j){return K.H.useState(j)},Ve.useSyncExternalStore=function(j,re,ce){return K.H.useSyncExternalStore(j,re,ce)},Ve.useTransition=function(){return K.H.useTransition()},Ve.version="19.1.0",Ve}var Hb;function Cp(){return Hb||(Hb=1,dy.exports=vD()),dy.exports}var w=Cp();const _t=If(w);var py={exports:{}},kc={},my={exports:{}},gy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function _D(){return $b||($b=1,function(n){function e(W,le){var he=W.length;W.push(le);e:for(;0<he;){var Ce=he-1>>>1,j=W[Ce];if(0<a(j,le))W[Ce]=le,W[he]=j,he=Ce;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var le=W[0],he=W.pop();if(he!==le){W[0]=he;e:for(var Ce=0,j=W.length,re=j>>>1;Ce<re;){var ce=2*(Ce+1)-1,oe=W[ce],de=ce+1,ve=W[de];if(0>a(oe,he))de<j&&0>a(ve,oe)?(W[Ce]=ve,W[de]=he,Ce=de):(W[Ce]=oe,W[ce]=he,Ce=ce);else if(de<j&&0>a(ve,he))W[Ce]=ve,W[de]=he,Ce=de;else break e}}return le}function a(W,le){var he=W.sortIndex-le.sortIndex;return he!==0?he:W.id-le.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,_=null,E=3,S=!1,C=!1,k=!1,x=!1,U=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function H(W){for(var le=t(m);le!==null;){if(le.callback===null)i(m);else if(le.startTime<=W)i(m),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(m)}}function K(W){if(k=!1,H(W),!C)if(t(p)!==null)C=!0,J||(J=!0,B());else{var le=t(m);le!==null&&Pe(K,le.startTime-W)}}var J=!1,N=-1,I=5,D=-1;function P(){return x?!0:!(n.unstable_now()-D<I)}function V(){if(x=!1,J){var W=n.unstable_now();D=W;var le=!0;try{e:{C=!1,k&&(k=!1,G(N),N=-1),S=!0;var he=E;try{t:{for(H(W),_=t(p);_!==null&&!(_.expirationTime>W&&P());){var Ce=_.callback;if(typeof Ce=="function"){_.callback=null,E=_.priorityLevel;var j=Ce(_.expirationTime<=W);if(W=n.unstable_now(),typeof j=="function"){_.callback=j,H(W),le=!0;break t}_===t(p)&&i(p),H(W)}else i(p);_=t(p)}if(_!==null)le=!0;else{var re=t(m);re!==null&&Pe(K,re.startTime-W),le=!1}}break e}finally{_=null,E=he,S=!1}le=void 0}}finally{le?B():J=!1}}}var B;if(typeof z=="function")B=function(){z(V)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Me=M.port2;M.port1.onmessage=V,B=function(){Me.postMessage(null)}}else B=function(){U(V,0)};function Pe(W,le){N=U(function(){W(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(W){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var he=E;E=le;try{return W()}finally{E=he}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=E;E=W;try{return le()}finally{E=he}},n.unstable_scheduleCallback=function(W,le,he){var Ce=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ce+he:Ce):he=Ce,W){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=he+j,W={id:y++,callback:le,priorityLevel:W,startTime:he,expirationTime:j,sortIndex:-1},he>Ce?(W.sortIndex=he,e(m,W),t(p)===null&&W===t(m)&&(k?(G(N),N=-1):k=!0,Pe(K,he-Ce))):(W.sortIndex=j,e(p,W),C||S||(C=!0,J||(J=!0,B()))),W},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(W){var le=E;return function(){var he=E;E=le;try{return W.apply(this,arguments)}finally{E=he}}}}(gy)),gy}var Gb;function ED(){return Gb||(Gb=1,my.exports=_D()),my.exports}var yy={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function TD(){if(Kb)return yn;Kb=1;var n=Cp();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yn.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},yn.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},yn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},yn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},yn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):y==="script"&&i.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},yn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},yn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},yn.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},yn.requestFormReset=function(p){i.d.r(p)},yn.unstable_batchedUpdates=function(p,m){return p(m)},yn.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},yn.version="19.1.0",yn}var Qb;function qR(){if(Qb)return yy.exports;Qb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yy.exports=TD(),yy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function bD(){if(Yb)return kc;Yb=1;var n=ED(),e=Cp(),t=qR();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return h(d),r;if(g===u)return h(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=d,u=g;else{for(var b=!1,A=d.child;A;){if(A===o){b=!0,o=d,u=g;break}if(A===u){b=!0,u=d,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,u=d;break}if(A===u){b=!0,u=g,o=d;break}A=A.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),G=Symbol.for("react.consumer"),z=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function Me(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case x:return"Profiler";case k:return"StrictMode";case K:return"Suspense";case J:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case S:return"Portal";case z:return(r.displayName||"Context")+".Provider";case G:return(r._context.displayName||"Context")+".Consumer";case H:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return s=r.displayName||null,s!==null?s:Me(r.type)||"Memo";case I:s=r._payload,r=r._init;try{return Me(r(s))}catch{}}return null}var Pe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Ce=[],j=-1;function re(r){return{current:r}}function ce(r){0>j||(r.current=Ce[j],Ce[j]=null,j--)}function oe(r,s){j++,Ce[j]=r.current,r.current=s}var de=re(null),ve=re(null),be=re(null),ot=re(null);function ze(r,s){switch(oe(be,s),oe(ve,r),oe(de,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?pb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=pb(s),r=mb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(de),oe(de,r)}function xt(){ce(de),ce(ve),ce(be)}function Jt(r){r.memoizedState!==null&&oe(ot,r);var s=de.current,o=mb(s,r.type);s!==o&&(oe(ve,r),oe(de,o))}function $t(r){ve.current===r&&(ce(de),ce(ve)),ot.current===r&&(ce(ot),xc._currentValue=he)}var fn=Object.prototype.hasOwnProperty,hn=n.unstable_scheduleCallback,dn=n.unstable_cancelCallback,Je=n.unstable_shouldYield,tr=n.unstable_requestPaint,St=n.unstable_now,Ra=n.unstable_getCurrentPriorityLevel,yi=n.unstable_ImmediatePriority,pn=n.unstable_UserBlockingPriority,Dn=n.unstable_NormalPriority,ds=n.unstable_LowPriority,Er=n.unstable_IdlePriority,nr=n.log,vi=n.unstable_setDisableYieldValue,we=null,Ue=null;function Vt(r){if(typeof nr=="function"&&vi(r),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(we,r)}catch{}}var mn=Math.clz32?Math.clz32:Aa,Wf=Math.log,dm=Math.LN2;function Aa(r){return r>>>=0,r===0?32:31-(Wf(r)/dm|0)|0}var Ca=256,Ia=4194304;function Tr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Uo(r,s,o){var u=r.pendingLanes;if(u===0)return 0;var d=0,g=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?d=Tr(u):(b&=A,b!==0?d=Tr(b):o||(o=A&~r,o!==0&&(d=Tr(o))))):(A=u&~g,A!==0?d=Tr(A):b!==0?d=Tr(b):o||(o=u&~r,o!==0&&(d=Tr(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function xa(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function xu(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ou(){var r=Ca;return Ca<<=1,(Ca&4194048)===0&&(Ca=256),r}function Du(){var r=Ia;return Ia<<=1,(Ia&62914560)===0&&(Ia=4194304),r}function _i(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Ei(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Nu(r,s,o,u,d,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var A=r.entanglements,L=r.expirationTimes,X=r.hiddenUpdates;for(o=b&~o;0<o;){var ne=31-mn(o),se=1<<ne;A[ne]=0,L[ne]=-1;var Z=X[ne];if(Z!==null)for(X[ne]=null,ne=0;ne<Z.length;ne++){var ee=Z[ne];ee!==null&&(ee.lane&=-536870913)}o&=~se}u!==0&&Ur(r,u,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function Ur(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-mn(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Mu(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-mn(o),d=1<<u;d&s|r[u]&s&&(r[u]|=s),o&=~d}}function ps(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function jo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ms(){var r=le.p;return r!==0?r:(r=window.event,r===void 0?32:Pb(r.type))}function Zf(r,s){var o=le.p;try{return le.p=r,s()}finally{le.p=o}}var pt=Math.random().toString(36).slice(2),Lt="__reactFiber$"+pt,Ot="__reactProps$"+pt,rr="__reactContainer$"+pt,Pu="__reactEvents$"+pt,pm="__reactListeners$"+pt,gs="__reactHandles$"+pt,Jf="__reactResources$"+pt,Oa="__reactMarker$"+pt;function ys(r){delete r[Lt],delete r[Ot],delete r[Pu],delete r[pm],delete r[gs]}function Ti(r){var s=r[Lt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[rr]||o[Lt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=_b(r);r!==null;){if(o=r[Lt])return o;r=_b(r)}return s}r=o,o=r.parentNode}return null}function jr(r){if(r=r[Lt]||r[rr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Br(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Sn(r){var s=r[Jf];return s||(s=r[Jf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Rt(r){r[Oa]=!0}var ku=new Set,Bo={};function br(r,s){bi(r,s),bi(r+"Capture",s)}function bi(r,s){for(Bo[r]=s,r=0;r<s.length;r++)ku.add(s[r])}var eh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),th={},Da={};function nh(r){return fn.call(Da,r)?!0:fn.call(th,r)?!1:eh.test(r)?Da[r]=!0:(th[r]=!0,!1)}function vs(r,s,o){if(nh(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function zr(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function en(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}var Na,rh;function wi(r){if(Na===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Na=s&&s[1]||"",rh=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Na+r+rh}var zo=!1;function Fo(r,s){if(!r||zo)return"";zo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(ee){var Z=ee}Reflect.construct(r,[],se)}else{try{se.call()}catch(ee){Z=ee}r.call(se.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var L=b.split(`
`),X=A.split(`
`);for(d=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;if(u===L.length||d===X.length)for(u=L.length-1,d=X.length-1;1<=u&&0<=d&&L[u]!==X[d];)d--;for(;1<=u&&0<=d;u--,d--)if(L[u]!==X[d]){if(u!==1||d!==1)do if(u--,d--,0>d||L[u]!==X[d]){var ne=`
`+L[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=d);break}}}finally{zo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?wi(o):""}function Vu(r){switch(r.tag){case 26:case 27:case 5:return wi(r.type);case 16:return wi("Lazy");case 13:return wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return Fo(r.type,!1);case 11:return Fo(r.type.render,!1);case 1:return Fo(r.type,!0);case 31:return wi("Activity");default:return""}}function qo(r){try{var s="";do s+=Vu(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Rn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Lu(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function mm(r){var s=Lu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ho(r){r._valueTracker||(r._valueTracker=mm(r))}function Uu(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=Lu(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Ma(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var gm=/[\n"\\]/g;function Dt(r){return r.replace(gm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Fn(r,s,o,u,d,g,b,A){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Rn(s)):r.value!==""+Rn(s)&&(r.value=""+Rn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?_s(r,b,Rn(s)):o!=null?_s(r,b,Rn(o)):u!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+Rn(A):r.removeAttribute("name")}function Pa(r,s,o,u,d,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+Rn(o):"",s=s!=null?""+Rn(s):o,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function _s(r,s,o){s==="number"&&Ma(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Si(r,s,o,u){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Rn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,u&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function lt(r,s,o){if(s!=null&&(s=""+Rn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Rn(o):""}function ka(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(Pe(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Rn(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function ir(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Va=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ih(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||Va.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ju(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&ih(r,d,u)}else for(var g in s)s.hasOwnProperty(g)&&ih(r,g,s[g])}function Bu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ym=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $o(r){return vm.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ri=null;function sr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ai=null,Ci=null;function zu(r){var s=jr(r);if(s&&(r=s.stateNode)){var o=r[Ot]||null;e:switch(r=s.stateNode,s.type){case"input":if(Fn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Dt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var d=u[Ot]||null;if(!d)throw Error(i(90));Fn(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&Uu(u)}break e;case"textarea":lt(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Si(r,!!o.multiple,s,!1)}}}var Fr=!1;function sh(r,s,o){if(Fr)return r(s,o);Fr=!0;try{var u=r(s);return u}finally{if(Fr=!1,(Ai!==null||Ci!==null)&&(Zh(),Ai&&(s=Ai,r=Ci,Ci=Ai=null,zu(s),r)))for(s=0;s<r.length;s++)zu(r[s])}}function La(r,s){var o=r.stateNode;if(o===null)return null;var u=o[Ot]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ar=!1;if(wr)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){ar=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{ar=!1}var qr=null,Es=null,Ii=null;function Fu(){if(Ii)return Ii;var r,s=Es,o=s.length,u,d="value"in qr?qr.value:qr.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var b=o-r;for(u=1;u<=b&&s[o-u]===d[g-u];u++);return Ii=d.slice(r,1<u?1-u:void 0)}function Hr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function $r(){return!0}function qu(){return!1}function Gt(r){function s(o,u,d,g,b){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$r:qu,this.isPropagationStopped=qu,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),s}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=Gt(nt),ja=y({},nt,{view:0,detail:0}),ah=Gt(ja),Ko,Qo,Gr,Ba=y({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Gr&&(Gr&&r.type==="mousemove"?(Ko=r.screenX-Gr.screenX,Qo=r.screenY-Gr.screenY):Qo=Ko=0,Gr=r),Ko)},movementY:function(r){return"movementY"in r?r.movementY:Qo}}),or=Gt(Ba),oh=y({},Ba,{dataTransfer:0}),_m=Gt(oh),za=y({},ja,{relatedTarget:0}),Yo=Gt(za),Hu=y({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),Xo=Gt(Hu),lh=y({},nt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Wo=Gt(lh),Em=y({},nt,{data:0}),$u=Gt(Em),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ch={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ch[r])?!!s[r]:!1}function qa(){return Gu}var fh=y({},ja,{key:function(r){if(r.key){var s=Fa[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Hr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?uh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(r){return r.type==="keypress"?Hr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Hr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Zo=Gt(fh),hh=y({},Ba,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ku=Gt(hh),xi=y({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),dh=Gt(xi),ph=y({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),mh=Gt(ph),gh=y({},Ba,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Jo=Gt(gh),An=y({},nt,{newState:0,oldState:0}),yh=Gt(An),vh=[9,13,27,32],Kr=wr&&"CompositionEvent"in window,f=null;wr&&"documentMode"in document&&(f=document.documentMode);var v=wr&&"TextEvent"in window&&!f,T=wr&&(!Kr||f&&8<f&&11>=f),O=" ",Q=!1;function te(r,s){switch(r){case"keyup":return vh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ye=!1;function Ut(r,s){switch(r){case"compositionend":return fe(s);case"keypress":return s.which!==32?null:(Q=!0,O);case"textInput":return r=s.data,r===O&&Q?null:r;default:return null}}function Xe(r,s){if(Ye)return r==="compositionend"||!Kr&&te(r,s)?(r=Fu(),Ii=Es=qr=null,Ye=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Kt[r.type]:s==="textarea"}function Oi(r,s,o,u){Ai?Ci?Ci.push(u):Ci=[u]:Ai=u,s=id(s,"onChange"),0<s.length&&(o=new Go("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var tn=null,Qr=null;function Qu(r){ub(r,0)}function _h(r){var s=Br(r);if(Uu(s))return r}function OE(r,s){if(r==="change")return s}var DE=!1;if(wr){var Tm;if(wr){var bm="oninput"in document;if(!bm){var NE=document.createElement("div");NE.setAttribute("oninput","return;"),bm=typeof NE.oninput=="function"}Tm=bm}else Tm=!1;DE=Tm&&(!document.documentMode||9<document.documentMode)}function ME(){tn&&(tn.detachEvent("onpropertychange",PE),Qr=tn=null)}function PE(r){if(r.propertyName==="value"&&_h(Qr)){var s=[];Oi(s,Qr,r,sr(r)),sh(Qu,s)}}function Gx(r,s,o){r==="focusin"?(ME(),tn=s,Qr=o,tn.attachEvent("onpropertychange",PE)):r==="focusout"&&ME()}function Kx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return _h(Qr)}function Qx(r,s){if(r==="click")return _h(s)}function Yx(r,s){if(r==="input"||r==="change")return _h(s)}function Xx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var qn=typeof Object.is=="function"?Object.is:Xx;function Yu(r,s){if(qn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!fn.call(s,d)||!qn(r[d],s[d]))return!1}return!0}function kE(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function VE(r,s){var o=kE(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kE(o)}}function LE(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?LE(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function UE(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ma(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ma(r.document)}return s}function wm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Wx=wr&&"documentMode"in document&&11>=document.documentMode,el=null,Sm=null,Xu=null,Rm=!1;function jE(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rm||el==null||el!==Ma(u)||(u=el,"selectionStart"in u&&wm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Xu&&Yu(Xu,u)||(Xu=u,u=id(Sm,"onSelect"),0<u.length&&(s=new Go("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=el)))}function Ha(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var tl={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},Am={},BE={};wr&&(BE=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function $a(r){if(Am[r])return Am[r];if(!tl[r])return r;var s=tl[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in BE)return Am[r]=s[o];return r}var zE=$a("animationend"),FE=$a("animationiteration"),qE=$a("animationstart"),Zx=$a("transitionrun"),Jx=$a("transitionstart"),eO=$a("transitioncancel"),HE=$a("transitionend"),$E=new Map,Cm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cm.push("scrollEnd");function Sr(r,s){$E.set(r,s),br(s,[r])}var GE=new WeakMap;function lr(r,s){if(typeof r=="object"&&r!==null){var o=GE.get(r);return o!==void 0?o:(s={value:r,source:s,stack:qo(s)},GE.set(r,s),s)}return{value:r,source:s,stack:qo(s)}}var ur=[],nl=0,Im=0;function Eh(){for(var r=nl,s=Im=nl=0;s<r;){var o=ur[s];ur[s++]=null;var u=ur[s];ur[s++]=null;var d=ur[s];ur[s++]=null;var g=ur[s];if(ur[s++]=null,u!==null&&d!==null){var b=u.pending;b===null?d.next=d:(d.next=b.next,b.next=d),u.pending=d}g!==0&&KE(o,d,g)}}function Th(r,s,o,u){ur[nl++]=r,ur[nl++]=s,ur[nl++]=o,ur[nl++]=u,Im|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function xm(r,s,o,u){return Th(r,s,o,u),bh(r)}function rl(r,s){return Th(r,null,null,s),bh(r)}function KE(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,d&&s!==null&&(d=31-mn(o),r=g.hiddenUpdates,u=r[d],u===null?r[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function bh(r){if(50<Tc)throw Tc=0,kg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var il={};function tO(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(r,s,o,u){return new tO(r,s,o,u)}function Om(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Di(r,s){var o=r.alternate;return o===null?(o=Hn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function QE(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function wh(r,s,o,u,d,g){var b=0;if(u=r,typeof r=="function")Om(r)&&(b=1);else if(typeof r=="string")b=rD(r,o,de.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=Hn(31,o,s,d),r.elementType=D,r.lanes=g,r;case C:return Ga(o.children,d,g,s);case k:b=8,d|=24;break;case x:return r=Hn(12,o,s,d|2),r.elementType=x,r.lanes=g,r;case K:return r=Hn(13,o,s,d),r.elementType=K,r.lanes=g,r;case J:return r=Hn(19,o,s,d),r.elementType=J,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:case z:b=10;break e;case G:b=9;break e;case H:b=11;break e;case N:b=14;break e;case I:b=16,u=null;break e}b=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Hn(b,o,s,d),s.elementType=r,s.type=u,s.lanes=g,s}function Ga(r,s,o,u){return r=Hn(7,r,u,s),r.lanes=o,r}function Dm(r,s,o){return r=Hn(6,r,null,s),r.lanes=o,r}function Nm(r,s,o){return s=Hn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var sl=[],al=0,Sh=null,Rh=0,cr=[],fr=0,Ka=null,Ni=1,Mi="";function Qa(r,s){sl[al++]=Rh,sl[al++]=Sh,Sh=r,Rh=s}function YE(r,s,o){cr[fr++]=Ni,cr[fr++]=Mi,cr[fr++]=Ka,Ka=r;var u=Ni;r=Mi;var d=32-mn(u)-1;u&=~(1<<d),o+=1;var g=32-mn(s)+d;if(30<g){var b=d-d%5;g=(u&(1<<b)-1).toString(32),u>>=b,d-=b,Ni=1<<32-mn(s)+d|o<<d|u,Mi=g+r}else Ni=1<<g|o<<d|u,Mi=r}function Mm(r){r.return!==null&&(Qa(r,1),YE(r,1,0))}function Pm(r){for(;r===Sh;)Sh=sl[--al],sl[al]=null,Rh=sl[--al],sl[al]=null;for(;r===Ka;)Ka=cr[--fr],cr[fr]=null,Mi=cr[--fr],cr[fr]=null,Ni=cr[--fr],cr[fr]=null}var Cn=null,Tt=null,tt=!1,Ya=null,Yr=!1,km=Error(i(519));function Xa(r){var s=Error(i(418,""));throw Ju(lr(s,r)),km}function XE(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Lt]=r,s[Ot]=u,o){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(o=0;o<wc.length;o++)He(wc[o],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),Pa(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ho(s);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),ka(s,u.value,u.defaultValue,u.children),Ho(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||db(s.textContent,o)?(u.popover!=null&&(He("beforetoggle",s),He("toggle",s)),u.onScroll!=null&&He("scroll",s),u.onScrollEnd!=null&&He("scrollend",s),u.onClick!=null&&(s.onclick=sd),s=!0):s=!1,s||Xa(r)}function WE(r){for(Cn=r.return;Cn;)switch(Cn.tag){case 5:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:Cn=Cn.return}}function Wu(r){if(r!==Cn)return!1;if(!tt)return WE(r),tt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Wg(r.type,r.memoizedProps)),o=!o),o&&Tt&&Xa(r),WE(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Tt=Ar(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Tt=null}}else s===27?(s=Tt,Vs(r.type)?(r=ty,ty=null,Tt=r):Tt=s):Tt=Cn?Ar(r.stateNode.nextSibling):null;return!0}function Zu(){Tt=Cn=null,tt=!1}function ZE(){var r=Ya;return r!==null&&(Pn===null?Pn=r:Pn.push.apply(Pn,r),Ya=null),r}function Ju(r){Ya===null?Ya=[r]:Ya.push(r)}var Vm=re(null),Wa=null,Pi=null;function Ts(r,s,o){oe(Vm,s._currentValue),s._currentValue=o}function ki(r){r._currentValue=Vm.current,ce(Vm)}function Lm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function Um(r,s,o,u){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=d;for(var L=0;L<s.length;L++)if(A.context===s[L]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Lm(g.return,o,r),u||(b=null);break e}g=A.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Lm(b,o,r),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===r){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function ec(r,s,o,u){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var A=d.type;qn(d.pendingProps.value,b.value)||(r!==null?r.push(A):r=[A])}}else if(d===ot.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(xc):r=[xc])}d=d.return}r!==null&&Um(s,r,o,u),s.flags|=262144}function Ah(r){for(r=r.firstContext;r!==null;){if(!qn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Za(r){Wa=r,Pi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function gn(r){return JE(Wa,r)}function Ch(r,s){return Wa===null&&Za(r),JE(r,s)}function JE(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Pi===null){if(r===null)throw Error(i(308));Pi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Pi=Pi.next=s;return o}var nO=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},rO=n.unstable_scheduleCallback,iO=n.unstable_NormalPriority,Bt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new nO,data:new Map,refCount:0}}function tc(r){r.refCount--,r.refCount===0&&rO(iO,function(){r.controller.abort()})}var nc=null,Bm=0,ol=0,ll=null;function sO(r,s){if(nc===null){var o=nc=[];Bm=0,ol=Fg(),ll={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Bm++,s.then(e0,e0),s}function e0(){if(--Bm===0&&nc!==null){ll!==null&&(ll.status="fulfilled");var r=nc;nc=null,ol=0,ll=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function aO(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var t0=W.S;W.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&sO(r,s),t0!==null&&t0(r,s)};var Ja=re(null);function zm(){var r=Ja.current;return r!==null?r:dt.pooledCache}function Ih(r,s){s===null?oe(Ja,Ja.current):oe(Ja,s.pool)}function n0(){var r=zm();return r===null?null:{parent:Bt._currentValue,pool:r}}var rc=Error(i(460)),r0=Error(i(474)),xh=Error(i(542)),Fm={then:function(){}};function i0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Oh(){}function s0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Oh,Oh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,o0(r),r;default:if(typeof s.status=="string")s.then(Oh,Oh);else{if(r=dt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,o0(r),r}throw ic=s,rc}}var ic=null;function a0(){if(ic===null)throw Error(i(459));var r=ic;return ic=null,r}function o0(r){if(r===rc||r===xh)throw Error(i(483))}var bs=!1;function qm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ws(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ss(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(st&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=bh(r),KE(r,null,o),s}return Th(r,u,s,o),bh(r)}function sc(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Mu(r,o)}}function $m(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Gm=!1;function ac(){if(Gm){var r=ll;if(r!==null)throw r}}function oc(r,s,o,u){Gm=!1;var d=r.updateQueue;bs=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var L=A,X=L.next;L.next=null,b===null?g=X:b.next=X,b=L;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,A=ne.lastBaseUpdate,A!==b&&(A===null?ne.firstBaseUpdate=X:A.next=X,ne.lastBaseUpdate=L))}if(g!==null){var se=d.baseState;b=0,ne=X=L=null,A=g;do{var Z=A.lane&-536870913,ee=Z!==A.lane;if(ee?(We&Z)===Z:(u&Z)===Z){Z!==0&&Z===ol&&(Gm=!0),ne!==null&&(ne=ne.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Oe=r,Re=A;Z=s;var ft=o;switch(Re.tag){case 1:if(Oe=Re.payload,typeof Oe=="function"){se=Oe.call(ft,se,Z);break e}se=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Re.payload,Z=typeof Oe=="function"?Oe.call(ft,se,Z):Oe,Z==null)break e;se=y({},se,Z);break e;case 2:bs=!0}}Z=A.callback,Z!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=d.callbacks,ee===null?d.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ne===null?(X=ne=ee,L=se):ne=ne.next=ee,b|=Z;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,d.lastBaseUpdate=ee,d.shared.pending=null}}while(!0);ne===null&&(L=se),d.baseState=L,d.firstBaseUpdate=X,d.lastBaseUpdate=ne,g===null&&(d.shared.lanes=0),Ns|=b,r.lanes=b,r.memoizedState=se}}function l0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function u0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)l0(o[r],s)}var ul=re(null),Dh=re(0);function c0(r,s){r=Fi,oe(Dh,r),oe(ul,s),Fi=r|s.baseLanes}function Km(){oe(Dh,Fi),oe(ul,ul.current)}function Qm(){Fi=Dh.current,ce(ul),ce(Dh)}var Rs=0,je=null,ut=null,Nt=null,Nh=!1,cl=!1,eo=!1,Mh=0,lc=0,fl=null,oO=0;function At(){throw Error(i(321))}function Ym(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!qn(r[o],s[o]))return!1;return!0}function Xm(r,s,o,u,d,g){return Rs=g,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=r===null||r.memoizedState===null?K0:Q0,eo=!1,g=o(u,d),eo=!1,cl&&(g=h0(s,o,u,d)),f0(r),g}function f0(r){W.H=jh;var s=ut!==null&&ut.next!==null;if(Rs=0,Nt=ut=je=null,Nh=!1,lc=0,fl=null,s)throw Error(i(300));r===null||Qt||(r=r.dependencies,r!==null&&Ah(r)&&(Qt=!0))}function h0(r,s,o,u){je=r;var d=0;do{if(cl&&(fl=null),lc=0,cl=!1,25<=d)throw Error(i(301));if(d+=1,Nt=ut=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=pO,g=s(o,u)}while(cl);return g}function lO(){var r=W.H,s=r.useState()[0];return s=typeof s.then=="function"?uc(s):s,r=r.useState()[0],(ut!==null?ut.memoizedState:null)!==r&&(je.flags|=1024),s}function Wm(){var r=Mh!==0;return Mh=0,r}function Zm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Jm(r){if(Nh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nh=!1}Rs=0,Nt=ut=je=null,cl=!1,lc=Mh=0,fl=null}function Nn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?je.memoizedState=Nt=r:Nt=Nt.next=r,Nt}function Mt(){if(ut===null){var r=je.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var s=Nt===null?je.memoizedState:Nt.next;if(s!==null)Nt=s,ut=r;else{if(r===null)throw je.alternate===null?Error(i(467)):Error(i(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Nt===null?je.memoizedState=Nt=r:Nt=Nt.next=r}return Nt}function eg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uc(r){var s=lc;return lc+=1,fl===null&&(fl=[]),r=s0(fl,r,s),s=je,(Nt===null?s.memoizedState:Nt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?K0:Q0),r}function Ph(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return uc(r);if(r.$$typeof===z)return gn(r)}throw Error(i(438,String(r)))}function tg(r){var s=null,o=je.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=je.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=eg(),je.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=P;return s.index++,o}function Vi(r,s){return typeof s=="function"?s(r):s}function kh(r){var s=Mt();return ng(s,ut,r)}function ng(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var d=r.baseQueue,g=u.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}s.baseQueue=d=g,u.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var A=b=null,L=null,X=s,ne=!1;do{var se=X.lane&-536870913;if(se!==X.lane?(We&se)===se:(Rs&se)===se){var Z=X.revertLane;if(Z===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),se===ol&&(ne=!0);else if((Rs&Z)===Z){X=X.next,Z===ol&&(ne=!0);continue}else se={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(A=L=se,b=g):L=L.next=se,je.lanes|=Z,Ns|=Z;se=X.action,eo&&o(g,se),g=X.hasEagerState?X.eagerState:o(g,se)}else Z={lane:se,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},L===null?(A=L=Z,b=g):L=L.next=Z,je.lanes|=se,Ns|=se;X=X.next}while(X!==null&&X!==s);if(L===null?b=g:L.next=A,!qn(g,r.memoizedState)&&(Qt=!0,ne&&(o=ll,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=L,u.lastRenderedState=g}return d===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function rg(r){var s=Mt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=r(g,b.action),b=b.next;while(b!==d);qn(g,s.memoizedState)||(Qt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function d0(r,s,o){var u=je,d=Mt(),g=tt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!qn((ut||d).memoizedState,o);b&&(d.memoizedState=o,Qt=!0),d=d.queue;var A=g0.bind(null,u,d,r);if(cc(2048,8,A,[r]),d.getSnapshot!==s||b||Nt!==null&&Nt.memoizedState.tag&1){if(u.flags|=2048,hl(9,Vh(),m0.bind(null,u,d,o,s),null),dt===null)throw Error(i(349));g||(Rs&124)!==0||p0(u,s,o)}return o}function p0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=je.updateQueue,s===null?(s=eg(),je.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function m0(r,s,o,u){s.value=o,s.getSnapshot=u,y0(s)&&v0(r)}function g0(r,s,o){return o(function(){y0(s)&&v0(r)})}function y0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!qn(r,o)}catch{return!0}}function v0(r){var s=rl(r,2);s!==null&&Yn(s,r,2)}function ig(r){var s=Nn();if(typeof r=="function"){var o=r;if(r=o(),eo){Vt(!0);try{o()}finally{Vt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:r},s}function _0(r,s,o,u){return r.baseState=o,ng(r,ut,typeof u=="function"?u:Vi)}function uO(r,s,o,u,d){if(Uh(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,E0(s,g)):(g.next=o.next,s.pending=o.next=g)}}function E0(r,s){var o=s.action,u=s.payload,d=r.state;if(s.isTransition){var g=W.T,b={};W.T=b;try{var A=o(d,u),L=W.S;L!==null&&L(b,A),T0(r,s,A)}catch(X){sg(r,s,X)}finally{W.T=g}}else try{g=o(d,u),T0(r,s,g)}catch(X){sg(r,s,X)}}function T0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){b0(r,s,u)},function(u){return sg(r,s,u)}):b0(r,s,o)}function b0(r,s,o){s.status="fulfilled",s.value=o,w0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,E0(r,o)))}function sg(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,w0(s),s=s.next;while(s!==u)}r.action=null}function w0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function S0(r,s){return s}function R0(r,s){if(tt){var o=dt.formState;if(o!==null){e:{var u=je;if(tt){if(Tt){t:{for(var d=Tt,g=Yr;d.nodeType!==8;){if(!g){d=null;break t}if(d=Ar(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Tt=Ar(d.nextSibling),u=d.data==="F!";break e}}Xa(u)}u=!1}u&&(s=o[0])}}return o=Nn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S0,lastRenderedState:s},o.queue=u,o=H0.bind(null,je,u),u.dispatch=o,u=ig(!1),g=cg.bind(null,je,!1,u.queue),u=Nn(),d={state:s,dispatch:null,action:r,pending:null},u.queue=d,o=uO.bind(null,je,d,g,o),d.dispatch=o,u.memoizedState=r,[s,o,!1]}function A0(r){var s=Mt();return C0(s,ut,r)}function C0(r,s,o){if(s=ng(r,s,S0)[0],r=kh(Vi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=uc(s)}catch(b){throw b===rc?xh:b}else u=s;s=Mt();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(je.flags|=2048,hl(9,Vh(),cO.bind(null,d,o),null)),[u,g,r]}function cO(r,s){r.action=s}function I0(r){var s=Mt(),o=ut;if(o!==null)return C0(s,o,r);Mt(),s=s.memoizedState,o=Mt();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function hl(r,s,o,u){return r={tag:r,create:o,deps:u,inst:s,next:null},s=je.updateQueue,s===null&&(s=eg(),je.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function Vh(){return{destroy:void 0,resource:void 0}}function x0(){return Mt().memoizedState}function Lh(r,s,o,u){var d=Nn();u=u===void 0?null:u,je.flags|=r,d.memoizedState=hl(1|s,Vh(),o,u)}function cc(r,s,o,u){var d=Mt();u=u===void 0?null:u;var g=d.memoizedState.inst;ut!==null&&u!==null&&Ym(u,ut.memoizedState.deps)?d.memoizedState=hl(s,g,o,u):(je.flags|=r,d.memoizedState=hl(1|s,g,o,u))}function O0(r,s){Lh(8390656,8,r,s)}function D0(r,s){cc(2048,8,r,s)}function N0(r,s){return cc(4,2,r,s)}function M0(r,s){return cc(4,4,r,s)}function P0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function k0(r,s,o){o=o!=null?o.concat([r]):null,cc(4,4,P0.bind(null,s,r),o)}function ag(){}function V0(r,s){var o=Mt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Ym(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function L0(r,s){var o=Mt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Ym(s,u[1]))return u[0];if(u=r(),eo){Vt(!0);try{r()}finally{Vt(!1)}}return o.memoizedState=[u,s],u}function og(r,s,o){return o===void 0||(Rs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=BT(),je.lanes|=r,Ns|=r,o)}function U0(r,s,o,u){return qn(o,s)?o:ul.current!==null?(r=og(r,o,u),qn(r,s)||(Qt=!0),r):(Rs&42)===0?(Qt=!0,r.memoizedState=o):(r=BT(),je.lanes|=r,Ns|=r,s)}function j0(r,s,o,u,d){var g=le.p;le.p=g!==0&&8>g?g:8;var b=W.T,A={};W.T=A,cg(r,!1,s,o);try{var L=d(),X=W.S;if(X!==null&&X(A,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ne=aO(L,u);fc(r,s,ne,Qn(r))}else fc(r,s,u,Qn(r))}catch(se){fc(r,s,{then:function(){},status:"rejected",reason:se},Qn())}finally{le.p=g,W.T=b}}function fO(){}function lg(r,s,o,u){if(r.tag!==5)throw Error(i(476));var d=B0(r).queue;j0(r,d,s,he,o===null?fO:function(){return z0(r),o(u)})}function B0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:he},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function z0(r){var s=B0(r).next.queue;fc(r,s,{},Qn())}function ug(){return gn(xc)}function F0(){return Mt().memoizedState}function q0(){return Mt().memoizedState}function hO(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Qn();r=ws(o);var u=Ss(s,r,o);u!==null&&(Yn(u,s,o),sc(u,s,o)),s={cache:jm()},r.payload=s;return}s=s.return}}function dO(r,s,o){var u=Qn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Uh(r)?$0(s,o):(o=xm(r,s,o,u),o!==null&&(Yn(o,r,u),G0(o,s,u)))}function H0(r,s,o){var u=Qn();fc(r,s,o,u)}function fc(r,s,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uh(r))$0(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,A=g(b,o);if(d.hasEagerState=!0,d.eagerState=A,qn(A,b))return Th(r,s,d,0),dt===null&&Eh(),!1}catch{}finally{}if(o=xm(r,s,d,u),o!==null)return Yn(o,r,u),G0(o,s,u),!0}return!1}function cg(r,s,o,u){if(u={lane:2,revertLane:Fg(),action:u,hasEagerState:!1,eagerState:null,next:null},Uh(r)){if(s)throw Error(i(479))}else s=xm(r,o,u,2),s!==null&&Yn(s,r,2)}function Uh(r){var s=r.alternate;return r===je||s!==null&&s===je}function $0(r,s){cl=Nh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function G0(r,s,o){if((o&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Mu(r,o)}}var jh={readContext:gn,use:Ph,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},K0={readContext:gn,use:Ph,useCallback:function(r,s){return Nn().memoizedState=[r,s===void 0?null:s],r},useContext:gn,useEffect:O0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Lh(4194308,4,P0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Lh(4194308,4,r,s)},useInsertionEffect:function(r,s){Lh(4,2,r,s)},useMemo:function(r,s){var o=Nn();s=s===void 0?null:s;var u=r();if(eo){Vt(!0);try{r()}finally{Vt(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=Nn();if(o!==void 0){var d=o(s);if(eo){Vt(!0);try{o(s)}finally{Vt(!1)}}}else d=s;return u.memoizedState=u.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},u.queue=r,r=r.dispatch=dO.bind(null,je,r),[u.memoizedState,r]},useRef:function(r){var s=Nn();return r={current:r},s.memoizedState=r},useState:function(r){r=ig(r);var s=r.queue,o=H0.bind(null,je,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:ag,useDeferredValue:function(r,s){var o=Nn();return og(o,r,s)},useTransition:function(){var r=ig(!1);return r=j0.bind(null,je,r.queue,!0,!1),Nn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=je,d=Nn();if(tt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),dt===null)throw Error(i(349));(We&124)!==0||p0(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,O0(g0.bind(null,u,g,r),[r]),u.flags|=2048,hl(9,Vh(),m0.bind(null,u,g,o,s),null),o},useId:function(){var r=Nn(),s=dt.identifierPrefix;if(tt){var o=Mi,u=Ni;o=(u&~(1<<32-mn(u)-1)).toString(32)+o,s=""+s+"R"+o,o=Mh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=oO++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:ug,useFormState:R0,useActionState:R0,useOptimistic:function(r){var s=Nn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=cg.bind(null,je,!0,o),o.dispatch=s,[r,s]},useMemoCache:tg,useCacheRefresh:function(){return Nn().memoizedState=hO.bind(null,je)}},Q0={readContext:gn,use:Ph,useCallback:V0,useContext:gn,useEffect:D0,useImperativeHandle:k0,useInsertionEffect:N0,useLayoutEffect:M0,useMemo:L0,useReducer:kh,useRef:x0,useState:function(){return kh(Vi)},useDebugValue:ag,useDeferredValue:function(r,s){var o=Mt();return U0(o,ut.memoizedState,r,s)},useTransition:function(){var r=kh(Vi)[0],s=Mt().memoizedState;return[typeof r=="boolean"?r:uc(r),s]},useSyncExternalStore:d0,useId:F0,useHostTransitionStatus:ug,useFormState:A0,useActionState:A0,useOptimistic:function(r,s){var o=Mt();return _0(o,ut,r,s)},useMemoCache:tg,useCacheRefresh:q0},pO={readContext:gn,use:Ph,useCallback:V0,useContext:gn,useEffect:D0,useImperativeHandle:k0,useInsertionEffect:N0,useLayoutEffect:M0,useMemo:L0,useReducer:rg,useRef:x0,useState:function(){return rg(Vi)},useDebugValue:ag,useDeferredValue:function(r,s){var o=Mt();return ut===null?og(o,r,s):U0(o,ut.memoizedState,r,s)},useTransition:function(){var r=rg(Vi)[0],s=Mt().memoizedState;return[typeof r=="boolean"?r:uc(r),s]},useSyncExternalStore:d0,useId:F0,useHostTransitionStatus:ug,useFormState:I0,useActionState:I0,useOptimistic:function(r,s){var o=Mt();return ut!==null?_0(o,ut,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:tg,useCacheRefresh:q0},dl=null,hc=0;function Bh(r){var s=hc;return hc+=1,dl===null&&(dl=[]),s0(dl,r,s)}function dc(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function zh(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Y0(r){var s=r._init;return s(r._payload)}function X0(r){function s($,F){if(r){var Y=$.deletions;Y===null?($.deletions=[F],$.flags|=16):Y.push(F)}}function o($,F){if(!r)return null;for(;F!==null;)s($,F),F=F.sibling;return null}function u($){for(var F=new Map;$!==null;)$.key!==null?F.set($.key,$):F.set($.index,$),$=$.sibling;return F}function d($,F){return $=Di($,F),$.index=0,$.sibling=null,$}function g($,F,Y){return $.index=Y,r?(Y=$.alternate,Y!==null?(Y=Y.index,Y<F?($.flags|=67108866,F):Y):($.flags|=67108866,F)):($.flags|=1048576,F)}function b($){return r&&$.alternate===null&&($.flags|=67108866),$}function A($,F,Y,ie){return F===null||F.tag!==6?(F=Dm(Y,$.mode,ie),F.return=$,F):(F=d(F,Y),F.return=$,F)}function L($,F,Y,ie){var ge=Y.type;return ge===C?ne($,F,Y.props.children,ie,Y.key):F!==null&&(F.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&Y0(ge)===F.type)?(F=d(F,Y.props),dc(F,Y),F.return=$,F):(F=wh(Y.type,Y.key,Y.props,null,$.mode,ie),dc(F,Y),F.return=$,F)}function X($,F,Y,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==Y.containerInfo||F.stateNode.implementation!==Y.implementation?(F=Nm(Y,$.mode,ie),F.return=$,F):(F=d(F,Y.children||[]),F.return=$,F)}function ne($,F,Y,ie,ge){return F===null||F.tag!==7?(F=Ga(Y,$.mode,ie,ge),F.return=$,F):(F=d(F,Y),F.return=$,F)}function se($,F,Y){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Dm(""+F,$.mode,Y),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return Y=wh(F.type,F.key,F.props,null,$.mode,Y),dc(Y,F),Y.return=$,Y;case S:return F=Nm(F,$.mode,Y),F.return=$,F;case I:var ie=F._init;return F=ie(F._payload),se($,F,Y)}if(Pe(F)||B(F))return F=Ga(F,$.mode,Y,null),F.return=$,F;if(typeof F.then=="function")return se($,Bh(F),Y);if(F.$$typeof===z)return se($,Ch($,F),Y);zh($,F)}return null}function Z($,F,Y,ie){var ge=F!==null?F.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ge!==null?null:A($,F,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:return Y.key===ge?L($,F,Y,ie):null;case S:return Y.key===ge?X($,F,Y,ie):null;case I:return ge=Y._init,Y=ge(Y._payload),Z($,F,Y,ie)}if(Pe(Y)||B(Y))return ge!==null?null:ne($,F,Y,ie,null);if(typeof Y.then=="function")return Z($,F,Bh(Y),ie);if(Y.$$typeof===z)return Z($,F,Ch($,Y),ie);zh($,Y)}return null}function ee($,F,Y,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return $=$.get(Y)||null,A(F,$,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return $=$.get(ie.key===null?Y:ie.key)||null,L(F,$,ie,ge);case S:return $=$.get(ie.key===null?Y:ie.key)||null,X(F,$,ie,ge);case I:var Fe=ie._init;return ie=Fe(ie._payload),ee($,F,Y,ie,ge)}if(Pe(ie)||B(ie))return $=$.get(Y)||null,ne(F,$,ie,ge,null);if(typeof ie.then=="function")return ee($,F,Y,Bh(ie),ge);if(ie.$$typeof===z)return ee($,F,Y,Ch(F,ie),ge);zh(F,ie)}return null}function Oe($,F,Y,ie){for(var ge=null,Fe=null,_e=F,Ae=F=0,Xt=null;_e!==null&&Ae<Y.length;Ae++){_e.index>Ae?(Xt=_e,_e=null):Xt=_e.sibling;var et=Z($,_e,Y[Ae],ie);if(et===null){_e===null&&(_e=Xt);break}r&&_e&&et.alternate===null&&s($,_e),F=g(et,F,Ae),Fe===null?ge=et:Fe.sibling=et,Fe=et,_e=Xt}if(Ae===Y.length)return o($,_e),tt&&Qa($,Ae),ge;if(_e===null){for(;Ae<Y.length;Ae++)_e=se($,Y[Ae],ie),_e!==null&&(F=g(_e,F,Ae),Fe===null?ge=_e:Fe.sibling=_e,Fe=_e);return tt&&Qa($,Ae),ge}for(_e=u(_e);Ae<Y.length;Ae++)Xt=ee(_e,$,Ae,Y[Ae],ie),Xt!==null&&(r&&Xt.alternate!==null&&_e.delete(Xt.key===null?Ae:Xt.key),F=g(Xt,F,Ae),Fe===null?ge=Xt:Fe.sibling=Xt,Fe=Xt);return r&&_e.forEach(function(zs){return s($,zs)}),tt&&Qa($,Ae),ge}function Re($,F,Y,ie){if(Y==null)throw Error(i(151));for(var ge=null,Fe=null,_e=F,Ae=F=0,Xt=null,et=Y.next();_e!==null&&!et.done;Ae++,et=Y.next()){_e.index>Ae?(Xt=_e,_e=null):Xt=_e.sibling;var zs=Z($,_e,et.value,ie);if(zs===null){_e===null&&(_e=Xt);break}r&&_e&&zs.alternate===null&&s($,_e),F=g(zs,F,Ae),Fe===null?ge=zs:Fe.sibling=zs,Fe=zs,_e=Xt}if(et.done)return o($,_e),tt&&Qa($,Ae),ge;if(_e===null){for(;!et.done;Ae++,et=Y.next())et=se($,et.value,ie),et!==null&&(F=g(et,F,Ae),Fe===null?ge=et:Fe.sibling=et,Fe=et);return tt&&Qa($,Ae),ge}for(_e=u(_e);!et.done;Ae++,et=Y.next())et=ee(_e,$,Ae,et.value,ie),et!==null&&(r&&et.alternate!==null&&_e.delete(et.key===null?Ae:et.key),F=g(et,F,Ae),Fe===null?ge=et:Fe.sibling=et,Fe=et);return r&&_e.forEach(function(mD){return s($,mD)}),tt&&Qa($,Ae),ge}function ft($,F,Y,ie){if(typeof Y=="object"&&Y!==null&&Y.type===C&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case E:e:{for(var ge=Y.key;F!==null;){if(F.key===ge){if(ge=Y.type,ge===C){if(F.tag===7){o($,F.sibling),ie=d(F,Y.props.children),ie.return=$,$=ie;break e}}else if(F.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===I&&Y0(ge)===F.type){o($,F.sibling),ie=d(F,Y.props),dc(ie,Y),ie.return=$,$=ie;break e}o($,F);break}else s($,F);F=F.sibling}Y.type===C?(ie=Ga(Y.props.children,$.mode,ie,Y.key),ie.return=$,$=ie):(ie=wh(Y.type,Y.key,Y.props,null,$.mode,ie),dc(ie,Y),ie.return=$,$=ie)}return b($);case S:e:{for(ge=Y.key;F!==null;){if(F.key===ge)if(F.tag===4&&F.stateNode.containerInfo===Y.containerInfo&&F.stateNode.implementation===Y.implementation){o($,F.sibling),ie=d(F,Y.children||[]),ie.return=$,$=ie;break e}else{o($,F);break}else s($,F);F=F.sibling}ie=Nm(Y,$.mode,ie),ie.return=$,$=ie}return b($);case I:return ge=Y._init,Y=ge(Y._payload),ft($,F,Y,ie)}if(Pe(Y))return Oe($,F,Y,ie);if(B(Y)){if(ge=B(Y),typeof ge!="function")throw Error(i(150));return Y=ge.call(Y),Re($,F,Y,ie)}if(typeof Y.then=="function")return ft($,F,Bh(Y),ie);if(Y.$$typeof===z)return ft($,F,Ch($,Y),ie);zh($,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,F!==null&&F.tag===6?(o($,F.sibling),ie=d(F,Y),ie.return=$,$=ie):(o($,F),ie=Dm(Y,$.mode,ie),ie.return=$,$=ie),b($)):o($,F)}return function($,F,Y,ie){try{hc=0;var ge=ft($,F,Y,ie);return dl=null,ge}catch(_e){if(_e===rc||_e===xh)throw _e;var Fe=Hn(29,_e,null,$.mode);return Fe.lanes=ie,Fe.return=$,Fe}finally{}}}var pl=X0(!0),W0=X0(!1),hr=re(null),Xr=null;function As(r){var s=r.alternate;oe(zt,zt.current&1),oe(hr,r),Xr===null&&(s===null||ul.current!==null||s.memoizedState!==null)&&(Xr=r)}function Z0(r){if(r.tag===22){if(oe(zt,zt.current),oe(hr,r),Xr===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Xr=r)}}else Cs()}function Cs(){oe(zt,zt.current),oe(hr,hr.current)}function Li(r){ce(hr),Xr===r&&(Xr=null),ce(zt)}var zt=re(0);function Fh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ey(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function fg(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var hg={enqueueSetState:function(r,s,o){r=r._reactInternals;var u=Qn(),d=ws(u);d.payload=s,o!=null&&(d.callback=o),s=Ss(r,d,u),s!==null&&(Yn(s,r,u),sc(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=Qn(),d=ws(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Ss(r,d,u),s!==null&&(Yn(s,r,u),sc(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Qn(),u=ws(o);u.tag=2,s!=null&&(u.callback=s),s=Ss(r,u,o),s!==null&&(Yn(s,r,o),sc(s,r,o))}};function J0(r,s,o,u,d,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!Yu(o,u)||!Yu(d,g):!0}function eT(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&hg.enqueueReplaceState(s,s.state,null)}function to(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var qh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function tT(r){qh(r)}function nT(r){console.error(r)}function rT(r){qh(r)}function Hh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function iT(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function dg(r,s,o){return o=ws(o),o.tag=3,o.payload={element:null},o.callback=function(){Hh(r,s)},o}function sT(r){return r=ws(r),r.tag=3,r}function aT(r,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;r.payload=function(){return d(g)},r.callback=function(){iT(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){iT(s,o,u),typeof d!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function mO(r,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&ec(s,o,d,!0),o=hr.current,o!==null){switch(o.tag){case 13:return Xr===null?Lg():o.alternate===null&&bt===0&&(bt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Fm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),jg(r,u,d)),!1;case 22:return o.flags|=65536,u===Fm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),jg(r,u,d)),!1}throw Error(i(435,o.tag))}return jg(r,u,d),Lg(),!1}if(tt)return s=hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==km&&(r=Error(i(422),{cause:u}),Ju(lr(r,o)))):(u!==km&&(s=Error(i(423),{cause:u}),Ju(lr(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,u=lr(u,o),d=dg(r.stateNode,u,d),$m(r,d),bt!==4&&(bt=2)),!1;var g=Error(i(520),{cause:u});if(g=lr(g,o),Ec===null?Ec=[g]:Ec.push(g),bt!==4&&(bt=2),s===null)return!0;u=lr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=dg(o.stateNode,u,r),$m(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ms===null||!Ms.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=sT(d),aT(d,r,o,u),$m(o,d),!1}o=o.return}while(o!==null);return!1}var oT=Error(i(461)),Qt=!1;function nn(r,s,o,u){s.child=r===null?W0(s,null,o,u):pl(s,r.child,o,u)}function lT(r,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var A in u)A!=="ref"&&(b[A]=u[A])}else b=u;return Za(s),u=Xm(r,s,o,b,g,d),A=Wm(),r!==null&&!Qt?(Zm(r,s,d),Ui(r,s,d)):(tt&&A&&Mm(s),s.flags|=1,nn(r,s,u,d),s.child)}function uT(r,s,o,u,d){if(r===null){var g=o.type;return typeof g=="function"&&!Om(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,cT(r,s,g,u,d)):(r=wh(o.type,null,u,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Tg(r,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:Yu,o(b,u)&&r.ref===s.ref)return Ui(r,s,d)}return s.flags|=1,r=Di(g,u),r.ref=s.ref,r.return=s,s.child=r}function cT(r,s,o,u,d){if(r!==null){var g=r.memoizedProps;if(Yu(g,u)&&r.ref===s.ref)if(Qt=!1,s.pendingProps=u=g,Tg(r,d))(r.flags&131072)!==0&&(Qt=!0);else return s.lanes=r.lanes,Ui(r,s,d)}return pg(r,s,o,u,d)}function fT(r,s,o){var u=s.pendingProps,d=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return hT(r,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ih(s,g!==null?g.cachePool:null),g!==null?c0(s,g):Km(),Z0(s);else return s.lanes=s.childLanes=536870912,hT(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Ih(s,g.cachePool),c0(s,g),Cs(),s.memoizedState=null):(r!==null&&Ih(s,null),Km(),Cs());return nn(r,s,d,o),s.child}function hT(r,s,o,u){var d=zm();return d=d===null?null:{parent:Bt._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&Ih(s,null),Km(),Z0(s),r!==null&&ec(r,s,u,!0),null}function $h(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function pg(r,s,o,u,d){return Za(s),o=Xm(r,s,o,u,void 0,d),u=Wm(),r!==null&&!Qt?(Zm(r,s,d),Ui(r,s,d)):(tt&&u&&Mm(s),s.flags|=1,nn(r,s,o,d),s.child)}function dT(r,s,o,u,d,g){return Za(s),s.updateQueue=null,o=h0(s,u,o,d),f0(r),u=Wm(),r!==null&&!Qt?(Zm(r,s,g),Ui(r,s,g)):(tt&&u&&Mm(s),s.flags|=1,nn(r,s,o,g),s.child)}function pT(r,s,o,u,d){if(Za(s),s.stateNode===null){var g=il,b=o.contextType;typeof b=="object"&&b!==null&&(g=gn(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=hg,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},qm(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?gn(b):il,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(fg(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&hg.enqueueReplaceState(g,g.state,null),oc(s,u,g,d),ac(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var A=s.memoizedProps,L=to(o,A);g.props=L;var X=g.context,ne=o.contextType;b=il,typeof ne=="object"&&ne!==null&&(b=gn(ne));var se=o.getDerivedStateFromProps;ne=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||X!==b)&&eT(s,g,u,b),bs=!1;var Z=s.memoizedState;g.state=Z,oc(s,u,g,d),ac(),X=s.memoizedState,A||Z!==X||bs?(typeof se=="function"&&(fg(s,o,se,u),X=s.memoizedState),(L=bs||J0(s,o,L,u,Z,X,b))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=b,u=L):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Hm(r,s),b=s.memoizedProps,ne=to(o,b),g.props=ne,se=s.pendingProps,Z=g.context,X=o.contextType,L=il,typeof X=="object"&&X!==null&&(L=gn(X)),A=o.getDerivedStateFromProps,(X=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==se||Z!==L)&&eT(s,g,u,L),bs=!1,Z=s.memoizedState,g.state=Z,oc(s,u,g,d),ac();var ee=s.memoizedState;b!==se||Z!==ee||bs||r!==null&&r.dependencies!==null&&Ah(r.dependencies)?(typeof A=="function"&&(fg(s,o,A,u),ee=s.memoizedState),(ne=bs||J0(s,o,ne,u,Z,ee,L)||r!==null&&r.dependencies!==null&&Ah(r.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ee,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ee,L)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ee),g.props=u,g.state=ee,g.context=L,u=ne):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,$h(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=pl(s,r.child,null,d),s.child=pl(s,null,o,d)):nn(r,s,o,d),s.memoizedState=g.state,r=s.child):r=Ui(r,s,d),r}function mT(r,s,o,u){return Zu(),s.flags|=256,nn(r,s,o,u),s.child}var mg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gg(r){return{baseLanes:r,cachePool:n0()}}function yg(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=dr),r}function gT(r,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(zt.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(tt){if(d?As(s):Cs(),tt){var A=Tt,L;if(L=A){e:{for(L=A,A=Yr;L.nodeType!==8;){if(!A){A=null;break e}if(L=Ar(L.nextSibling),L===null){A=null;break e}}A=L}A!==null?(s.memoizedState={dehydrated:A,treeContext:Ka!==null?{id:Ni,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},L=Hn(18,null,null,0),L.stateNode=A,L.return=s,s.child=L,Cn=s,Tt=null,L=!0):L=!1}L||Xa(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return ey(A)?s.lanes=32:s.lanes=536870912,null;Li(s)}return A=u.children,u=u.fallback,d?(Cs(),d=s.mode,A=Gh({mode:"hidden",children:A},d),u=Ga(u,d,o,null),A.return=s,u.return=s,A.sibling=u,s.child=A,d=s.child,d.memoizedState=gg(o),d.childLanes=yg(r,b,o),s.memoizedState=mg,u):(As(s),vg(s,A))}if(L=r.memoizedState,L!==null&&(A=L.dehydrated,A!==null)){if(g)s.flags&256?(As(s),s.flags&=-257,s=_g(r,s,o)):s.memoizedState!==null?(Cs(),s.child=r.child,s.flags|=128,s=null):(Cs(),d=u.fallback,A=s.mode,u=Gh({mode:"visible",children:u.children},A),d=Ga(d,A,o,null),d.flags|=2,u.return=s,d.return=s,u.sibling=d,s.child=u,pl(s,r.child,null,o),u=s.child,u.memoizedState=gg(o),u.childLanes=yg(r,b,o),s.memoizedState=mg,s=d);else if(As(s),ey(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var X=b.dgst;b=X,u=Error(i(419)),u.stack="",u.digest=b,Ju({value:u,source:null,stack:null}),s=_g(r,s,o)}else if(Qt||ec(r,s,o,!1),b=(o&r.childLanes)!==0,Qt||b){if(b=dt,b!==null&&(u=o&-o,u=(u&42)!==0?1:ps(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==L.retryLane))throw L.retryLane=u,rl(r,u),Yn(b,r,u),oT;A.data==="$?"||Lg(),s=_g(r,s,o)}else A.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=L.treeContext,Tt=Ar(A.nextSibling),Cn=s,tt=!0,Ya=null,Yr=!1,r!==null&&(cr[fr++]=Ni,cr[fr++]=Mi,cr[fr++]=Ka,Ni=r.id,Mi=r.overflow,Ka=s),s=vg(s,u.children),s.flags|=4096);return s}return d?(Cs(),d=u.fallback,A=s.mode,L=r.child,X=L.sibling,u=Di(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,X!==null?d=Di(X,d):(d=Ga(d,A,o,null),d.flags|=2),d.return=s,u.return=s,u.sibling=d,s.child=u,u=d,d=s.child,A=r.child.memoizedState,A===null?A=gg(o):(L=A.cachePool,L!==null?(X=Bt._currentValue,L=L.parent!==X?{parent:X,pool:X}:L):L=n0(),A={baseLanes:A.baseLanes|o,cachePool:L}),d.memoizedState=A,d.childLanes=yg(r,b,o),s.memoizedState=mg,u):(As(s),o=r.child,r=o.sibling,o=Di(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function vg(r,s){return s=Gh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Gh(r,s){return r=Hn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function _g(r,s,o){return pl(s,r.child,null,o),r=vg(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function yT(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Lm(r.return,s,o)}function Eg(r,s,o,u,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=d)}function vT(r,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;if(nn(r,s,u.children,o),u=zt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&yT(r,o,s);else if(r.tag===19)yT(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(oe(zt,u),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&Fh(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Eg(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Fh(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Eg(s,!0,o,null,g);break;case"together":Eg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ui(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Ns|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(ec(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Di(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Di(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Tg(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Ah(r)))}function gO(r,s,o){switch(s.tag){case 3:ze(s,s.stateNode.containerInfo),Ts(s,Bt,r.memoizedState.cache),Zu();break;case 27:case 5:Jt(s);break;case 4:ze(s,s.stateNode.containerInfo);break;case 10:Ts(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(As(s),s.flags|=128,null):(o&s.child.childLanes)!==0?gT(r,s,o):(As(s),r=Ui(r,s,o),r!==null?r.sibling:null);As(s);break;case 19:var d=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(ec(r,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return vT(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),oe(zt,zt.current),u)break;return null;case 22:case 23:return s.lanes=0,fT(r,s,o);case 24:Ts(s,Bt,r.memoizedState.cache)}return Ui(r,s,o)}function _T(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Qt=!0;else{if(!Tg(r,o)&&(s.flags&128)===0)return Qt=!1,gO(r,s,o);Qt=(r.flags&131072)!==0}else Qt=!1,tt&&(s.flags&1048576)!==0&&YE(s,Rh,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,d=u._init;if(u=d(u._payload),s.type=u,typeof u=="function")Om(u)?(r=to(u,r),s.tag=1,s=pT(null,s,u,r,o)):(s.tag=0,s=pg(null,s,u,r,o));else{if(u!=null){if(d=u.$$typeof,d===H){s.tag=11,s=lT(null,s,u,r,o);break e}else if(d===N){s.tag=14,s=uT(null,s,u,r,o);break e}}throw s=Me(u)||u,Error(i(306,s,""))}}return s;case 0:return pg(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=to(u,s.pendingProps),pT(r,s,u,d,o);case 3:e:{if(ze(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,Hm(r,s),oc(s,u,null,o);var b=s.memoizedState;if(u=b.cache,Ts(s,Bt,u),u!==g.cache&&Um(s,[Bt],o,!0),ac(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=mT(r,s,u,o);break e}else if(u!==d){d=lr(Error(i(424)),s),Ju(d),s=mT(r,s,u,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Tt=Ar(r.firstChild),Cn=s,tt=!0,Ya=null,Yr=!0,o=W0(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Zu(),u===d){s=Ui(r,s,o);break e}nn(r,s,u,o)}s=s.child}return s;case 26:return $h(r,s),r===null?(o=wb(s.type,null,s.pendingProps,null))?s.memoizedState=o:tt||(o=s.type,r=s.pendingProps,u=ad(be.current).createElement(o),u[Lt]=s,u[Ot]=r,sn(u,o,r),Rt(u),s.stateNode=u):s.memoizedState=wb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Jt(s),r===null&&tt&&(u=s.stateNode=Eb(s.type,s.pendingProps,be.current),Cn=s,Yr=!0,d=Tt,Vs(s.type)?(ty=d,Tt=Ar(u.firstChild)):Tt=d),nn(r,s,s.pendingProps.children,o),$h(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&tt&&((d=u=Tt)&&(u=HO(u,s.type,s.pendingProps,Yr),u!==null?(s.stateNode=u,Cn=s,Tt=Ar(u.firstChild),Yr=!1,d=!0):d=!1),d||Xa(s)),Jt(s),d=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,u=g.children,Wg(d,g)?u=null:b!==null&&Wg(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=Xm(r,s,lO,null,null,o),xc._currentValue=d),$h(r,s),nn(r,s,u,o),s.child;case 6:return r===null&&tt&&((r=o=Tt)&&(o=$O(o,s.pendingProps,Yr),o!==null?(s.stateNode=o,Cn=s,Tt=null,r=!0):r=!1),r||Xa(s)),null;case 13:return gT(r,s,o);case 4:return ze(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=pl(s,null,u,o):nn(r,s,u,o),s.child;case 11:return lT(r,s,s.type,s.pendingProps,o);case 7:return nn(r,s,s.pendingProps,o),s.child;case 8:return nn(r,s,s.pendingProps.children,o),s.child;case 12:return nn(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ts(s,s.type,u.value),nn(r,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,Za(s),d=gn(d),u=u(d),s.flags|=1,nn(r,s,u,o),s.child;case 14:return uT(r,s,s.type,s.pendingProps,o);case 15:return cT(r,s,s.type,s.pendingProps,o);case 19:return vT(r,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},r===null?(o=Gh(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Di(r.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return fT(r,s,o);case 24:return Za(s),u=gn(Bt),r===null?(d=zm(),d===null&&(d=dt,g=jm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},qm(s),Ts(s,Bt,d)):((r.lanes&o)!==0&&(Hm(r,s),oc(s,null,null,o),ac()),d=r.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ts(s,Bt,u)):(u=g.cache,Ts(s,Bt,u),u!==d.cache&&Um(s,[Bt],o,!0))),nn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ji(r){r.flags|=4}function ET(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Ib(s)){if(s=hr.current,s!==null&&((We&4194048)===We?Xr!==null:(We&62914560)!==We&&(We&536870912)===0||s!==Xr))throw ic=Fm,r0;r.flags|=8192}}function Kh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Du():536870912,r.lanes|=s,vl|=s)}function pc(r,s){if(!tt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function vt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function yO(r,s,o){var u=s.pendingProps;switch(Pm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return vt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ki(Bt),xt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Wu(s)?ji(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ZE())),vt(s),null;case 26:return o=s.memoizedState,r===null?(ji(s),o!==null?(vt(s),ET(s,o)):(vt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(ji(s),vt(s),ET(s,o)):(vt(s),s.flags&=-16777217):(r.memoizedProps!==u&&ji(s),vt(s),s.flags&=-16777217),null;case 27:$t(s),o=be.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ji(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return vt(s),null}r=de.current,Wu(s)?XE(s):(r=Eb(d,u,o),s.stateNode=r,ji(s))}return vt(s),null;case 5:if($t(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ji(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return vt(s),null}if(r=de.current,Wu(s))XE(s);else{switch(d=ad(be.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}r[Lt]=s,r[Ot]=u;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;e:switch(sn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ji(s)}}return vt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&ji(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=be.current,Wu(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,d=Cn,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}r[Lt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||db(r.nodeValue,o)),r||Xa(s)}else r=ad(r).createTextNode(u),r[Lt]=s,s.stateNode=r}return vt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Wu(s),u!==null&&u.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Lt]=s}else Zu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),d=!1}else d=ZE(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Li(s),s):(Li(s),null)}if(Li(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Kh(s,s.updateQueue),vt(s),null;case 4:return xt(),r===null&&Gg(s.stateNode.containerInfo),vt(s),null;case 10:return ki(s.type),vt(s),null;case 19:if(ce(zt),d=s.memoizedState,d===null)return vt(s),null;if(u=(s.flags&128)!==0,g=d.rendering,g===null)if(u)pc(d,!1);else{if(bt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Fh(r),g!==null){for(s.flags|=128,pc(d,!1),r=g.updateQueue,s.updateQueue=r,Kh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)QE(o,r),o=o.sibling;return oe(zt,zt.current&1|2),s.child}r=r.sibling}d.tail!==null&&St()>Xh&&(s.flags|=128,u=!0,pc(d,!1),s.lanes=4194304)}else{if(!u)if(r=Fh(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Kh(s,r),pc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!tt)return vt(s),null}else 2*St()-d.renderingStartTime>Xh&&o!==536870912&&(s.flags|=128,u=!0,pc(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=St(),s.sibling=null,r=zt.current,oe(zt,u?r&1|2:r&1),s):(vt(s),null);case 22:case 23:return Li(s),Qm(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),o=s.updateQueue,o!==null&&Kh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&ce(Ja),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ki(Bt),vt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function vO(r,s){switch(Pm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return ki(Bt),xt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return $t(s),null;case 13:if(Li(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Zu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ce(zt),null;case 4:return xt(),null;case 10:return ki(s.type),null;case 22:case 23:return Li(s),Qm(),r!==null&&ce(Ja),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return ki(Bt),null;case 25:return null;default:return null}}function TT(r,s){switch(Pm(s),s.tag){case 3:ki(Bt),xt();break;case 26:case 27:case 5:$t(s);break;case 4:xt();break;case 13:Li(s);break;case 19:ce(zt);break;case 10:ki(s.type);break;case 22:case 23:Li(s),Qm(),r!==null&&ce(Ja);break;case 24:ki(Bt)}}function mc(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&r)===r){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==d)}}catch(A){ht(s,s.return,A)}}function Is(r,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&r)===r){var b=u.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,d=s;var L=o,X=A;try{X()}catch(ne){ht(d,L,ne)}}}u=u.next}while(u!==g)}}catch(ne){ht(s,s.return,ne)}}function bT(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{u0(s,o)}catch(u){ht(r,r.return,u)}}}function wT(r,s,o){o.props=to(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ht(r,s,u)}}function gc(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(d){ht(r,s,d)}}function Wr(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){ht(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ht(r,s,d)}else o.current=null}function ST(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){ht(r,r.return,d)}}function bg(r,s,o){try{var u=r.stateNode;jO(u,r.type,o,s),u[Ot]=s}catch(d){ht(r,r.return,d)}}function RT(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Vs(r.type)||r.tag===4}function wg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||RT(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Vs(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Sg(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=sd));else if(u!==4&&(u===27&&Vs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Sg(r,s,o),r=r.sibling;r!==null;)Sg(r,s,o),r=r.sibling}function Qh(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&(u===27&&Vs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Qh(r,s,o),r=r.sibling;r!==null;)Qh(r,s,o),r=r.sibling}function AT(r){var s=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);sn(s,u,o),s[Lt]=r,s[Ot]=o}catch(g){ht(r,r.return,g)}}var Bi=!1,Ct=!1,Rg=!1,CT=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function _O(r,s){if(r=r.containerInfo,Yg=hd,r=UE(r),wm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,A=-1,L=-1,X=0,ne=0,se=r,Z=null;t:for(;;){for(var ee;se!==o||d!==0&&se.nodeType!==3||(A=b+d),se!==g||u!==0&&se.nodeType!==3||(L=b+u),se.nodeType===3&&(b+=se.nodeValue.length),(ee=se.firstChild)!==null;)Z=se,se=ee;for(;;){if(se===r)break t;if(Z===o&&++X===d&&(A=b),Z===g&&++ne===u&&(L=b),(ee=se.nextSibling)!==null)break;se=Z,Z=se.parentNode}se=ee}o=A===-1||L===-1?null:{start:A,end:L}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xg={focusedElem:r,selectionRange:o},hd=!1,Yt=s;Yt!==null;)if(s=Yt,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Yt=r;else for(;Yt!==null;){switch(s=Yt,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Oe=to(o.type,d,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Oe,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(Re){ht(o,o.return,Re)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Jg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Jg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Yt=r;break}Yt=s.return}}function IT(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:xs(r,o),u&4&&mc(5,o);break;case 1:if(xs(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(b){ht(o,o.return,b)}else{var d=to(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){ht(o,o.return,b)}}u&64&&bT(o),u&512&&gc(o,o.return);break;case 3:if(xs(r,o),u&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{u0(r,s)}catch(b){ht(o,o.return,b)}}break;case 27:s===null&&u&4&&AT(o);case 26:case 5:xs(r,o),s===null&&u&4&&ST(o),u&512&&gc(o,o.return);break;case 12:xs(r,o);break;case 13:xs(r,o),u&4&&DT(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=IO.bind(null,o),GO(r,o))));break;case 22:if(u=o.memoizedState!==null||Bi,!u){s=s!==null&&s.memoizedState!==null||Ct,d=Bi;var g=Ct;Bi=u,(Ct=s)&&!g?Os(r,o,(o.subtreeFlags&8772)!==0):xs(r,o),Bi=d,Ct=g}break;case 30:break;default:xs(r,o)}}function xT(r){var s=r.alternate;s!==null&&(r.alternate=null,xT(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&ys(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var mt=null,Mn=!1;function zi(r,s,o){for(o=o.child;o!==null;)OT(r,s,o),o=o.sibling}function OT(r,s,o){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(we,o)}catch{}switch(o.tag){case 26:Ct||Wr(o,s),zi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ct||Wr(o,s);var u=mt,d=Mn;Vs(o.type)&&(mt=o.stateNode,Mn=!1),zi(r,s,o),Rc(o.stateNode),mt=u,Mn=d;break;case 5:Ct||Wr(o,s);case 6:if(u=mt,d=Mn,mt=null,zi(r,s,o),mt=u,Mn=d,mt!==null)if(Mn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(g){ht(o,s,g)}else try{mt.removeChild(o.stateNode)}catch(g){ht(o,s,g)}break;case 18:mt!==null&&(Mn?(r=mt,vb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Mc(r)):vb(mt,o.stateNode));break;case 4:u=mt,d=Mn,mt=o.stateNode.containerInfo,Mn=!0,zi(r,s,o),mt=u,Mn=d;break;case 0:case 11:case 14:case 15:Ct||Is(2,o,s),Ct||Is(4,o,s),zi(r,s,o);break;case 1:Ct||(Wr(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&wT(o,s,u)),zi(r,s,o);break;case 21:zi(r,s,o);break;case 22:Ct=(u=Ct)||o.memoizedState!==null,zi(r,s,o),Ct=u;break;default:zi(r,s,o)}}function DT(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Mc(r)}catch(o){ht(s,s.return,o)}}function EO(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new CT),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new CT),s;default:throw Error(i(435,r.tag))}}function Ag(r,s){var o=EO(r);s.forEach(function(u){var d=xO.bind(null,r,u);o.has(u)||(o.add(u),u.then(d,d))})}function $n(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=r,b=s,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Vs(A.type)){mt=A.stateNode,Mn=!1;break e}break;case 5:mt=A.stateNode,Mn=!1;break e;case 3:case 4:mt=A.stateNode.containerInfo,Mn=!0;break e}A=A.return}if(mt===null)throw Error(i(160));OT(g,b,d),mt=null,Mn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)NT(s,r),s=s.sibling}var Rr=null;function NT(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:$n(s,r),Gn(r),u&4&&(Is(3,r,r.return),mc(3,r),Is(5,r,r.return));break;case 1:$n(s,r),Gn(r),u&512&&(Ct||o===null||Wr(o,o.return)),u&64&&Bi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=Rr;if($n(s,r),Gn(r),u&512&&(Ct||o===null||Wr(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Oa]||g[Lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),sn(g,u,o),g[Lt]=r,Rt(g),u=g;break e;case"link":var b=Ab("link","href",d).get(u+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}g=d.createElement(u),sn(g,u,o),d.head.appendChild(g);break;case"meta":if(b=Ab("meta","content",d).get(u+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}g=d.createElement(u),sn(g,u,o),d.head.appendChild(g);break;default:throw Error(i(468,u))}g[Lt]=r,Rt(g),u=g}r.stateNode=u}else Cb(d,r.type,r.stateNode);else r.stateNode=Rb(d,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Cb(d,r.type,r.stateNode):Rb(d,u,r.memoizedProps)):u===null&&r.stateNode!==null&&bg(r,r.memoizedProps,o.memoizedProps)}break;case 27:$n(s,r),Gn(r),u&512&&(Ct||o===null||Wr(o,o.return)),o!==null&&u&4&&bg(r,r.memoizedProps,o.memoizedProps);break;case 5:if($n(s,r),Gn(r),u&512&&(Ct||o===null||Wr(o,o.return)),r.flags&32){d=r.stateNode;try{ir(d,"")}catch(ee){ht(r,r.return,ee)}}u&4&&r.stateNode!=null&&(d=r.memoizedProps,bg(r,d,o!==null?o.memoizedProps:d)),u&1024&&(Rg=!0);break;case 6:if($n(s,r),Gn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(ee){ht(r,r.return,ee)}}break;case 3:if(ud=null,d=Rr,Rr=od(s.containerInfo),$n(s,r),Rr=d,Gn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Mc(s.containerInfo)}catch(ee){ht(r,r.return,ee)}Rg&&(Rg=!1,MT(r));break;case 4:u=Rr,Rr=od(r.stateNode.containerInfo),$n(s,r),Gn(r),Rr=u;break;case 12:$n(s,r),Gn(r);break;case 13:$n(s,r),Gn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ng=St()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ag(r,u)));break;case 22:d=r.memoizedState!==null;var L=o!==null&&o.memoizedState!==null,X=Bi,ne=Ct;if(Bi=X||d,Ct=ne||L,$n(s,r),Ct=ne,Bi=X,Gn(r),u&8192)e:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||L||Bi||Ct||no(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){L=o=s;try{if(g=L.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=L.stateNode;var se=L.memoizedProps.style,Z=se!=null&&se.hasOwnProperty("display")?se.display:null;A.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ee){ht(L,L.return,ee)}}}else if(s.tag===6){if(o===null){L=s;try{L.stateNode.nodeValue=d?"":L.memoizedProps}catch(ee){ht(L,L.return,ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Ag(r,o))));break;case 19:$n(s,r),Gn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Ag(r,u)));break;case 30:break;case 21:break;default:$n(s,r),Gn(r)}}function Gn(r){var s=r.flags;if(s&2){try{for(var o,u=r.return;u!==null;){if(RT(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=wg(r);Qh(r,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(ir(b,""),o.flags&=-33);var A=wg(r);Qh(r,A,b);break;case 3:case 4:var L=o.stateNode.containerInfo,X=wg(r);Sg(r,X,L);break;default:throw Error(i(161))}}catch(ne){ht(r,r.return,ne)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function MT(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;MT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function xs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)IT(r,s.alternate,s),s=s.sibling}function no(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Is(4,s,s.return),no(s);break;case 1:Wr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&wT(s,s.return,o),no(s);break;case 27:Rc(s.stateNode);case 26:case 5:Wr(s,s.return),no(s);break;case 22:s.memoizedState===null&&no(s);break;case 30:no(s);break;default:no(s)}r=r.sibling}}function Os(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Os(d,g,o),mc(4,g);break;case 1:if(Os(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(X){ht(u,u.return,X)}if(u=g,d=u.updateQueue,d!==null){var A=u.stateNode;try{var L=d.shared.hiddenCallbacks;if(L!==null)for(d.shared.hiddenCallbacks=null,d=0;d<L.length;d++)l0(L[d],A)}catch(X){ht(u,u.return,X)}}o&&b&64&&bT(g),gc(g,g.return);break;case 27:AT(g);case 26:case 5:Os(d,g,o),o&&u===null&&b&4&&ST(g),gc(g,g.return);break;case 12:Os(d,g,o);break;case 13:Os(d,g,o),o&&b&4&&DT(d,g);break;case 22:g.memoizedState===null&&Os(d,g,o),gc(g,g.return);break;case 30:break;default:Os(d,g,o)}s=s.sibling}}function Cg(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&tc(o))}function Ig(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&tc(r))}function Zr(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)PT(r,s,o,u),s=s.sibling}function PT(r,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Zr(r,s,o,u),d&2048&&mc(9,s);break;case 1:Zr(r,s,o,u);break;case 3:Zr(r,s,o,u),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&tc(r)));break;case 12:if(d&2048){Zr(r,s,o,u),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){ht(s,s.return,L)}}else Zr(r,s,o,u);break;case 13:Zr(r,s,o,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Zr(r,s,o,u):yc(r,s):g._visibility&2?Zr(r,s,o,u):(g._visibility|=2,ml(r,s,o,u,(s.subtreeFlags&10256)!==0)),d&2048&&Cg(b,s);break;case 24:Zr(r,s,o,u),d&2048&&Ig(s.alternate,s);break;default:Zr(r,s,o,u)}}function ml(r,s,o,u,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,b=s,A=o,L=u,X=b.flags;switch(b.tag){case 0:case 11:case 15:ml(g,b,A,L,d),mc(8,b);break;case 23:break;case 22:var ne=b.stateNode;b.memoizedState!==null?ne._visibility&2?ml(g,b,A,L,d):yc(g,b):(ne._visibility|=2,ml(g,b,A,L,d)),d&&X&2048&&Cg(b.alternate,b);break;case 24:ml(g,b,A,L,d),d&&X&2048&&Ig(b.alternate,b);break;default:ml(g,b,A,L,d)}s=s.sibling}}function yc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,d=u.flags;switch(u.tag){case 22:yc(o,u),d&2048&&Cg(u.alternate,u);break;case 24:yc(o,u),d&2048&&Ig(u.alternate,u);break;default:yc(o,u)}s=s.sibling}}var vc=8192;function gl(r){if(r.subtreeFlags&vc)for(r=r.child;r!==null;)kT(r),r=r.sibling}function kT(r){switch(r.tag){case 26:gl(r),r.flags&vc&&r.memoizedState!==null&&sD(Rr,r.memoizedState,r.memoizedProps);break;case 5:gl(r);break;case 3:case 4:var s=Rr;Rr=od(r.stateNode.containerInfo),gl(r),Rr=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=vc,vc=16777216,gl(r),vc=s):gl(r));break;default:gl(r)}}function VT(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function _c(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,UT(u,r)}VT(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)LT(r),r=r.sibling}function LT(r){switch(r.tag){case 0:case 11:case 15:_c(r),r.flags&2048&&Is(9,r,r.return);break;case 3:_c(r);break;case 12:_c(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Yh(r)):_c(r);break;default:_c(r)}}function Yh(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,UT(u,r)}VT(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Is(8,s,s.return),Yh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Yh(s));break;default:Yh(s)}r=r.sibling}}function UT(r,s){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:Is(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:tc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=r;Yt!==null;){u=Yt;var d=u.sibling,g=u.return;if(xT(u),u===o){Yt=null;break e}if(d!==null){d.return=g,Yt=d;break e}Yt=g}}}var TO={getCacheForType:function(r){var s=gn(Bt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},bO=typeof WeakMap=="function"?WeakMap:Map,st=0,dt=null,qe=null,We=0,at=0,Kn=null,Ds=!1,yl=!1,xg=!1,Fi=0,bt=0,Ns=0,ro=0,Og=0,dr=0,vl=0,Ec=null,Pn=null,Dg=!1,Ng=0,Xh=1/0,Wh=null,Ms=null,rn=0,Ps=null,_l=null,El=0,Mg=0,Pg=null,jT=null,Tc=0,kg=null;function Qn(){if((st&2)!==0&&We!==0)return We&-We;if(W.T!==null){var r=ol;return r!==0?r:Fg()}return ms()}function BT(){dr===0&&(dr=(We&536870912)===0||tt?Ou():536870912);var r=hr.current;return r!==null&&(r.flags|=32),dr}function Yn(r,s,o){(r===dt&&(at===2||at===9)||r.cancelPendingCommit!==null)&&(Tl(r,0),ks(r,We,dr,!1)),Ei(r,o),((st&2)===0||r!==dt)&&(r===dt&&((st&2)===0&&(ro|=o),bt===4&&ks(r,We,dr,!1)),Jr(r))}function zT(r,s,o){if((st&6)!==0)throw Error(i(327));var u=!o&&(s&124)===0&&(s&r.expiredLanes)===0||xa(r,s),d=u?RO(r,s):Ug(r,s,!0),g=u;do{if(d===0){yl&&!u&&ks(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!wO(o)){d=Ug(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var A=r;d=Ec;var L=A.current.memoizedState.isDehydrated;if(L&&(Tl(A,b).flags|=256),b=Ug(A,b,!1),b!==2){if(xg&&!L){A.errorRecoveryDisabledLanes|=g,ro|=g,d=4;break e}g=Pn,Pn=d,g!==null&&(Pn===null?Pn=g:Pn.push.apply(Pn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){Tl(r,0),ks(r,s,0,!0);break}e:{switch(u=r,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ks(u,s,dr,!Ds);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Ng+300-St(),10<d)){if(ks(u,s,dr,!Ds),Uo(u,0,!0)!==0)break e;u.timeoutHandle=gb(FT.bind(null,u,o,Pn,Wh,Dg,s,dr,ro,vl,Ds,g,2,-0,0),d);break e}FT(u,o,Pn,Wh,Dg,s,dr,ro,vl,Ds,g,0,-0,0)}}break}while(!0);Jr(r)}function FT(r,s,o,u,d,g,b,A,L,X,ne,se,Z,ee){if(r.timeoutHandle=-1,se=s.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(Ic={stylesheets:null,count:0,unsuspend:iD},kT(s),se=aD(),se!==null)){r.cancelPendingCommit=se(YT.bind(null,r,s,g,o,u,d,b,A,L,ne,1,Z,ee)),ks(r,g,b,!X);return}YT(r,s,g,o,u,d,b,A,L)}function wO(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!qn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ks(r,s,o,u){s&=~Og,s&=~ro,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var d=s;0<d;){var g=31-mn(d),b=1<<g;u[g]=-1,d&=~b}o!==0&&Ur(r,o,s)}function Zh(){return(st&6)===0?(bc(0),!1):!0}function Vg(){if(qe!==null){if(at===0)var r=qe.return;else r=qe,Pi=Wa=null,Jm(r),dl=null,hc=0,r=qe;for(;r!==null;)TT(r.alternate,r),r=r.return;qe=null}}function Tl(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,zO(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Vg(),dt=r,qe=o=Di(r.current,null),We=s,at=0,Kn=null,Ds=!1,yl=xa(r,s),xg=!1,vl=dr=Og=ro=Ns=bt=0,Pn=Ec=null,Dg=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var d=31-mn(u),g=1<<d;s|=r[d],u&=~g}return Fi=s,Eh(),o}function qT(r,s){je=null,W.H=jh,s===rc||s===xh?(s=a0(),at=3):s===r0?(s=a0(),at=4):at=s===oT?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,qe===null&&(bt=1,Hh(r,lr(s,r.current)))}function HT(){var r=W.H;return W.H=jh,r===null?jh:r}function $T(){var r=W.A;return W.A=TO,r}function Lg(){bt=4,Ds||(We&4194048)!==We&&hr.current!==null||(yl=!0),(Ns&134217727)===0&&(ro&134217727)===0||dt===null||ks(dt,We,dr,!1)}function Ug(r,s,o){var u=st;st|=2;var d=HT(),g=$T();(dt!==r||We!==s)&&(Wh=null,Tl(r,s)),s=!1;var b=bt;e:do try{if(at!==0&&qe!==null){var A=qe,L=Kn;switch(at){case 8:Vg(),b=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(s=!0);var X=at;if(at=0,Kn=null,bl(r,A,L,X),o&&yl){b=0;break e}break;default:X=at,at=0,Kn=null,bl(r,A,L,X)}}SO(),b=bt;break}catch(ne){qT(r,ne)}while(!0);return s&&r.shellSuspendCounter++,Pi=Wa=null,st=u,W.H=d,W.A=g,qe===null&&(dt=null,We=0,Eh()),b}function SO(){for(;qe!==null;)GT(qe)}function RO(r,s){var o=st;st|=2;var u=HT(),d=$T();dt!==r||We!==s?(Wh=null,Xh=St()+500,Tl(r,s)):yl=xa(r,s);e:do try{if(at!==0&&qe!==null){s=qe;var g=Kn;t:switch(at){case 1:at=0,Kn=null,bl(r,s,g,1);break;case 2:case 9:if(i0(g)){at=0,Kn=null,KT(s);break}s=function(){at!==2&&at!==9||dt!==r||(at=7),Jr(r)},g.then(s,s);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:i0(g)?(at=0,Kn=null,KT(s)):(at=0,Kn=null,bl(r,s,g,7));break;case 5:var b=null;switch(qe.tag){case 26:b=qe.memoizedState;case 5:case 27:var A=qe;if(!b||Ib(b)){at=0,Kn=null;var L=A.sibling;if(L!==null)qe=L;else{var X=A.return;X!==null?(qe=X,Jh(X)):qe=null}break t}}at=0,Kn=null,bl(r,s,g,5);break;case 6:at=0,Kn=null,bl(r,s,g,6);break;case 8:Vg(),bt=6;break e;default:throw Error(i(462))}}AO();break}catch(ne){qT(r,ne)}while(!0);return Pi=Wa=null,W.H=u,W.A=d,st=o,qe!==null?0:(dt=null,We=0,Eh(),bt)}function AO(){for(;qe!==null&&!Je();)GT(qe)}function GT(r){var s=_T(r.alternate,r,Fi);r.memoizedProps=r.pendingProps,s===null?Jh(r):qe=s}function KT(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=dT(o,s,s.pendingProps,s.type,void 0,We);break;case 11:s=dT(o,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:Jm(s);default:TT(o,s),s=qe=QE(s,Fi),s=_T(o,s,Fi)}r.memoizedProps=r.pendingProps,s===null?Jh(r):qe=s}function bl(r,s,o,u){Pi=Wa=null,Jm(s),dl=null,hc=0;var d=s.return;try{if(mO(r,d,s,o,We)){bt=1,Hh(r,lr(o,r.current)),qe=null;return}}catch(g){if(d!==null)throw qe=d,g;bt=1,Hh(r,lr(o,r.current)),qe=null;return}s.flags&32768?(tt||u===1?r=!0:yl||(We&536870912)!==0?r=!1:(Ds=r=!0,(u===2||u===9||u===3||u===6)&&(u=hr.current,u!==null&&u.tag===13&&(u.flags|=16384))),QT(s,r)):Jh(s)}function Jh(r){var s=r;do{if((s.flags&32768)!==0){QT(s,Ds);return}r=s.return;var o=yO(s.alternate,s,Fi);if(o!==null){qe=o;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=r}while(s!==null);bt===0&&(bt=5)}function QT(r,s){do{var o=vO(r.alternate,r);if(o!==null){o.flags&=32767,qe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){qe=r;return}qe=r=o}while(r!==null);bt=6,qe=null}function YT(r,s,o,u,d,g,b,A,L){r.cancelPendingCommit=null;do ed();while(rn!==0);if((st&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=Im,Nu(r,o,g,b,A,L),r===dt&&(qe=dt=null,We=0),_l=s,Ps=r,El=o,Mg=g,Pg=d,jT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,OO(Dn,function(){return eb(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,d=le.p,le.p=2,b=st,st|=4;try{_O(r,s,o)}finally{st=b,le.p=d,W.T=u}}rn=1,XT(),WT(),ZT()}}function XT(){if(rn===1){rn=0;var r=Ps,s=_l,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=le.p;le.p=2;var d=st;st|=4;try{NT(s,r);var g=Xg,b=UE(r.containerInfo),A=g.focusedElem,L=g.selectionRange;if(b!==A&&A&&A.ownerDocument&&LE(A.ownerDocument.documentElement,A)){if(L!==null&&wm(A)){var X=L.start,ne=L.end;if(ne===void 0&&(ne=X),"selectionStart"in A)A.selectionStart=X,A.selectionEnd=Math.min(ne,A.value.length);else{var se=A.ownerDocument||document,Z=se&&se.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),Oe=A.textContent.length,Re=Math.min(L.start,Oe),ft=L.end===void 0?Re:Math.min(L.end,Oe);!ee.extend&&Re>ft&&(b=ft,ft=Re,Re=b);var $=VE(A,Re),F=VE(A,ft);if($&&F&&(ee.rangeCount!==1||ee.anchorNode!==$.node||ee.anchorOffset!==$.offset||ee.focusNode!==F.node||ee.focusOffset!==F.offset)){var Y=se.createRange();Y.setStart($.node,$.offset),ee.removeAllRanges(),Re>ft?(ee.addRange(Y),ee.extend(F.node,F.offset)):(Y.setEnd(F.node,F.offset),ee.addRange(Y))}}}}for(se=[],ee=A;ee=ee.parentNode;)ee.nodeType===1&&se.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<se.length;A++){var ie=se[A];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}hd=!!Yg,Xg=Yg=null}finally{st=d,le.p=u,W.T=o}}r.current=s,rn=2}}function WT(){if(rn===2){rn=0;var r=Ps,s=_l,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=le.p;le.p=2;var d=st;st|=4;try{IT(r,s.alternate,s)}finally{st=d,le.p=u,W.T=o}}rn=3}}function ZT(){if(rn===4||rn===3){rn=0,tr();var r=Ps,s=_l,o=El,u=jT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?rn=5:(rn=0,_l=Ps=null,JT(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(Ms=null),jo(o),s=s.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(we,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=W.T,d=le.p,le.p=2,W.T=null;try{for(var g=r.onRecoverableError,b=0;b<u.length;b++){var A=u[b];g(A.value,{componentStack:A.stack})}}finally{W.T=s,le.p=d}}(El&3)!==0&&ed(),Jr(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===kg?Tc++:(Tc=0,kg=r):Tc=0,bc(0)}}function JT(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,tc(s)))}function ed(r){return XT(),WT(),ZT(),eb()}function eb(){if(rn!==5)return!1;var r=Ps,s=Mg;Mg=0;var o=jo(El),u=W.T,d=le.p;try{le.p=32>o?32:o,W.T=null,o=Pg,Pg=null;var g=Ps,b=El;if(rn=0,_l=Ps=null,El=0,(st&6)!==0)throw Error(i(331));var A=st;if(st|=4,LT(g.current),PT(g,g.current,b,o),st=A,bc(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(we,g)}catch{}return!0}finally{le.p=d,W.T=u,JT(r,s)}}function tb(r,s,o){s=lr(o,s),s=dg(r.stateNode,s,2),r=Ss(r,s,2),r!==null&&(Ei(r,2),Jr(r))}function ht(r,s,o){if(r.tag===3)tb(r,r,o);else for(;s!==null;){if(s.tag===3){tb(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ms===null||!Ms.has(u))){r=lr(o,r),o=sT(2),u=Ss(s,o,2),u!==null&&(aT(o,u,s,r),Ei(u,2),Jr(u));break}}s=s.return}}function jg(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new bO;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(xg=!0,d.add(o),r=CO.bind(null,r,s,o),s.then(r,r))}function CO(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,dt===r&&(We&o)===o&&(bt===4||bt===3&&(We&62914560)===We&&300>St()-Ng?(st&2)===0&&Tl(r,0):Og|=o,vl===We&&(vl=0)),Jr(r)}function nb(r,s){s===0&&(s=Du()),r=rl(r,s),r!==null&&(Ei(r,s),Jr(r))}function IO(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),nb(r,o)}function xO(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),nb(r,o)}function OO(r,s){return hn(r,s)}var td=null,wl=null,Bg=!1,nd=!1,zg=!1,io=0;function Jr(r){r!==wl&&r.next===null&&(wl===null?td=wl=r:wl=wl.next=r),nd=!0,Bg||(Bg=!0,NO())}function bc(r,s){if(!zg&&nd){zg=!0;do for(var o=!1,u=td;u!==null;){if(r!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var b=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-mn(42|r)+1)-1,g&=d&~(b&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,ab(u,g))}else g=We,g=Uo(u,u===dt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||xa(u,g)||(o=!0,ab(u,g));u=u.next}while(o);zg=!1}}function DO(){rb()}function rb(){nd=Bg=!1;var r=0;io!==0&&(BO()&&(r=io),io=0);for(var s=St(),o=null,u=td;u!==null;){var d=u.next,g=ib(u,s);g===0?(u.next=null,o===null?td=d:o.next=d,d===null&&(wl=o)):(o=u,(r!==0||(g&3)!==0)&&(nd=!0)),u=d}bc(r)}function ib(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-mn(g),A=1<<b,L=d[b];L===-1?((A&o)===0||(A&u)!==0)&&(d[b]=xu(A,s)):L<=s&&(r.expiredLanes|=A),g&=~A}if(s=dt,o=We,o=Uo(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===s&&(at===2||at===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&dn(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||xa(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&dn(u),jo(o)){case 2:case 8:o=pn;break;case 32:o=Dn;break;case 268435456:o=Er;break;default:o=Dn}return u=sb.bind(null,r),o=hn(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&dn(u),r.callbackPriority=2,r.callbackNode=null,2}function sb(r,s){if(rn!==0&&rn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(ed()&&r.callbackNode!==o)return null;var u=We;return u=Uo(r,r===dt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(zT(r,u,s),ib(r,St()),r.callbackNode!=null&&r.callbackNode===o?sb.bind(null,r):null)}function ab(r,s){if(ed())return null;zT(r,s,!0)}function NO(){FO(function(){(st&6)!==0?hn(yi,DO):rb()})}function Fg(){return io===0&&(io=Ou()),io}function ob(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:$o(""+r)}function lb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function MO(r,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=ob((d[Ot]||null).action),b=u.submitter;b&&(s=(s=b[Ot]||null)?ob(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var A=new Go("action","action",null,u,d);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(io!==0){var L=b?lb(d,b):new FormData(d);lg(o,{pending:!0,data:L,method:d.method,action:g},null,L)}}else typeof g=="function"&&(A.preventDefault(),L=b?lb(d,b):new FormData(d),lg(o,{pending:!0,data:L,method:d.method,action:g},g,L))},currentTarget:d}]})}}for(var qg=0;qg<Cm.length;qg++){var Hg=Cm[qg],PO=Hg.toLowerCase(),kO=Hg[0].toUpperCase()+Hg.slice(1);Sr(PO,"on"+kO)}Sr(zE,"onAnimationEnd"),Sr(FE,"onAnimationIteration"),Sr(qE,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(Zx,"onTransitionRun"),Sr(Jx,"onTransitionStart"),Sr(eO,"onTransitionCancel"),Sr(HE,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wc));function ub(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],d=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var A=u[b],L=A.instance,X=A.currentTarget;if(A=A.listener,L!==g&&d.isPropagationStopped())break e;g=A,d.currentTarget=X;try{g(d)}catch(ne){qh(ne)}d.currentTarget=null,g=L}else for(b=0;b<u.length;b++){if(A=u[b],L=A.instance,X=A.currentTarget,A=A.listener,L!==g&&d.isPropagationStopped())break e;g=A,d.currentTarget=X;try{g(d)}catch(ne){qh(ne)}d.currentTarget=null,g=L}}}}function He(r,s){var o=s[Pu];o===void 0&&(o=s[Pu]=new Set);var u=r+"__bubble";o.has(u)||(cb(s,r,2,!1),o.add(u))}function $g(r,s,o){var u=0;s&&(u|=4),cb(o,r,u,s)}var rd="_reactListening"+Math.random().toString(36).slice(2);function Gg(r){if(!r[rd]){r[rd]=!0,ku.forEach(function(o){o!=="selectionchange"&&(VO.has(o)||$g(o,!1,r),$g(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[rd]||(s[rd]=!0,$g("selectionchange",!1,s))}}function cb(r,s,o,u){switch(Pb(s)){case 2:var d=uD;break;case 8:d=cD;break;default:d=ay}o=d.bind(null,s,o,r),d=void 0,!ar||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function Kg(r,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var A=u.stateNode.containerInfo;if(A===d)break;if(b===4)for(b=u.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;A!==null;){if(b=Ti(A),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){u=g=b;continue e}A=A.parentNode}}u=u.return}sh(function(){var X=g,ne=sr(o),se=[];e:{var Z=$E.get(r);if(Z!==void 0){var ee=Go,Oe=r;switch(r){case"keypress":if(Hr(o)===0)break e;case"keydown":case"keyup":ee=Zo;break;case"focusin":Oe="focus",ee=Yo;break;case"focusout":Oe="blur",ee=Yo;break;case"beforeblur":case"afterblur":ee=Yo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=or;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=_m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=dh;break;case zE:case FE:case qE:ee=Xo;break;case HE:ee=mh;break;case"scroll":case"scrollend":ee=ah;break;case"wheel":ee=Jo;break;case"copy":case"cut":case"paste":ee=Wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Ku;break;case"toggle":case"beforetoggle":ee=yh}var Re=(s&4)!==0,ft=!Re&&(r==="scroll"||r==="scrollend"),$=Re?Z!==null?Z+"Capture":null:Z;Re=[];for(var F=X,Y;F!==null;){var ie=F;if(Y=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||Y===null||$===null||(ie=La(F,$),ie!=null&&Re.push(Sc(F,ie,Y))),ft)break;F=F.return}0<Re.length&&(Z=new ee(Z,Oe,null,o,ne),se.push({event:Z,listeners:Re}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",Z&&o!==Ri&&(Oe=o.relatedTarget||o.fromElement)&&(Ti(Oe)||Oe[rr]))break e;if((ee||Z)&&(Z=ne.window===ne?ne:(Z=ne.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(Oe=o.relatedTarget||o.toElement,ee=X,Oe=Oe?Ti(Oe):null,Oe!==null&&(ft=l(Oe),Re=Oe.tag,Oe!==ft||Re!==5&&Re!==27&&Re!==6)&&(Oe=null)):(ee=null,Oe=X),ee!==Oe)){if(Re=or,ie="onMouseLeave",$="onMouseEnter",F="mouse",(r==="pointerout"||r==="pointerover")&&(Re=Ku,ie="onPointerLeave",$="onPointerEnter",F="pointer"),ft=ee==null?Z:Br(ee),Y=Oe==null?Z:Br(Oe),Z=new Re(ie,F+"leave",ee,o,ne),Z.target=ft,Z.relatedTarget=Y,ie=null,Ti(ne)===X&&(Re=new Re($,F+"enter",Oe,o,ne),Re.target=Y,Re.relatedTarget=ft,ie=Re),ft=ie,ee&&Oe)t:{for(Re=ee,$=Oe,F=0,Y=Re;Y;Y=Sl(Y))F++;for(Y=0,ie=$;ie;ie=Sl(ie))Y++;for(;0<F-Y;)Re=Sl(Re),F--;for(;0<Y-F;)$=Sl($),Y--;for(;F--;){if(Re===$||$!==null&&Re===$.alternate)break t;Re=Sl(Re),$=Sl($)}Re=null}else Re=null;ee!==null&&fb(se,Z,ee,Re,!1),Oe!==null&&ft!==null&&fb(se,ft,Oe,Re,!0)}}e:{if(Z=X?Br(X):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var ge=OE;else if(jt(Z))if(DE)ge=Yx;else{ge=Kx;var Fe=Gx}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&Bu(X.elementType)&&(ge=OE):ge=Qx;if(ge&&(ge=ge(r,X))){Oi(se,ge,o,ne);break e}Fe&&Fe(r,Z,X),r==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&_s(Z,"number",Z.value)}switch(Fe=X?Br(X):window,r){case"focusin":(jt(Fe)||Fe.contentEditable==="true")&&(el=Fe,Sm=X,Xu=null);break;case"focusout":Xu=Sm=el=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,jE(se,o,ne);break;case"selectionchange":if(Wx)break;case"keydown":case"keyup":jE(se,o,ne)}var _e;if(Kr)e:{switch(r){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ye?te(r,o)&&(Ae="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ae="onCompositionStart");Ae&&(T&&o.locale!=="ko"&&(Ye||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ye&&(_e=Fu()):(qr=ne,Es="value"in qr?qr.value:qr.textContent,Ye=!0)),Fe=id(X,Ae),0<Fe.length&&(Ae=new $u(Ae,r,null,o,ne),se.push({event:Ae,listeners:Fe}),_e?Ae.data=_e:(_e=fe(o),_e!==null&&(Ae.data=_e)))),(_e=v?Ut(r,o):Xe(r,o))&&(Ae=id(X,"onBeforeInput"),0<Ae.length&&(Fe=new $u("onBeforeInput","beforeinput",null,o,ne),se.push({event:Fe,listeners:Ae}),Fe.data=_e)),MO(se,r,X,o,ne)}ub(se,s)})}function Sc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function id(r,s){for(var o=s+"Capture",u=[];r!==null;){var d=r,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=La(r,o),d!=null&&u.unshift(Sc(r,d,g)),d=La(r,s),d!=null&&u.push(Sc(r,d,g))),r.tag===3)return u;r=r.return}return[]}function Sl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function fb(r,s,o,u,d){for(var g=s._reactName,b=[];o!==null&&o!==u;){var A=o,L=A.alternate,X=A.stateNode;if(A=A.tag,L!==null&&L===u)break;A!==5&&A!==26&&A!==27||X===null||(L=X,d?(X=La(o,g),X!=null&&b.unshift(Sc(o,X,L))):d||(X=La(o,g),X!=null&&b.push(Sc(o,X,L)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var LO=/\r\n?/g,UO=/\u0000|\uFFFD/g;function hb(r){return(typeof r=="string"?r:""+r).replace(LO,`
`).replace(UO,"")}function db(r,s){return s=hb(s),hb(r)===s}function sd(){}function ct(r,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||ir(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&ir(r,""+u);break;case"className":zr(r,"class",u);break;case"tabIndex":zr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(r,o,u);break;case"style":ju(r,u,g);break;case"data":if(s!=="object"){zr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=$o(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ct(r,s,"name",d.name,d,null),ct(r,s,"formEncType",d.formEncType,d,null),ct(r,s,"formMethod",d.formMethod,d,null),ct(r,s,"formTarget",d.formTarget,d,null)):(ct(r,s,"encType",d.encType,d,null),ct(r,s,"method",d.method,d,null),ct(r,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=$o(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=sd);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=$o(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":He("beforetoggle",r),He("toggle",r),vs(r,"popover",u);break;case"xlinkActuate":en(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":en(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":en(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":en(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":en(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":en(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":en(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":en(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":en(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":vs(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ym.get(o)||o,vs(r,o,u))}}function Qg(r,s,o,u,d,g){switch(o){case"style":ju(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?ir(r,u):(typeof u=="number"||typeof u=="bigint")&&ir(r,""+u);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"onClick":u!=null&&(r.onclick=sd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[Ot]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,d);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):vs(r,o,u)}}}function sn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",r),He("load",r);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ct(r,s,g,b,o,null)}}d&&ct(r,s,"srcSet",o.srcSet,o,null),u&&ct(r,s,"src",o.src,o,null);return;case"input":He("invalid",r);var A=g=b=d=null,L=null,X=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":d=ne;break;case"type":b=ne;break;case"checked":L=ne;break;case"defaultChecked":X=ne;break;case"value":g=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ct(r,s,u,ne,o,null)}}Pa(r,g,A,L,X,b,d,!1),Ho(r);return;case"select":He("invalid",r),u=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(A=o[d],A!=null))switch(d){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":u=A;default:ct(r,s,d,A,o,null)}s=g,o=b,r.multiple=!!u,s!=null?Si(r,!!u,s,!1):o!=null&&Si(r,!!u,o,!0);return;case"textarea":He("invalid",r),g=d=u=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":u=A;break;case"defaultValue":d=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:ct(r,s,b,A,o,null)}ka(r,u,d,g),Ho(r);return;case"option":for(L in o)if(o.hasOwnProperty(L)&&(u=o[L],u!=null))switch(L){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ct(r,s,L,u,o,null)}return;case"dialog":He("beforetoggle",r),He("toggle",r),He("cancel",r),He("close",r);break;case"iframe":case"object":He("load",r);break;case"video":case"audio":for(u=0;u<wc.length;u++)He(wc[u],r);break;case"image":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"embed":case"source":case"link":He("error",r),He("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ct(r,s,X,u,o,null)}return;default:if(Bu(s)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Qg(r,s,ne,u,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(u=o[A],u!=null&&ct(r,s,A,u,o,null))}function jO(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,A=null,L=null,X=null,ne=null;for(ee in o){var se=o[ee];if(o.hasOwnProperty(ee)&&se!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":L=se;default:u.hasOwnProperty(ee)||ct(r,s,ee,null,u,se)}}for(var Z in u){var ee=u[Z];if(se=o[Z],u.hasOwnProperty(Z)&&(ee!=null||se!=null))switch(Z){case"type":g=ee;break;case"name":d=ee;break;case"checked":X=ee;break;case"defaultChecked":ne=ee;break;case"value":b=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ee!==se&&ct(r,s,Z,ee,u,se)}}Fn(r,b,A,L,X,ne,g,d);return;case"select":ee=b=A=Z=null;for(g in o)if(L=o[g],o.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":ee=L;default:u.hasOwnProperty(g)||ct(r,s,g,null,u,L)}for(d in u)if(g=u[d],L=o[d],u.hasOwnProperty(d)&&(g!=null||L!=null))switch(d){case"value":Z=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==L&&ct(r,s,d,g,u,L)}s=A,o=b,u=ee,Z!=null?Si(r,!!o,Z,!1):!!u!=!!o&&(s!=null?Si(r,!!o,s,!0):Si(r,!!o,o?[]:"",!1));return;case"textarea":ee=Z=null;for(A in o)if(d=o[A],o.hasOwnProperty(A)&&d!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ct(r,s,A,null,u,d)}for(b in u)if(d=u[b],g=o[b],u.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":Z=d;break;case"defaultValue":ee=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&ct(r,s,b,d,u,g)}lt(r,Z,ee);return;case"option":for(var Oe in o)if(Z=o[Oe],o.hasOwnProperty(Oe)&&Z!=null&&!u.hasOwnProperty(Oe))switch(Oe){case"selected":r.selected=!1;break;default:ct(r,s,Oe,null,u,Z)}for(L in u)if(Z=u[L],ee=o[L],u.hasOwnProperty(L)&&Z!==ee&&(Z!=null||ee!=null))switch(L){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ct(r,s,L,Z,u,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)Z=o[Re],o.hasOwnProperty(Re)&&Z!=null&&!u.hasOwnProperty(Re)&&ct(r,s,Re,null,u,Z);for(X in u)if(Z=u[X],ee=o[X],u.hasOwnProperty(X)&&Z!==ee&&(Z!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:ct(r,s,X,Z,u,ee)}return;default:if(Bu(s)){for(var ft in o)Z=o[ft],o.hasOwnProperty(ft)&&Z!==void 0&&!u.hasOwnProperty(ft)&&Qg(r,s,ft,void 0,u,Z);for(ne in u)Z=u[ne],ee=o[ne],!u.hasOwnProperty(ne)||Z===ee||Z===void 0&&ee===void 0||Qg(r,s,ne,Z,u,ee);return}}for(var $ in o)Z=o[$],o.hasOwnProperty($)&&Z!=null&&!u.hasOwnProperty($)&&ct(r,s,$,null,u,Z);for(se in u)Z=u[se],ee=o[se],!u.hasOwnProperty(se)||Z===ee||Z==null&&ee==null||ct(r,s,se,Z,u,ee)}var Yg=null,Xg=null;function ad(r){return r.nodeType===9?r:r.ownerDocument}function pb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Wg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zg=null;function BO(){var r=window.event;return r&&r.type==="popstate"?r===Zg?!1:(Zg=r,!0):(Zg=null,!1)}var gb=typeof setTimeout=="function"?setTimeout:void 0,zO=typeof clearTimeout=="function"?clearTimeout:void 0,yb=typeof Promise=="function"?Promise:void 0,FO=typeof queueMicrotask=="function"?queueMicrotask:typeof yb<"u"?function(r){return yb.resolve(null).then(r).catch(qO)}:gb;function qO(r){setTimeout(function(){throw r})}function Vs(r){return r==="head"}function vb(r,s){var o=s,u=0,d=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=r.ownerDocument;if(o&1&&Rc(b.documentElement),o&2&&Rc(b.body),o&4)for(o=b.head,Rc(o),b=o.firstChild;b;){var A=b.nextSibling,L=b.nodeName;b[Oa]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=A}}if(d===0){r.removeChild(g),Mc(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Mc(s)}function Jg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Jg(o),ys(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function HO(r,s,o,u){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Oa])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Ar(r.nextSibling),r===null)break}return null}function $O(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ar(r.nextSibling),r===null))return null;return r}function ey(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function GO(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Ar(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var ty=null;function _b(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Eb(r,s,o){switch(s=ad(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Rc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);ys(r)}var pr=new Map,Tb=new Set;function od(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var qi=le.d;le.d={f:KO,r:QO,D:YO,C:XO,L:WO,m:ZO,X:eD,S:JO,M:tD};function KO(){var r=qi.f(),s=Zh();return r||s}function QO(r){var s=jr(r);s!==null&&s.tag===5&&s.type==="form"?z0(s):qi.r(r)}var Rl=typeof document>"u"?null:document;function bb(r,s,o){var u=Rl;if(u&&typeof s=="string"&&s){var d=Dt(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Tb.has(d)||(Tb.add(d),r={rel:r,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),sn(s,"link",r),Rt(s),u.head.appendChild(s)))}}function YO(r){qi.D(r),bb("dns-prefetch",r,null)}function XO(r,s){qi.C(r,s),bb("preconnect",r,s)}function WO(r,s,o){qi.L(r,s,o);var u=Rl;if(u&&r&&s){var d='link[rel="preload"][as="'+Dt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Dt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Dt(o.imageSizes)+'"]')):d+='[href="'+Dt(r)+'"]';var g=d;switch(s){case"style":g=Al(r);break;case"script":g=Cl(r)}pr.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),pr.set(g,r),u.querySelector(d)!==null||s==="style"&&u.querySelector(Ac(g))||s==="script"&&u.querySelector(Cc(g))||(s=u.createElement("link"),sn(s,"link",r),Rt(s),u.head.appendChild(s)))}}function ZO(r,s){qi.m(r,s);var o=Rl;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Dt(u)+'"][href="'+Dt(r)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Cl(r)}if(!pr.has(g)&&(r=y({rel:"modulepreload",href:r},s),pr.set(g,r),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Cc(g)))return}u=o.createElement("link"),sn(u,"link",r),Rt(u),o.head.appendChild(u)}}}function JO(r,s,o){qi.S(r,s,o);var u=Rl;if(u&&r){var d=Sn(u).hoistableStyles,g=Al(r);s=s||"default";var b=d.get(g);if(!b){var A={loading:0,preload:null};if(b=u.querySelector(Ac(g)))A.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=pr.get(g))&&ny(r,o);var L=b=u.createElement("link");Rt(L),sn(L,"link",r),L._p=new Promise(function(X,ne){L.onload=X,L.onerror=ne}),L.addEventListener("load",function(){A.loading|=1}),L.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ld(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:A},d.set(g,b)}}}function eD(r,s){qi.X(r,s);var o=Rl;if(o&&r){var u=Sn(o).hoistableScripts,d=Cl(r),g=u.get(d);g||(g=o.querySelector(Cc(d)),g||(r=y({src:r,async:!0},s),(s=pr.get(d))&&ry(r,s),g=o.createElement("script"),Rt(g),sn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function tD(r,s){qi.M(r,s);var o=Rl;if(o&&r){var u=Sn(o).hoistableScripts,d=Cl(r),g=u.get(d);g||(g=o.querySelector(Cc(d)),g||(r=y({src:r,async:!0,type:"module"},s),(s=pr.get(d))&&ry(r,s),g=o.createElement("script"),Rt(g),sn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function wb(r,s,o,u){var d=(d=be.current)?od(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Al(o.href),o=Sn(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Al(o.href);var g=Sn(d).hoistableStyles,b=g.get(r);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=d.querySelector(Ac(r)))&&!g._p&&(b.instance=g,b.state.loading=5),pr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},pr.set(r,o),g||nD(d,r,o,b.state))),s&&u===null)throw Error(i(528,""));return b}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Cl(o),o=Sn(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Al(r){return'href="'+Dt(r)+'"'}function Ac(r){return'link[rel="stylesheet"]['+r+"]"}function Sb(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function nD(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),sn(s,"link",o),Rt(s),r.head.appendChild(s))}function Cl(r){return'[src="'+Dt(r)+'"]'}function Cc(r){return"script[async]"+r}function Rb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Dt(o.href)+'"]');if(u)return s.instance=u,Rt(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Rt(u),sn(u,"style",d),ld(u,o.precedence,r),s.instance=u;case"stylesheet":d=Al(o.href);var g=r.querySelector(Ac(d));if(g)return s.state.loading|=4,s.instance=g,Rt(g),g;u=Sb(o),(d=pr.get(d))&&ny(u,d),g=(r.ownerDocument||r).createElement("link"),Rt(g);var b=g;return b._p=new Promise(function(A,L){b.onload=A,b.onerror=L}),sn(g,"link",u),s.state.loading|=4,ld(g,o.precedence,r),s.instance=g;case"script":return g=Cl(o.src),(d=r.querySelector(Cc(g)))?(s.instance=d,Rt(d),d):(u=o,(d=pr.get(g))&&(u=y({},o),ry(u,d)),r=r.ownerDocument||r,d=r.createElement("script"),Rt(d),sn(d,"link",u),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ld(u,o.precedence,r));return s.instance}function ld(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,b=0;b<u.length;b++){var A=u[b];if(A.dataset.precedence===s)g=A;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function ny(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function ry(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var ud=null;function Ab(r,s,o){if(ud===null){var u=new Map,d=ud=new Map;d.set(o,u)}else d=ud,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[Oa]||g[Lt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var A=u.get(b);A?A.push(g):u.set(b,[g])}}return u}function Cb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function rD(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ib(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Ic=null;function iD(){}function sD(r,s,o){if(Ic===null)throw Error(i(475));var u=Ic;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=Al(o.href),g=r.querySelector(Ac(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=cd.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,Rt(g);return}g=r.ownerDocument||r,o=Sb(o),(d=pr.get(d))&&ny(o,d),g=g.createElement("link"),Rt(g);var b=g;b._p=new Promise(function(A,L){b.onload=A,b.onerror=L}),sn(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=cd.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function aD(){if(Ic===null)throw Error(i(475));var r=Ic;return r.stylesheets&&r.count===0&&iy(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&iy(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function cd(){if(this.count--,this.count===0){if(this.stylesheets)iy(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var fd=null;function iy(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,fd=new Map,s.forEach(oD,r),fd=null,cd.call(r))}function oD(r,s){if(!(s.state.loading&4)){var o=fd.get(r);if(o)var u=o.get(null);else{o=new Map,fd.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}d=s.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,d),o.set(b,d),this.count++,u=cd.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var xc={$$typeof:z,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function lD(r,s,o,u,d,g,b,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function xb(r,s,o,u,d,g,b,A,L,X,ne,se){return r=new lD(r,s,o,b,A,L,X,se),s=1,g===!0&&(s|=24),g=Hn(3,null,null,s),r.current=g,g.stateNode=r,s=jm(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},qm(g),r}function Ob(r){return r?(r=il,r):il}function Db(r,s,o,u,d,g){d=Ob(d),u.context===null?u.context=d:u.pendingContext=d,u=ws(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ss(r,u,s),o!==null&&(Yn(o,r,s),sc(o,r,s))}function Nb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function sy(r,s){Nb(r,s),(r=r.alternate)&&Nb(r,s)}function Mb(r){if(r.tag===13){var s=rl(r,67108864);s!==null&&Yn(s,r,67108864),sy(r,67108864)}}var hd=!0;function uD(r,s,o,u){var d=W.T;W.T=null;var g=le.p;try{le.p=2,ay(r,s,o,u)}finally{le.p=g,W.T=d}}function cD(r,s,o,u){var d=W.T;W.T=null;var g=le.p;try{le.p=8,ay(r,s,o,u)}finally{le.p=g,W.T=d}}function ay(r,s,o,u){if(hd){var d=oy(u);if(d===null)Kg(r,s,u,dd,o),kb(r,u);else if(hD(d,r,s,o,u))u.stopPropagation();else if(kb(r,u),s&4&&-1<fD.indexOf(r)){for(;d!==null;){var g=jr(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Tr(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var L=1<<31-mn(b);A.entanglements[1]|=L,b&=~L}Jr(g),(st&6)===0&&(Xh=St()+500,bc(0))}}break;case 13:A=rl(g,2),A!==null&&Yn(A,g,2),Zh(),sy(g,2)}if(g=oy(u),g===null&&Kg(r,s,u,dd,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else Kg(r,s,u,null,o)}}function oy(r){return r=sr(r),ly(r)}var dd=null;function ly(r){if(dd=null,r=Ti(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=c(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return dd=r,null}function Pb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ra()){case yi:return 2;case pn:return 8;case Dn:case ds:return 32;case Er:return 268435456;default:return 32}default:return 32}}var uy=!1,Ls=null,Us=null,js=null,Oc=new Map,Dc=new Map,Bs=[],fD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kb(r,s){switch(r){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(s.pointerId)}}function Nc(r,s,o,u,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=jr(s),s!==null&&Mb(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function hD(r,s,o,u,d){switch(s){case"focusin":return Ls=Nc(Ls,r,s,o,u,d),!0;case"dragenter":return Us=Nc(Us,r,s,o,u,d),!0;case"mouseover":return js=Nc(js,r,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Oc.set(g,Nc(Oc.get(g)||null,r,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Dc.set(g,Nc(Dc.get(g)||null,r,s,o,u,d)),!0}return!1}function Vb(r){var s=Ti(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){r.blockedOn=s,Zf(r.priority,function(){if(o.tag===13){var u=Qn();u=ps(u);var d=rl(o,u);d!==null&&Yn(d,o,u),sy(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function pd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=oy(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Ri=u,o.target.dispatchEvent(u),Ri=null}else return s=jr(o),s!==null&&Mb(s),r.blockedOn=o,!1;s.shift()}return!0}function Lb(r,s,o){pd(r)&&o.delete(s)}function dD(){uy=!1,Ls!==null&&pd(Ls)&&(Ls=null),Us!==null&&pd(Us)&&(Us=null),js!==null&&pd(js)&&(js=null),Oc.forEach(Lb),Dc.forEach(Lb)}function md(r,s){r.blockedOn===s&&(r.blockedOn=null,uy||(uy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,dD)))}var gd=null;function Ub(r){gd!==r&&(gd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){gd===r&&(gd=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],d=r[s+2];if(typeof u!="function"){if(ly(u||o)===null)continue;break}var g=jr(o);g!==null&&(r.splice(s,3),s-=3,lg(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Mc(r){function s(L){return md(L,r)}Ls!==null&&md(Ls,r),Us!==null&&md(Us,r),js!==null&&md(js,r),Oc.forEach(s),Dc.forEach(s);for(var o=0;o<Bs.length;o++){var u=Bs[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Bs.length&&(o=Bs[0],o.blockedOn===null);)Vb(o),o.blockedOn===null&&Bs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],b=d[Ot]||null;if(typeof g=="function")b||Ub(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[Ot]||null)A=b.formAction;else if(ly(d)!==null)continue}else A=b.action;typeof A=="function"?o[u+1]=A:(o.splice(u,3),u-=3),Ub(o)}}}function cy(r){this._internalRoot=r}yd.prototype.render=cy.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=Qn();Db(o,u,r,s,null,null)},yd.prototype.unmount=cy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Db(r.current,2,null,r,null,null),Zh(),s[rr]=null}};function yd(r){this._internalRoot=r}yd.prototype.unstable_scheduleHydration=function(r){if(r){var s=ms();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Bs.length&&s!==0&&s<Bs[o].priority;o++);Bs.splice(o,0,r),o===0&&Vb(r)}};var jb=e.version;if(jb!=="19.1.0")throw Error(i(527,jb,"19.1.0"));le.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var pD={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{we=vd.inject(pD),Ue=vd}catch{}}return kc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",d=tT,g=nT,b=rT,A=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=xb(r,1,!1,null,null,o,u,d,g,b,A,null),r[rr]=s.current,Gg(r),new cy(s)},kc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,d="",g=tT,b=nT,A=rT,L=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(L=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),s=xb(r,1,!0,s,o??null,u,d,g,b,A,L,X),s.context=Ob(null),o=s.current,u=Qn(),u=ps(u),d=ws(u),d.callback=null,Ss(o,d,u),o=u,s.current.lanes=o,Ei(s,o),Jr(s),r[rr]=s.current,Gg(r),new yd(s)},kc.version="19.1.0",kc}var Xb;function wD(){if(Xb)return py.exports;Xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),py.exports=bD(),py.exports}var SD=wD(),Vc={},Wb;function RD(){if(Wb)return Vc;Wb=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.parse=c,Vc.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,S){const C=new l,k=E.length;if(k<2)return C;const x=(S==null?void 0:S.decode)||y;let U=0;do{const G=E.indexOf("=",U);if(G===-1)break;const z=E.indexOf(";",U),H=z===-1?k:z;if(G>H){U=E.lastIndexOf(";",G-1)+1;continue}const K=h(E,U,G),J=p(E,G,K),N=E.slice(K,J);if(C[N]===void 0){let I=h(E,G+1,H),D=p(E,H,I);const P=x(E.slice(I,D));C[N]=P}U=H+1}while(U<k);return C}function h(E,S,C){do{const k=E.charCodeAt(S);if(k!==32&&k!==9)return S}while(++S<C);return C}function p(E,S,C){for(;S>C;){const k=E.charCodeAt(--S);if(k!==32&&k!==9)return S+1}return C}function m(E,S,C){const k=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const x=k(S);if(!e.test(x))throw new TypeError(`argument val is invalid: ${S}`);let U=E+"="+x;if(!C)return U;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);U+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);U+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);U+="; Path="+C.path}if(C.expires){if(!_(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);U+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(U+="; HttpOnly"),C.secure&&(U+="; Secure"),C.partitioned&&(U+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return U}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return Vc}RD();var Zb="popstate";function AD(n={}){function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return Zy("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:sf(a)}return ID(e,t,null,n)}function yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CD(){return Math.random().toString(36).substring(2,10)}function Jb(n,e){return{usr:n.state,key:n.key,idx:e}}function Zy(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?yu(e):e,state:t,key:e&&e.key||i||CD()}}function sf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function yu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function ID(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){h="POP";let x=y(),U=x==null?null:x-m;m=x,p&&p({action:h,location:k.location,delta:U})}function E(x,U){h="PUSH";let G=Zy(k.location,x,U);m=y()+1;let z=Jb(G,m),H=k.createHref(G);try{c.pushState(z,"",H)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;a.location.assign(H)}l&&p&&p({action:h,location:k.location,delta:1})}function S(x,U){h="REPLACE";let G=Zy(k.location,x,U);m=y();let z=Jb(G,m),H=k.createHref(G);c.replaceState(z,"",H),l&&p&&p({action:h,location:k.location,delta:0})}function C(x){let U=a.location.origin!=="null"?a.location.origin:a.location.href,G=typeof x=="string"?x:sf(x);return G=G.replace(/ $/,"%20"),yt(U,`No window.location.(origin|href) available to create URL for href: ${G}`),new URL(G,U)}let k={get action(){return h},get location(){return n(a,c)},listen(x){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Zb,_),p=x,()=>{a.removeEventListener(Zb,_),p=null}},createHref(x){return e(a,x)},createURL:C,encodeLocation(x){let U=C(x);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:S,go(x){return c.go(x)}};return k}function HR(n,e,t="/"){return xD(n,e,t,!1)}function xD(n,e,t,i){let a=typeof e=="string"?yu(e):e,l=ts(a.pathname||"/",t);if(l==null)return null;let c=$R(n);OD(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let m=zD(l);h=jD(c[p],m,i)}return h}function $R(n,e=[],t=[],i=""){let a=(l,c,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(yt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let m=Xi([i,p.relativePath]),y=t.concat(p);l.children&&l.children.length>0&&(yt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),$R(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:LD(m,l.index),routesMeta:y})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,c);else for(let p of GR(l.path))a(l,c,p)}),e}function GR(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=GR(i.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function OD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:UD(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var DD=/^:[\w-]+$/,ND=3,MD=2,PD=1,kD=10,VD=-2,ew=n=>n==="*";function LD(n,e){let t=n.split("/"),i=t.length;return t.some(ew)&&(i+=VD),e&&(i+=MD),t.filter(a=>!ew(a)).reduce((a,l)=>a+(DD.test(l)?ND:l===""?PD:kD),i)}function UD(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function jD(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],m=h===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Kd({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),E=p.route;if(!_&&m&&t&&!i[i.length-1].route.index&&(_=Kd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Xi([l,_.pathname]),pathnameBase:$D(Xi([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Xi([l,_.pathnameBase]))}return c}function Kd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=BD(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},E)=>{if(y==="*"){let C=h[E]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const S=h[E];return _&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function BD(n,e=!1,t=!0){Mr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function zD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ts(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function FD(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?yu(n):n;return{pathname:t?t.startsWith("/")?t:qD(t,e):e,search:GD(i),hash:KD(a)}}function qD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function vy(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Zv(n){let e=HD(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Jv(n,e,t,i=!1){let a;typeof n=="string"?a=yu(n):(a={...n},yt(!a.pathname||!a.pathname.includes("?"),vy("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),vy("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),vy("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}h=_>=0?e[_]:"/"}let p=FD(a,h),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var Xi=n=>n.join("/").replace(/\/\/+/g,"/"),$D=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),GD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,KD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function QD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var KR=["POST","PUT","PATCH","DELETE"];new Set(KR);var YD=["GET",...KR];new Set(YD);var vu=w.createContext(null);vu.displayName="DataRouter";var Ip=w.createContext(null);Ip.displayName="DataRouterState";var QR=w.createContext({isTransitioning:!1});QR.displayName="ViewTransition";var XD=w.createContext(new Map);XD.displayName="Fetchers";var WD=w.createContext(null);WD.displayName="Await";var Lr=w.createContext(null);Lr.displayName="Navigation";var xf=w.createContext(null);xf.displayName="Location";var mi=w.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var e_=w.createContext(null);e_.displayName="RouteError";function ZD(n,{relative:e}={}){yt(_u(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=w.useContext(Lr),{hash:a,pathname:l,search:c}=Of(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:Xi([t,l])),i.createHref({pathname:h,search:c,hash:a})}function _u(){return w.useContext(xf)!=null}function Ea(){return yt(_u(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(xf).location}var YR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XR(n){w.useContext(Lr).static||w.useLayoutEffect(n)}function Mo(){let{isDataRoute:n}=w.useContext(mi);return n?fN():JD()}function JD(){yt(_u(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(vu),{basename:e,navigator:t}=w.useContext(Lr),{matches:i}=w.useContext(mi),{pathname:a}=Ea(),l=JSON.stringify(Zv(i)),c=w.useRef(!1);return XR(()=>{c.current=!0}),w.useCallback((p,m={})=>{if(Mr(c.current,YR),!c.current)return;if(typeof p=="number"){t.go(p);return}let y=Jv(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Xi([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,a,n])}w.createContext(null);function Of(n,{relative:e}={}){let{matches:t}=w.useContext(mi),{pathname:i}=Ea(),a=JSON.stringify(Zv(t));return w.useMemo(()=>Jv(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function eN(n,e){return WR(n,e)}function WR(n,e,t,i){var G;yt(_u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=w.useContext(Lr),{matches:c}=w.useContext(mi),h=c[c.length-1],p=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let z=_&&_.path||"";ZR(m,!_||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let E=Ea(),S;if(e){let z=typeof e=="string"?yu(e):e;yt(y==="/"||((G=z.pathname)==null?void 0:G.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=E;let C=S.pathname||"/",k=C;if(y!=="/"){let z=y.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(z.length).join("/")}let x=!l&&t&&t.matches&&t.matches.length>0?t.matches:HR(n,{pathname:k});Mr(_||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Mr(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=sN(x&&x.map(z=>Object.assign({},z,{params:Object.assign({},p,z.params),pathname:Xi([y,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:Xi([y,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,t,i);return e&&U?w.createElement(xf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function tN(){let n=cN(),e=QD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:a},t):null,c)}var nN=w.createElement(tN,null),rN=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(mi.Provider,{value:this.props.routeContext},w.createElement(e_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iN({routeContext:n,match:e,children:t}){let i=w.useContext(vu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(mi.Provider,{value:n},t)}function sN(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);yt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:y,errors:_}=t,E=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||E){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let _,E=!1,S=null,C=null;t&&(_=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||nN,c&&(h<0&&y===0?(ZR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,C=null):h===y&&(E=!0,C=m.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,y+1)),x=()=>{let U;return _?U=S:E?U=C:m.route.Component?U=w.createElement(m.route.Component,null):m.route.element?U=m.route.element:U=p,w.createElement(iN,{match:m,routeContext:{outlet:p,matches:k,isDataRoute:t!=null},children:U})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?w.createElement(rN,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:x(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):x()},null)}function t_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aN(n){let e=w.useContext(vu);return yt(e,t_(n)),e}function oN(n){let e=w.useContext(Ip);return yt(e,t_(n)),e}function lN(n){let e=w.useContext(mi);return yt(e,t_(n)),e}function n_(n){let e=lN(n),t=e.matches[e.matches.length-1];return yt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function uN(){return n_("useRouteId")}function cN(){var i;let n=w.useContext(e_),e=oN("useRouteError"),t=n_("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function fN(){let{router:n}=aN("useNavigate"),e=n_("useNavigate"),t=w.useRef(!1);return XR(()=>{t.current=!0}),w.useCallback(async(a,l={})=>{Mr(t.current,YR),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var tw={};function ZR(n,e,t){!e&&!tw[n]&&(tw[n]=!0,Mr(!1,t))}w.memo(hN);function hN({routes:n,future:e,state:t}){return WR(n,void 0,t,e)}function dN({to:n,replace:e,state:t,relative:i}){yt(_u(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(Lr);Mr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(mi),{pathname:c}=Ea(),h=Mo(),p=Jv(n,Zv(l),c,i==="path"),m=JSON.stringify(p);return w.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:i})},[h,m,i,e,t]),null}function Ol(n){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pN({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){yt(!_u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=yu(t));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:E="default"}=t,S=w.useMemo(()=>{let C=ts(p,c);return C==null?null:{location:{pathname:C,search:m,hash:y,state:_,key:E},navigationType:i}},[c,p,m,y,_,E,i]);return Mr(S!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:w.createElement(Lr.Provider,{value:h},w.createElement(xf.Provider,{children:e,value:S}))}function mN({children:n,location:e}){return eN(Jy(n),e)}function Jy(n,e=[]){let t=[];return w.Children.forEach(n,(i,a)=>{if(!w.isValidElement(i))return;let l=[...e,a];if(i.type===w.Fragment){t.push.apply(t,Jy(i.props.children,l));return}yt(i.type===Ol,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Jy(i.props.children,l)),t.push(c)}),t}var Pd="get",kd="application/x-www-form-urlencoded";function xp(n){return n!=null&&typeof n.tagName=="string"}function gN(n){return xp(n)&&n.tagName.toLowerCase()==="button"}function yN(n){return xp(n)&&n.tagName.toLowerCase()==="form"}function vN(n){return xp(n)&&n.tagName.toLowerCase()==="input"}function _N(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function EN(n,e){return n.button===0&&(!e||e==="_self")&&!_N(n)}var Ed=null;function TN(){if(Ed===null)try{new FormData(document.createElement("form"),0),Ed=!1}catch{Ed=!0}return Ed}var bN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _y(n){return n!=null&&!bN.has(n)?(Mr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kd}"`),null):n}function wN(n,e){let t,i,a,l,c;if(yN(n)){let h=n.getAttribute("action");i=h?ts(h,e):null,t=n.getAttribute("method")||Pd,a=_y(n.getAttribute("enctype"))||kd,l=new FormData(n)}else if(gN(n)||vN(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?ts(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Pd,a=_y(n.getAttribute("formenctype"))||_y(h.getAttribute("enctype"))||kd,l=new FormData(h,n),!TN()){let{name:m,type:y,value:_}=n;if(y==="image"){let E=m?`${m}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else m&&l.append(m,_)}}else{if(xp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Pd,i=null,a=kd,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function r_(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function SN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function AN(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await SN(l,t);return c.links?c.links():[]}return[]}));return ON(i.flat(1).filter(RN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function nw(n,e,t,i,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,h=(p,m)=>{var y;return t[m].pathname!==p.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||h(p,m)):l==="data"?e.filter((p,m)=>{var _;let y=i.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function CN(n,e,{includeHydrateFallback:t}={}){return IN(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function IN(n){return[...new Set(n)]}function xN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function ON(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(xN(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}var DN=new Set([100,101,204,205]);function NN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ts(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function JR(){let n=w.useContext(vu);return r_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function MN(){let n=w.useContext(Ip);return r_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var i_=w.createContext(void 0);i_.displayName="FrameworkContext";function eA(){let n=w.useContext(i_);return r_(n,"You must render this element inside a <HydratedRouter> element"),n}function PN(n,e){let t=w.useContext(i_),[i,a]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,E=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=U=>{U.forEach(G=>{c(G.isIntersecting)})},x=new IntersectionObserver(k,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[n]),w.useEffect(()=>{if(i){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[i]);let S=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Lc(h,S),onBlur:Lc(p,C),onMouseEnter:Lc(m,S),onMouseLeave:Lc(y,C),onTouchStart:Lc(_,S)}]:[!1,E,{}]}function Lc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kN({page:n,...e}){let{router:t}=JR(),i=w.useMemo(()=>HR(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?w.createElement(LN,{page:n,matches:i,...e}):null}function VN(n){let{manifest:e,routeModules:t}=eA(),[i,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return AN(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function LN({page:n,matches:e,...t}){let i=Ea(),{manifest:a,routeModules:l}=eA(),{basename:c}=JR(),{loaderData:h,matches:p}=MN(),m=w.useMemo(()=>nw(n,e,p,a,i,"data"),[n,e,p,a,i]),y=w.useMemo(()=>nw(n,e,p,a,i,"assets"),[n,e,p,a,i]),_=w.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,k=!1;if(e.forEach(U=>{var z;let G=a.routes[U.route.id];!G||!G.hasLoader||(!m.some(H=>H.route.id===U.route.id)&&U.route.id in h&&((z=l[U.route.id])!=null&&z.shouldRevalidate)||G.hasClientLoader?k=!0:C.add(U.route.id))}),C.size===0)return[];let x=NN(n,c);return k&&C.size>0&&x.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[x.pathname+x.search]},[c,h,i,a,m,e,n,l]),E=w.useMemo(()=>CN(y,a),[y,a]),S=VN(y);return w.createElement(w.Fragment,null,_.map(C=>w.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),E.map(C=>w.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),S.map(({key:C,link:k})=>w.createElement("link",{key:C,...k})))}function UN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var tA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tA&&(window.__reactRouterVersion="7.5.3")}catch{}function jN({basename:n,children:e,window:t}){let i=w.useRef();i.current==null&&(i.current=AD({window:t,v5Compat:!0}));let a=i.current,[l,c]=w.useState({action:a.action,location:a.location}),h=w.useCallback(p=>{w.startTransition(()=>c(p))},[c]);return w.useLayoutEffect(()=>a.listen(h),[a,h]),w.createElement(pN,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var nA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lo=w.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:p,to:m,preventScrollReset:y,viewTransition:_,...E},S){let{basename:C}=w.useContext(Lr),k=typeof m=="string"&&nA.test(m),x,U=!1;if(typeof m=="string"&&k&&(x=m,tA))try{let D=new URL(window.location.href),P=m.startsWith("//")?new URL(D.protocol+m):new URL(m),V=ts(P.pathname,C);P.origin===D.origin&&V!=null?m=V+P.search+P.hash:U=!0}catch{Mr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=ZD(m,{relative:a}),[z,H,K]=PN(i,E),J=qN(m,{replace:c,state:h,target:p,preventScrollReset:y,relative:a,viewTransition:_});function N(D){e&&e(D),D.defaultPrevented||J(D)}let I=w.createElement("a",{...E,...K,href:x||G,onClick:U||l?e:N,ref:UN(S,H),target:p,"data-discover":!k&&t==="render"?"true":void 0});return z&&!k?w.createElement(w.Fragment,null,I,w.createElement(kN,{page:G})):I});lo.displayName="Link";var BN=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:p,...m},y){let _=Of(c,{relative:m.relative}),E=Ea(),S=w.useContext(Ip),{navigator:C,basename:k}=w.useContext(Lr),x=S!=null&&QN(_)&&h===!0,U=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,G=E.pathname,z=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(G=G.toLowerCase(),z=z?z.toLowerCase():null,U=U.toLowerCase()),z&&k&&(z=ts(z,k)||z);const H=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let K=G===U||!a&&G.startsWith(U)&&G.charAt(H)==="/",J=z!=null&&(z===U||!a&&z.startsWith(U)&&z.charAt(U.length)==="/"),N={isActive:K,isPending:J,isTransitioning:x},I=K?e:void 0,D;typeof i=="function"?D=i(N):D=[i,K?"active":null,J?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(N):l;return w.createElement(lo,{...m,"aria-current":I,className:D,ref:y,style:P,to:c,viewTransition:h},typeof p=="function"?p(N):p)});BN.displayName="NavLink";var zN=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Pd,action:h,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...E},S)=>{let C=GN(),k=KN(h,{relative:m}),x=c.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&nA.test(h),G=z=>{if(p&&p(z),z.defaultPrevented)return;z.preventDefault();let H=z.nativeEvent.submitter,K=(H==null?void 0:H.getAttribute("formmethod"))||c;C(H||z.currentTarget,{fetcherKey:e,method:K,navigate:t,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:_})};return w.createElement("form",{ref:S,method:x,action:k,onSubmit:i?p:G,...E,"data-discover":!U&&n==="render"?"true":void 0})});zN.displayName="Form";function FN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rA(n){let e=w.useContext(vu);return yt(e,FN(n)),e}function qN(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let h=Mo(),p=Ea(),m=Of(n,{relative:l});return w.useCallback(y=>{if(EN(y,e)){y.preventDefault();let _=t!==void 0?t:sf(p)===sf(m);h(n,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[p,h,m,t,i,e,n,a,l,c])}var HN=0,$N=()=>`__${String(++HN)}__`;function GN(){let{router:n}=rA("useSubmit"),{basename:e}=w.useContext(Lr),t=uN();return w.useCallback(async(i,a={})=>{let{action:l,method:c,encType:h,formData:p,body:m}=wN(i,e);if(a.navigate===!1){let y=a.fetcherKey||$N();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function KN(n,{relative:e}={}){let{basename:t}=w.useContext(Lr),i=w.useContext(mi);yt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Of(n||".",{relative:e})},c=Ea();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Xi([t,l.pathname])),sf(l)}function QN(n,e={}){let t=w.useContext(QR);yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rA("useViewTransitionState"),a=Of(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ts(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ts(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Kd(a.pathname,c)!=null||Kd(a.pathname,l)!=null}new TextEncoder;[...DN];var YN=qR();const kl=If(YN);var Ey={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var rw;function XN(){return rw||(rw=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var h=arguments[c];h&&(l=a(l,i(h)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var h in l)e.call(l,h)&&l[h]&&(c=a(c,h));return c}function a(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Ey)),Ey.exports}var WN=XN();const me=If(WN),ZN=["xxl","xl","lg","md","sm","xs"],JN="xs",Df=w.createContext({prefixes:{},breakpoints:ZN,minBreakpoint:JN}),{Consumer:cz,Provider:fz}=Df;function Te(n,e){const{prefixes:t}=w.useContext(Df);return n||t[e]||e}function iA(){const{breakpoints:n}=w.useContext(Df);return n}function sA(){const{minBreakpoint:n}=w.useContext(Df);return n}function aA(){const{dir:n}=w.useContext(Df);return n==="rtl"}const Nf=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...a},l)=>{const c=Te(n,"container"),h=typeof e=="string"?`-${e}`:"-fluid";return R.jsx(t,{ref:l,...a,className:me(i,e?`${c}${h}`:c)})});Nf.displayName="Container";const To=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},a)=>{const l=Te(n,"row"),c=iA(),h=sA(),p=`${l}-cols`,m=[];return c.forEach(y=>{const _=i[y];delete i[y];let E;_!=null&&typeof _=="object"?{cols:E}=_:E=_;const S=y!==h?`-${y}`:"";E!=null&&m.push(`${p}${S}-${E}`)}),R.jsx(t,{ref:a,...i,className:me(e,l,...m)})});To.displayName="Row";function eM({as:n,bsPrefix:e,className:t,...i}){e=Te(e,"col");const a=iA(),l=sA(),c=[],h=[];return a.forEach(p=>{const m=i[p];delete i[p];let y,_,E;typeof m=="object"&&m!=null?{span:y,offset:_,order:E}=m:y=m;const S=p!==l?`-${p}`:"";y&&c.push(y===!0?`${e}${S}`:`${e}${S}-${y}`),E!=null&&h.push(`order${S}-${E}`),_!=null&&h.push(`offset${S}-${_}`)}),[{...i,className:me(t,...c,...h)},{as:n,bsPrefix:e,spans:c}]}const ca=w.forwardRef((n,e)=>{const[{className:t,...i},{as:a="div",bsPrefix:l,spans:c}]=eM(n);return R.jsx(a,{...i,ref:e,className:me(t,!c.length&&l)})});ca.displayName="Col";var Mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bo=typeof window>"u"||"Deno"in globalThis;function gr(){}function tM(n,e){return typeof n=="function"?n(e):n}function ev(n){return typeof n=="number"&&n>=0&&n!==1/0}function oA(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Ll(n,e){return typeof n=="function"?n(e):n}function xr(n,e){return typeof n=="function"?n(e):n}function iw(n,e){const{type:t="all",exact:i,fetchStatus:a,predicate:l,queryKey:c,stale:h}=n;if(c){if(i){if(e.queryHash!==s_(c,e.options))return!1}else if(!of(e.queryKey,c))return!1}if(t!=="all"){const p=e.isActive();if(t==="active"&&!p||t==="inactive"&&p)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||l&&!l(e))}function sw(n,e){const{exact:t,status:i,predicate:a,mutationKey:l}=n;if(l){if(!e.options.mutationKey)return!1;if(t){if(af(e.options.mutationKey)!==af(l))return!1}else if(!of(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function s_(n,e){return((e==null?void 0:e.queryKeyHashFn)||af)(n)}function af(n){return JSON.stringify(n,(e,t)=>nv(t)?Object.keys(t).sort().reduce((i,a)=>(i[a]=t[a],i),{}):t)}function of(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>of(n[t],e[t])):!1}function lA(n,e){if(n===e)return n;const t=aw(n)&&aw(e);if(t||nv(n)&&nv(e)){const i=t?n:Object.keys(n),a=i.length,l=t?e:Object.keys(e),c=l.length,h=t?[]:{};let p=0;for(let m=0;m<c;m++){const y=t?m:l[m];(!t&&i.includes(y)||t)&&n[y]===void 0&&e[y]===void 0?(h[y]=void 0,p++):(h[y]=lA(n[y],e[y]),h[y]===n[y]&&n[y]!==void 0&&p++)}return a===c&&p===a?n:h}return e}function tv(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function aw(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function nv(n){if(!ow(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!ow(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function ow(n){return Object.prototype.toString.call(n)==="[object Object]"}function nM(n){return new Promise(e=>{setTimeout(e,n)})}function rv(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?lA(n,e):e}function rM(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function iM(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var a_=Symbol();function uA(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===a_?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var fo,Ys,Fl,PR,sM=(PR=class extends Mf{constructor(){super();De(this,fo);De(this,Ys);De(this,Fl);ye(this,Fl,e=>{if(!bo&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){q(this,Ys)||this.setEventListener(q(this,Fl))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Ys))==null||e.call(this),ye(this,Ys,void 0))}setEventListener(e){var t;ye(this,Fl,e),(t=q(this,Ys))==null||t.call(this),ye(this,Ys,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){q(this,fo)!==e&&(ye(this,fo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof q(this,fo)=="boolean"?q(this,fo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},fo=new WeakMap,Ys=new WeakMap,Fl=new WeakMap,PR),o_=new sM,ql,Xs,Hl,kR,aM=(kR=class extends Mf{constructor(){super();De(this,ql,!0);De(this,Xs);De(this,Hl);ye(this,Hl,e=>{if(!bo&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){q(this,Xs)||this.setEventListener(q(this,Hl))}onUnsubscribe(){var e;this.hasListeners()||((e=q(this,Xs))==null||e.call(this),ye(this,Xs,void 0))}setEventListener(e){var t;ye(this,Hl,e),(t=q(this,Xs))==null||t.call(this),ye(this,Xs,e(this.setOnline.bind(this)))}setOnline(e){q(this,ql)!==e&&(ye(this,ql,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return q(this,ql)}},ql=new WeakMap,Xs=new WeakMap,Hl=new WeakMap,kR),Qd=new aM;function iv(){let n,e;const t=new Promise((a,l)=>{n=a,e=l});t.status="pending",t.catch(()=>{});function i(a){Object.assign(t,a),delete t.resolve,delete t.reject}return t.resolve=a=>{i({status:"fulfilled",value:a}),n(a)},t.reject=a=>{i({status:"rejected",reason:a}),e(a)},t}function oM(n){return Math.min(1e3*2**n,3e4)}function cA(n){return(n??"online")==="online"?Qd.isOnline():!0}var fA=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Ty(n){return n instanceof fA}function hA(n){let e=!1,t=0,i=!1,a;const l=iv(),c=k=>{var x;i||(E(new fA(k)),(x=n.abort)==null||x.call(n))},h=()=>{e=!0},p=()=>{e=!1},m=()=>o_.isFocused()&&(n.networkMode==="always"||Qd.isOnline())&&n.canRun(),y=()=>cA(n.networkMode)&&n.canRun(),_=k=>{var x;i||(i=!0,(x=n.onSuccess)==null||x.call(n,k),a==null||a(),l.resolve(k))},E=k=>{var x;i||(i=!0,(x=n.onError)==null||x.call(n,k),a==null||a(),l.reject(k))},S=()=>new Promise(k=>{var x;a=U=>{(i||m())&&k(U)},(x=n.onPause)==null||x.call(n)}).then(()=>{var k;a=void 0,i||(k=n.onContinue)==null||k.call(n)}),C=()=>{if(i)return;let k;const x=t===0?n.initialPromise:void 0;try{k=x??n.fn()}catch(U){k=Promise.reject(U)}Promise.resolve(k).then(_).catch(U=>{var J;if(i)return;const G=n.retry??(bo?0:3),z=n.retryDelay??oM,H=typeof z=="function"?z(t,U):z,K=G===!0||typeof G=="number"&&t<G||typeof G=="function"&&G(t,U);if(e||!K){E(U);return}t++,(J=n.onFail)==null||J.call(n,t,U),nM(H).then(()=>m()?void 0:S()).then(()=>{e?E(U):C()})})};return{promise:l,cancel:c,continue:()=>(a==null||a(),l),cancelRetry:h,continueRetry:p,canStart:y,start:()=>(y()?C():S().then(C),l)}}var lM=n=>setTimeout(n,0);function uM(){let n=[],e=0,t=h=>{h()},i=h=>{h()},a=lM;const l=h=>{e?n.push(h):a(()=>{t(h)})},c=()=>{const h=n;n=[],h.length&&a(()=>{i(()=>{h.forEach(p=>{t(p)})})})};return{batch:h=>{let p;e++;try{p=h()}finally{e--,e||c()}return p},batchCalls:h=>(...p)=>{l(()=>{h(...p)})},schedule:l,setNotifyFunction:h=>{t=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{a=h}}}var ln=uM(),ho,VR,dA=(VR=class{constructor(){De(this,ho)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ev(this.gcTime)&&ye(this,ho,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(bo?1/0:5*60*1e3))}clearGcTimeout(){q(this,ho)&&(clearTimeout(q(this,ho)),ye(this,ho,void 0))}},ho=new WeakMap,VR),$l,Gl,mr,po,_n,Sf,mo,Cr,Hi,LR,cM=(LR=class extends dA{constructor(t){super();De(this,Cr);De(this,$l);De(this,Gl);De(this,mr);De(this,po);De(this,_n);De(this,Sf);De(this,mo);ye(this,mo,!1),ye(this,Sf,t.defaultOptions),this.setOptions(t.options),this.observers=[],ye(this,po,t.client),ye(this,mr,q(this,po).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ye(this,$l,fM(this.options)),this.state=t.state??q(this,$l),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,_n))==null?void 0:t.promise}setOptions(t){this.options={...q(this,Sf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,mr).remove(this)}setData(t,i){const a=rv(this.state.data,t,this.options);return Ke(this,Cr,Hi).call(this,{data:a,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt,manual:i==null?void 0:i.manual}),a}setState(t,i){Ke(this,Cr,Hi).call(this,{type:"setState",state:t,setStateOptions:i})}cancel(t){var a,l;const i=(a=q(this,_n))==null?void 0:a.promise;return(l=q(this,_n))==null||l.cancel(t),i?i.then(gr).catch(gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,$l))}isActive(){return this.observers.some(t=>xr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===a_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!oA(this.state.dataUpdatedAt,t)}onFocus(){var i;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(i=q(this,_n))==null||i.continue()}onOnline(){var i;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(i=q(this,_n))==null||i.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,mr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(i=>i!==t),this.observers.length||(q(this,_n)&&(q(this,mo)?q(this,_n).cancel({revert:!0}):q(this,_n).cancelRetry()),this.scheduleGc()),q(this,mr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ke(this,Cr,Hi).call(this,{type:"invalidate"})}fetch(t,i){var m,y,_;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(q(this,_n))return q(this,_n).continueRetry(),q(this,_n).promise}if(t&&this.setOptions(t),!this.options.queryFn){const E=this.observers.find(S=>S.options.queryFn);E&&this.setOptions(E.options)}const a=new AbortController,l=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(ye(this,mo,!0),a.signal)})},c=()=>{const E=uA(this.options,i),S={client:q(this,po),queryKey:this.queryKey,meta:this.meta};return l(S),ye(this,mo,!1),this.options.persister?this.options.persister(E,S,this):E(S)},h={fetchOptions:i,options:this.options,queryKey:this.queryKey,client:q(this,po),state:this.state,fetchFn:c};l(h),(m=this.options.behavior)==null||m.onFetch(h,this),ye(this,Gl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=h.fetchOptions)==null?void 0:y.meta))&&Ke(this,Cr,Hi).call(this,{type:"fetch",meta:(_=h.fetchOptions)==null?void 0:_.meta});const p=E=>{var S,C,k,x;Ty(E)&&E.silent||Ke(this,Cr,Hi).call(this,{type:"error",error:E}),Ty(E)||((C=(S=q(this,mr).config).onError)==null||C.call(S,E,this),(x=(k=q(this,mr).config).onSettled)==null||x.call(k,this.state.data,E,this)),this.scheduleGc()};return ye(this,_n,hA({initialPromise:i==null?void 0:i.initialPromise,fn:h.fetchFn,abort:a.abort.bind(a),onSuccess:E=>{var S,C,k,x;if(E===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(E)}catch(U){p(U);return}(C=(S=q(this,mr).config).onSuccess)==null||C.call(S,E,this),(x=(k=q(this,mr).config).onSettled)==null||x.call(k,E,this.state.error,this),this.scheduleGc()},onError:p,onFail:(E,S)=>{Ke(this,Cr,Hi).call(this,{type:"failed",failureCount:E,error:S})},onPause:()=>{Ke(this,Cr,Hi).call(this,{type:"pause"})},onContinue:()=>{Ke(this,Cr,Hi).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),q(this,_n).start()}},$l=new WeakMap,Gl=new WeakMap,mr=new WeakMap,po=new WeakMap,_n=new WeakMap,Sf=new WeakMap,mo=new WeakMap,Cr=new WeakSet,Hi=function(t){const i=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...pA(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const l=t.error;return Ty(l)&&l.revert&&q(this,Gl)?{...q(this,Gl),fetchStatus:"idle"}:{...a,error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=i(this.state),ln.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),q(this,mr).notify({query:this,type:"updated",action:t})})},LR);function pA(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:cA(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function fM(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ti,UR,hM=(UR=class extends Mf{constructor(e={}){super();De(this,ti);this.config=e,ye(this,ti,new Map)}build(e,t,i){const a=t.queryKey,l=t.queryHash??s_(a,t);let c=this.get(l);return c||(c=new cM({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){q(this,ti).has(e.queryHash)||(q(this,ti).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=q(this,ti).get(e.queryHash);t&&(e.destroy(),t===e&&q(this,ti).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return q(this,ti).get(e)}getAll(){return[...q(this,ti).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>iw(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>iw(e,i)):t}notify(e){ln.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ti=new WeakMap,UR),ni,In,go,ri,qs,jR,dM=(jR=class extends dA{constructor(t){super();De(this,ri);De(this,ni);De(this,In);De(this,go);this.mutationId=t.mutationId,ye(this,In,t.mutationCache),ye(this,ni,[]),this.state=t.state||pM(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,ni).includes(t)||(q(this,ni).push(t),this.clearGcTimeout(),q(this,In).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ye(this,ni,q(this,ni).filter(i=>i!==t)),this.scheduleGc(),q(this,In).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,ni).length||(this.state.status==="pending"?this.scheduleGc():q(this,In).remove(this))}continue(){var t;return((t=q(this,go))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,h,p,m,y,_,E,S,C,k,x,U,G,z,H,K,J,N,I,D;const i=()=>{Ke(this,ri,qs).call(this,{type:"continue"})};ye(this,go,hA({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,V)=>{Ke(this,ri,qs).call(this,{type:"failed",failureCount:P,error:V})},onPause:()=>{Ke(this,ri,qs).call(this,{type:"pause"})},onContinue:i,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,In).canRun(this)}));const a=this.state.status==="pending",l=!q(this,go).canStart();try{if(a)i();else{Ke(this,ri,qs).call(this,{type:"pending",variables:t,isPaused:l}),await((h=(c=q(this,In).config).onMutate)==null?void 0:h.call(c,t,this));const V=await((m=(p=this.options).onMutate)==null?void 0:m.call(p,t));V!==this.state.context&&Ke(this,ri,qs).call(this,{type:"pending",context:V,variables:t,isPaused:l})}const P=await q(this,go).start();return await((_=(y=q(this,In).config).onSuccess)==null?void 0:_.call(y,P,t,this.state.context,this)),await((S=(E=this.options).onSuccess)==null?void 0:S.call(E,P,t,this.state.context)),await((k=(C=q(this,In).config).onSettled)==null?void 0:k.call(C,P,null,this.state.variables,this.state.context,this)),await((U=(x=this.options).onSettled)==null?void 0:U.call(x,P,null,t,this.state.context)),Ke(this,ri,qs).call(this,{type:"success",data:P}),P}catch(P){try{throw await((z=(G=q(this,In).config).onError)==null?void 0:z.call(G,P,t,this.state.context,this)),await((K=(H=this.options).onError)==null?void 0:K.call(H,P,t,this.state.context)),await((N=(J=q(this,In).config).onSettled)==null?void 0:N.call(J,void 0,P,this.state.variables,this.state.context,this)),await((D=(I=this.options).onSettled)==null?void 0:D.call(I,void 0,P,t,this.state.context)),P}finally{Ke(this,ri,qs).call(this,{type:"error",error:P})}}finally{q(this,In).runNext(this)}}},ni=new WeakMap,In=new WeakMap,go=new WeakMap,ri=new WeakSet,qs=function(t){const i=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=i(this.state),ln.batch(()=>{q(this,ni).forEach(a=>{a.onMutationUpdate(t)}),q(this,In).notify({mutation:this,type:"updated",action:t})})},jR);function pM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Gi,Ir,Rf,BR,mM=(BR=class extends Mf{constructor(e={}){super();De(this,Gi);De(this,Ir);De(this,Rf);this.config=e,ye(this,Gi,new Set),ye(this,Ir,new Map),ye(this,Rf,0)}build(e,t,i){const a=new dM({mutationCache:this,mutationId:++_d(this,Rf)._,options:e.defaultMutationOptions(t),state:i});return this.add(a),a}add(e){q(this,Gi).add(e);const t=Td(e);if(typeof t=="string"){const i=q(this,Ir).get(t);i?i.push(e):q(this,Ir).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(q(this,Gi).delete(e)){const t=Td(e);if(typeof t=="string"){const i=q(this,Ir).get(t);if(i)if(i.length>1){const a=i.indexOf(e);a!==-1&&i.splice(a,1)}else i[0]===e&&q(this,Ir).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Td(e);if(typeof t=="string"){const i=q(this,Ir).get(t),a=i==null?void 0:i.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){var i;const t=Td(e);if(typeof t=="string"){const a=(i=q(this,Ir).get(t))==null?void 0:i.find(l=>l!==e&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ln.batch(()=>{q(this,Gi).forEach(e=>{this.notify({type:"removed",mutation:e})}),q(this,Gi).clear(),q(this,Ir).clear()})}getAll(){return Array.from(q(this,Gi))}find(e){const t={exact:!0,...e};return this.getAll().find(i=>sw(t,i))}findAll(e={}){return this.getAll().filter(t=>sw(e,t))}notify(e){ln.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ln.batch(()=>Promise.all(e.map(t=>t.continue().catch(gr))))}},Gi=new WeakMap,Ir=new WeakMap,Rf=new WeakMap,BR);function Td(n){var e;return(e=n.options.scope)==null?void 0:e.id}function lw(n){return{onFetch:(e,t)=>{var y,_,E,S,C;const i=e.options,a=(E=(_=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:_.fetchMore)==null?void 0:E.direction,l=((S=e.state.data)==null?void 0:S.pages)||[],c=((C=e.state.data)==null?void 0:C.pageParams)||[];let h={pages:[],pageParams:[]},p=0;const m=async()=>{let k=!1;const x=z=>{Object.defineProperty(z,"signal",{enumerable:!0,get:()=>(e.signal.aborted?k=!0:e.signal.addEventListener("abort",()=>{k=!0}),e.signal)})},U=uA(e.options,e.fetchOptions),G=async(z,H,K)=>{if(k)return Promise.reject();if(H==null&&z.pages.length)return Promise.resolve(z);const J={client:e.client,queryKey:e.queryKey,pageParam:H,direction:K?"backward":"forward",meta:e.options.meta};x(J);const N=await U(J),{maxPages:I}=e.options,D=K?iM:rM;return{pages:D(z.pages,N,I),pageParams:D(z.pageParams,H,I)}};if(a&&l.length){const z=a==="backward",H=z?gM:uw,K={pages:l,pageParams:c},J=H(i,K);h=await G(K,J,z)}else{const z=n??l.length;do{const H=p===0?c[0]??i.initialPageParam:uw(i,h);if(p>0&&H==null)break;h=await G(h,H),p++}while(p<z)}return h};e.options.persister?e.fetchFn=()=>{var k,x;return(x=(k=e.options).persister)==null?void 0:x.call(k,m,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=m}}}function uw(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function gM(n,{pages:e,pageParams:t}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t):void 0}var wt,Ws,Zs,Kl,Ql,Js,Yl,Xl,zR,yM=(zR=class{constructor(n={}){De(this,wt);De(this,Ws);De(this,Zs);De(this,Kl);De(this,Ql);De(this,Js);De(this,Yl);De(this,Xl);ye(this,wt,n.queryCache||new hM),ye(this,Ws,n.mutationCache||new mM),ye(this,Zs,n.defaultOptions||{}),ye(this,Kl,new Map),ye(this,Ql,new Map),ye(this,Js,0)}mount(){_d(this,Js)._++,q(this,Js)===1&&(ye(this,Yl,o_.subscribe(async n=>{n&&(await this.resumePausedMutations(),q(this,wt).onFocus())})),ye(this,Xl,Qd.subscribe(async n=>{n&&(await this.resumePausedMutations(),q(this,wt).onOnline())})))}unmount(){var n,e;_d(this,Js)._--,q(this,Js)===0&&((n=q(this,Yl))==null||n.call(this),ye(this,Yl,void 0),(e=q(this,Xl))==null||e.call(this),ye(this,Xl,void 0))}isFetching(n){return q(this,wt).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return q(this,Ws).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=q(this,wt).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=q(this,wt).build(this,e),i=t.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Ll(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return q(this,wt).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),a=q(this,wt).get(i.queryHash),l=a==null?void 0:a.state.data,c=tM(e,l);if(c!==void 0)return q(this,wt).build(this,i).setData(c,{...t,manual:!0})}setQueriesData(n,e,t){return ln.batch(()=>q(this,wt).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=q(this,wt).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=q(this,wt);ln.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=q(this,wt);return ln.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},i=ln.batch(()=>q(this,wt).findAll(n).map(a=>a.cancel(t)));return Promise.all(i).then(gr).catch(gr)}invalidateQueries(n,e={}){return ln.batch(()=>(q(this,wt).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},i=ln.batch(()=>q(this,wt).findAll(n).filter(a=>!a.isDisabled()).map(a=>{let l=a.fetch(void 0,t);return t.throwOnError||(l=l.catch(gr)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(gr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=q(this,wt).build(this,e);return t.isStaleByTime(Ll(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(gr).catch(gr)}fetchInfiniteQuery(n){return n.behavior=lw(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(gr).catch(gr)}ensureInfiniteQueryData(n){return n.behavior=lw(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Qd.isOnline()?q(this,Ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,wt)}getMutationCache(){return q(this,Ws)}getDefaultOptions(){return q(this,Zs)}setDefaultOptions(n){ye(this,Zs,n)}setQueryDefaults(n,e){q(this,Kl).set(af(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...q(this,Kl).values()],t={};return e.forEach(i=>{of(n,i.queryKey)&&Object.assign(t,i.defaultOptions)}),t}setMutationDefaults(n,e){q(this,Ql).set(af(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...q(this,Ql).values()],t={};return e.forEach(i=>{of(n,i.mutationKey)&&Object.assign(t,i.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...q(this,Zs).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=s_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===a_&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...q(this,Zs).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){q(this,wt).clear(),q(this,Ws).clear()}},wt=new WeakMap,Ws=new WeakMap,Zs=new WeakMap,Kl=new WeakMap,Ql=new WeakMap,Js=new WeakMap,Yl=new WeakMap,Xl=new WeakMap,zR),kn,Qe,Af,xn,yo,Wl,ea,ta,Cf,Zl,Jl,vo,_o,na,eu,rt,zc,sv,av,ov,lv,uv,cv,fv,mA,FR,vM=(FR=class extends Mf{constructor(e,t){super();De(this,rt);De(this,kn);De(this,Qe);De(this,Af);De(this,xn);De(this,yo);De(this,Wl);De(this,ea);De(this,ta);De(this,Cf);De(this,Zl);De(this,Jl);De(this,vo);De(this,_o);De(this,na);De(this,eu,new Set);this.options=t,ye(this,kn,e),ye(this,ta,null),ye(this,ea,iv()),this.options.experimental_prefetchInRender||q(this,ea).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,Qe).addObserver(this),cw(q(this,Qe),this.options)?Ke(this,rt,zc).call(this):this.updateResult(),Ke(this,rt,lv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hv(q(this,Qe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hv(q(this,Qe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ke(this,rt,uv).call(this),Ke(this,rt,cv).call(this),q(this,Qe).removeObserver(this)}setOptions(e){const t=this.options,i=q(this,Qe);if(this.options=q(this,kn).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xr(this.options.enabled,q(this,Qe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ke(this,rt,fv).call(this),q(this,Qe).setOptions(this.options),t._defaulted&&!tv(this.options,t)&&q(this,kn).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,Qe),observer:this});const a=this.hasListeners();a&&fw(q(this,Qe),i,this.options,t)&&Ke(this,rt,zc).call(this),this.updateResult(),a&&(q(this,Qe)!==i||xr(this.options.enabled,q(this,Qe))!==xr(t.enabled,q(this,Qe))||Ll(this.options.staleTime,q(this,Qe))!==Ll(t.staleTime,q(this,Qe)))&&Ke(this,rt,sv).call(this);const l=Ke(this,rt,av).call(this);a&&(q(this,Qe)!==i||xr(this.options.enabled,q(this,Qe))!==xr(t.enabled,q(this,Qe))||l!==q(this,na))&&Ke(this,rt,ov).call(this,l)}getOptimisticResult(e){const t=q(this,kn).getQueryCache().build(q(this,kn),e),i=this.createResult(t,e);return EM(this,i)&&(ye(this,xn,i),ye(this,Wl,this.options),ye(this,yo,q(this,Qe).state)),i}getCurrentResult(){return q(this,xn)}trackResult(e,t){return new Proxy(e,{get:(i,a)=>(this.trackProp(a),t==null||t(a),Reflect.get(i,a))})}trackProp(e){q(this,eu).add(e)}getCurrentQuery(){return q(this,Qe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=q(this,kn).defaultQueryOptions(e),i=q(this,kn).getQueryCache().build(q(this,kn),t);return i.fetch().then(()=>this.createResult(i,t))}fetch(e){return Ke(this,rt,zc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,xn)))}createResult(e,t){var D;const i=q(this,Qe),a=this.options,l=q(this,xn),c=q(this,yo),h=q(this,Wl),m=e!==i?e.state:q(this,Af),{state:y}=e;let _={...y},E=!1,S;if(t._optimisticResults){const P=this.hasListeners(),V=!P&&cw(e,t),B=P&&fw(e,i,t,a);(V||B)&&(_={..._,...pA(y.data,e.options)}),t._optimisticResults==="isRestoring"&&(_.fetchStatus="idle")}let{error:C,errorUpdatedAt:k,status:x}=_;S=_.data;let U=!1;if(t.placeholderData!==void 0&&S===void 0&&x==="pending"){let P;l!=null&&l.isPlaceholderData&&t.placeholderData===(h==null?void 0:h.placeholderData)?(P=l.data,U=!0):P=typeof t.placeholderData=="function"?t.placeholderData((D=q(this,Jl))==null?void 0:D.state.data,q(this,Jl)):t.placeholderData,P!==void 0&&(x="success",S=rv(l==null?void 0:l.data,P,t),E=!0)}if(t.select&&S!==void 0&&!U)if(l&&S===(c==null?void 0:c.data)&&t.select===q(this,Cf))S=q(this,Zl);else try{ye(this,Cf,t.select),S=t.select(S),S=rv(l==null?void 0:l.data,S,t),ye(this,Zl,S),ye(this,ta,null)}catch(P){ye(this,ta,P)}q(this,ta)&&(C=q(this,ta),S=q(this,Zl),k=Date.now(),x="error");const G=_.fetchStatus==="fetching",z=x==="pending",H=x==="error",K=z&&G,J=S!==void 0,I={status:x,fetchStatus:_.fetchStatus,isPending:z,isSuccess:x==="success",isError:H,isInitialLoading:K,isLoading:K,data:S,dataUpdatedAt:_.dataUpdatedAt,error:C,errorUpdatedAt:k,failureCount:_.fetchFailureCount,failureReason:_.fetchFailureReason,errorUpdateCount:_.errorUpdateCount,isFetched:_.dataUpdateCount>0||_.errorUpdateCount>0,isFetchedAfterMount:_.dataUpdateCount>m.dataUpdateCount||_.errorUpdateCount>m.errorUpdateCount,isFetching:G,isRefetching:G&&!z,isLoadingError:H&&!J,isPaused:_.fetchStatus==="paused",isPlaceholderData:E,isRefetchError:H&&J,isStale:l_(e,t),refetch:this.refetch,promise:q(this,ea)};if(this.options.experimental_prefetchInRender){const P=M=>{I.status==="error"?M.reject(I.error):I.data!==void 0&&M.resolve(I.data)},V=()=>{const M=ye(this,ea,I.promise=iv());P(M)},B=q(this,ea);switch(B.status){case"pending":e.queryHash===i.queryHash&&P(B);break;case"fulfilled":(I.status==="error"||I.data!==B.value)&&V();break;case"rejected":(I.status!=="error"||I.error!==B.reason)&&V();break}}return I}updateResult(){const e=q(this,xn),t=this.createResult(q(this,Qe),this.options);if(ye(this,yo,q(this,Qe).state),ye(this,Wl,this.options),q(this,yo).data!==void 0&&ye(this,Jl,q(this,Qe)),tv(t,e))return;ye(this,xn,t);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!q(this,eu).size)return!0;const c=new Set(l??q(this,eu));return this.options.throwOnError&&c.add("error"),Object.keys(q(this,xn)).some(h=>{const p=h;return q(this,xn)[p]!==e[p]&&c.has(p)})};Ke(this,rt,mA).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ke(this,rt,lv).call(this)}},kn=new WeakMap,Qe=new WeakMap,Af=new WeakMap,xn=new WeakMap,yo=new WeakMap,Wl=new WeakMap,ea=new WeakMap,ta=new WeakMap,Cf=new WeakMap,Zl=new WeakMap,Jl=new WeakMap,vo=new WeakMap,_o=new WeakMap,na=new WeakMap,eu=new WeakMap,rt=new WeakSet,zc=function(e){Ke(this,rt,fv).call(this);let t=q(this,Qe).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(gr)),t},sv=function(){Ke(this,rt,uv).call(this);const e=Ll(this.options.staleTime,q(this,Qe));if(bo||q(this,xn).isStale||!ev(e))return;const i=oA(q(this,xn).dataUpdatedAt,e)+1;ye(this,vo,setTimeout(()=>{q(this,xn).isStale||this.updateResult()},i))},av=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,Qe)):this.options.refetchInterval)??!1},ov=function(e){Ke(this,rt,cv).call(this),ye(this,na,e),!(bo||xr(this.options.enabled,q(this,Qe))===!1||!ev(q(this,na))||q(this,na)===0)&&ye(this,_o,setInterval(()=>{(this.options.refetchIntervalInBackground||o_.isFocused())&&Ke(this,rt,zc).call(this)},q(this,na)))},lv=function(){Ke(this,rt,sv).call(this),Ke(this,rt,ov).call(this,Ke(this,rt,av).call(this))},uv=function(){q(this,vo)&&(clearTimeout(q(this,vo)),ye(this,vo,void 0))},cv=function(){q(this,_o)&&(clearInterval(q(this,_o)),ye(this,_o,void 0))},fv=function(){const e=q(this,kn).getQueryCache().build(q(this,kn),this.options);if(e===q(this,Qe))return;const t=q(this,Qe);ye(this,Qe,e),ye(this,Af,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},mA=function(e){ln.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(q(this,xn))}),q(this,kn).getQueryCache().notify({query:q(this,Qe),type:"observerResultsUpdated"})})},FR);function _M(n,e){return xr(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function cw(n,e){return _M(n,e)||n.state.data!==void 0&&hv(n,e,e.refetchOnMount)}function hv(n,e,t){if(xr(e.enabled,n)!==!1){const i=typeof t=="function"?t(n):t;return i==="always"||i!==!1&&l_(n,e)}return!1}function fw(n,e,t,i){return(n!==e||xr(i.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&l_(n,t)}function l_(n,e){return xr(e.enabled,n)!==!1&&n.isStaleByTime(Ll(e.staleTime,n))}function EM(n,e){return!tv(n.getCurrentResult(),e)}var gA=w.createContext(void 0),TM=n=>{const e=w.useContext(gA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},bM=({client:n,children:e})=>(w.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),R.jsx(gA.Provider,{value:n,children:e})),yA=w.createContext(!1),wM=()=>w.useContext(yA);yA.Provider;function SM(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var RM=w.createContext(SM()),AM=()=>w.useContext(RM);function CM(n,e){return typeof n=="function"?n(...e):!!n}function hw(){}var IM=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},xM=n=>{w.useEffect(()=>{n.clearReset()},[n])},OM=({result:n,errorResetBoundary:e,throwOnError:t,query:i,suspense:a})=>n.isError&&!e.isReset()&&!n.isFetching&&i&&(a&&n.data===void 0||CM(t,[n.error,i])),DM=n=>{const e=n.staleTime;n.suspense&&(n.staleTime=typeof e=="function"?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3)))},NM=(n,e)=>n.isLoading&&n.isFetching&&!e,MM=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,dw=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function PM(n,e,t){var _,E,S,C,k;const i=TM(),a=wM(),l=AM(),c=i.defaultQueryOptions(n);(E=(_=i.getDefaultOptions().queries)==null?void 0:_._experimental_beforeQuery)==null||E.call(_,c),c._optimisticResults=a?"isRestoring":"optimistic",DM(c),IM(c,l),xM(l);const h=!i.getQueryCache().get(c.queryHash),[p]=w.useState(()=>new e(i,c)),m=p.getOptimisticResult(c),y=!a&&n.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(x=>{const U=y?p.subscribe(ln.batchCalls(x)):hw;return p.updateResult(),U},[p,y]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),w.useEffect(()=>{p.setOptions(c)},[c,p]),MM(c,m))throw dw(c,p,l);if(OM({result:m,errorResetBoundary:l,throwOnError:c.throwOnError,query:i.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;if((C=(S=i.getDefaultOptions().queries)==null?void 0:S._experimental_afterQuery)==null||C.call(S,c,m),c.experimental_prefetchInRender&&!bo&&NM(m,a)){const x=h?dw(c,p,l):(k=i.getQueryCache().get(c.queryHash))==null?void 0:k.promise;x==null||x.catch(hw).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?m:p.trackResult(m)}function vA(n,e){return PM(n,vM)}var by={exports:{}},wy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function kM(){if(pw)return wy;pw=1;var n=Cp();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,a=n.useRef,l=n.useEffect,c=n.useMemo,h=n.useDebugValue;return wy.useSyncExternalStoreWithSelector=function(p,m,y,_,E){var S=a(null);if(S.current===null){var C={hasValue:!1,value:null};S.current=C}else C=S.current;S=c(function(){function x(K){if(!U){if(U=!0,G=K,K=_(K),E!==void 0&&C.hasValue){var J=C.value;if(E(J,K))return z=J}return z=K}if(J=z,t(G,K))return J;var N=_(K);return E!==void 0&&E(J,N)?(G=K,J):(G=K,z=N)}var U=!1,G,z,H=y===void 0?null:y;return[function(){return x(m())},H===null?void 0:function(){return x(H())}]},[m,y,_,E]);var k=i(p,S[0],S[1]);return l(function(){C.hasValue=!0,C.value=k},[k]),h(k),k},wy}var mw;function VM(){return mw||(mw=1,by.exports=kM()),by.exports}var LM=VM();function UM(n){n()}function jM(){let n=null,e=null;return{clear(){n=null,e=null},notify(){UM(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:n=a,function(){!i||n===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var gw={notify(){},get:()=>[]};function BM(n,e){let t,i=gw,a=0,l=!1;function c(k){y();const x=i.subscribe(k);let U=!1;return()=>{U||(U=!0,x(),_())}}function h(){i.notify()}function p(){C.onStateChange&&C.onStateChange()}function m(){return l}function y(){a++,t||(t=n.subscribe(p),i=jM())}function _(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=gw)}function E(){l||(l=!0,y())}function S(){l&&(l=!1,_())}const C={addNestedSub:c,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:m,trySubscribe:E,tryUnsubscribe:S,getListeners:()=>i};return C}var zM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FM=zM(),qM=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HM=qM(),$M=()=>FM||HM?w.useLayoutEffect:w.useEffect,GM=$M(),Sy=Symbol.for("react-redux-context"),Ry=typeof globalThis<"u"?globalThis:{};function KM(){if(!w.createContext)return{};const n=Ry[Sy]??(Ry[Sy]=new Map);let e=n.get(w.createContext);return e||(e=w.createContext(null),n.set(w.createContext,e)),e}var fa=KM();function QM(n){const{children:e,context:t,serverState:i,store:a}=n,l=w.useMemo(()=>{const p=BM(a);return{store:a,subscription:p,getServerState:i?()=>i:void 0}},[a,i]),c=w.useMemo(()=>a.getState(),[a]);GM(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,c]);const h=t||fa;return w.createElement(h.Provider,{value:l},e)}var YM=QM;function u_(n=fa){return function(){return w.useContext(n)}}var _A=u_();function EA(n=fa){const e=n===fa?_A:u_(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var XM=EA();function WM(n=fa){const e=n===fa?XM:EA(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var us=WM(),ZM=(n,e)=>n===e;function JM(n=fa){const e=n===fa?_A:u_(n),t=(i,a={})=>{const{equalityFn:l=ZM}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:h,subscription:p,getServerState:m}=c;w.useRef(!0);const y=w.useCallback({[i.name](E){return i(E)}}[i.name],[i]),_=LM.useSyncExternalStoreWithSelector(p.addNestedSub,h.getState,m||h.getState,y,l);return w.useDebugValue(_),_};return Object.assign(t,{withTypes:()=>t}),t}var Pr=JM();const e2=()=>{};var yw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},t2=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],h=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},bA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,h=c?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let E=(h&15)<<2|m>>6,S=m&63;p||(S=64,c||(E=64)),i.push(t[y],t[_],t[E],t[S])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(TA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):t2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||m==null||_==null)throw new n2;const E=l<<2|h>>4;if(i.push(E),m!==64){const S=h<<4&240|m>>2;if(i.push(S),_!==64){const C=m<<6&192|_;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class n2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r2=function(n){const e=TA(n);return bA.encodeByteArray(e,!0)},Yd=function(n){return r2(n).replace(/\./g,"")},wA=function(n){try{return bA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=()=>i2().__FIREBASE_DEFAULTS__,a2=()=>{if(typeof process>"u"||typeof yw>"u")return;const n=yw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},o2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&wA(n[1]);return e&&JSON.parse(e)},Op=()=>{try{return e2()||s2()||a2()||o2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},SA=n=>{var e,t;return(t=(e=Op())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},l2=n=>{const e=SA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},RA=()=>{var n;return(n=Op())===null||n===void 0?void 0:n.config},AA=n=>{var e;return(e=Op())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yd(JSON.stringify(t)),Yd(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function h2(){var n;const e=(n=Op())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function m2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g2(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function y2(){return!h2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v2(){try{return typeof indexedDB=="object"}catch{return!1}}function _2(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="FirebaseError";class cs extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=E2,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pf.prototype.create)}}class Pf{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?T2(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new cs(a,h,i)}}function T2(n,e){return n.replace(b2,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const b2=/\{\$([^}]+)}/g;function w2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wo(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(vw(l)&&vw(c)){if(!wo(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function vw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Fc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function qc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function S2(n,e){const t=new R2(n,e);return t.subscribe.bind(t)}class R2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");A2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Ay),a.error===void 0&&(a.error=Ay),a.complete===void 0&&(a.complete=Ay);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ay(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(n){return n&&n._delegate?n._delegate:n}class So{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new u2;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(x2(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:I2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I2(n){return n===ao?void 0:n}function x2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new C2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const D2={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},N2=$e.INFO,M2={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},P2=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=M2[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=N2,this._logHandler=P2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?D2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const k2=(n,e)=>e.some(t=>n instanceof t);let _w,Ew;function V2(){return _w||(_w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L2(){return Ew||(Ew=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CA=new WeakMap,dv=new WeakMap,IA=new WeakMap,Cy=new WeakMap,f_=new WeakMap;function U2(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(sa(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&CA.set(t,n)}).catch(()=>{}),f_.set(e,n),e}function j2(n){if(dv.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});dv.set(n,e)}let pv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return sa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function B2(n){pv=n(pv)}function z2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Iy(this),e,...t);return IA.set(i,e.sort?e.sort():[e]),sa(i)}:L2().includes(n)?function(...e){return n.apply(Iy(this),e),sa(CA.get(this))}:function(...e){return sa(n.apply(Iy(this),e))}}function F2(n){return typeof n=="function"?z2(n):(n instanceof IDBTransaction&&j2(n),k2(n,V2())?new Proxy(n,pv):n)}function sa(n){if(n instanceof IDBRequest)return U2(n);if(Cy.has(n))return Cy.get(n);const e=F2(n);return e!==n&&(Cy.set(n,e),f_.set(e,n)),e}const Iy=n=>f_.get(n);function q2(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),h=sa(c);return i&&c.addEventListener("upgradeneeded",p=>{i(sa(c.result),p.oldVersion,p.newVersion,sa(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const H2=["get","getKey","getAll","getAllKeys","count"],$2=["put","add","delete","clear"],xy=new Map;function Tw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xy.get(e))return xy.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=$2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||H2.includes(t)))return;const l=async function(c,...h){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&p.done]))[0]};return xy.set(e,l),l}B2(n=>({...n,get:(e,t,i)=>Tw(e,t)||n.get(e,t,i),has:(e,t)=>!!Tw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(K2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function K2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mv="@firebase/app",bw="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns=new c_("@firebase/app"),Q2="@firebase/app-compat",Y2="@firebase/analytics-compat",X2="@firebase/analytics",W2="@firebase/app-check-compat",Z2="@firebase/app-check",J2="@firebase/auth",eP="@firebase/auth-compat",tP="@firebase/database",nP="@firebase/data-connect",rP="@firebase/database-compat",iP="@firebase/functions",sP="@firebase/functions-compat",aP="@firebase/installations",oP="@firebase/installations-compat",lP="@firebase/messaging",uP="@firebase/messaging-compat",cP="@firebase/performance",fP="@firebase/performance-compat",hP="@firebase/remote-config",dP="@firebase/remote-config-compat",pP="@firebase/storage",mP="@firebase/storage-compat",gP="@firebase/firestore",yP="@firebase/vertexai",vP="@firebase/firestore-compat",_P="firebase",EP="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="[DEFAULT]",TP={[mv]:"fire-core",[Q2]:"fire-core-compat",[X2]:"fire-analytics",[Y2]:"fire-analytics-compat",[Z2]:"fire-app-check",[W2]:"fire-app-check-compat",[J2]:"fire-auth",[eP]:"fire-auth-compat",[tP]:"fire-rtdb",[nP]:"fire-data-connect",[rP]:"fire-rtdb-compat",[iP]:"fire-fn",[sP]:"fire-fn-compat",[aP]:"fire-iid",[oP]:"fire-iid-compat",[lP]:"fire-fcm",[uP]:"fire-fcm-compat",[cP]:"fire-perf",[fP]:"fire-perf-compat",[hP]:"fire-rc",[dP]:"fire-rc-compat",[pP]:"fire-gcs",[mP]:"fire-gcs-compat",[gP]:"fire-fst",[vP]:"fire-fst-compat",[yP]:"fire-vertex","fire-js":"fire-js",[_P]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Map,bP=new Map,yv=new Map;function ww(n,e){try{n.container.addComponent(e)}catch(t){ns.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function tu(n){const e=n.name;if(yv.has(e))return ns.debug(`There were multiple attempts to register component ${e}.`),!1;yv.set(e,n);for(const t of Xd.values())ww(t,n);for(const t of bP.values())ww(t,n);return!0}function h_(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Xn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new Pf("app","Firebase",wP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new So("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=EP;function xA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:gv,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw aa.create("bad-app-name",{appName:String(a)});if(t||(t=RA()),!t)throw aa.create("no-options");const l=Xd.get(a);if(l){if(wo(t,l.options)&&wo(i,l.config))return l;throw aa.create("duplicate-app",{appName:a})}const c=new O2(a);for(const p of yv.values())c.addComponent(p);const h=new SP(t,i,c);return Xd.set(a,h),h}function OA(n=gv){const e=Xd.get(n);if(!e&&n===gv&&RA())return xA();if(!e)throw aa.create("no-app",{appName:n});return e}function oa(n,e,t){var i;let a=(i=TP[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ns.warn(h.join(" "));return}tu(new So(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="firebase-heartbeat-database",AP=1,lf="firebase-heartbeat-store";let Oy=null;function DA(){return Oy||(Oy=q2(RP,AP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(lf)}catch(t){console.warn(t)}}}}).catch(n=>{throw aa.create("idb-open",{originalErrorMessage:n.message})})),Oy}async function CP(n){try{const t=(await DA()).transaction(lf),i=await t.objectStore(lf).get(NA(n));return await t.done,i}catch(e){if(e instanceof cs)ns.warn(e.message);else{const t=aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ns.warn(t.message)}}}async function Sw(n,e){try{const i=(await DA()).transaction(lf,"readwrite");await i.objectStore(lf).put(e,NA(n)),await i.done}catch(t){if(t instanceof cs)ns.warn(t.message);else{const i=aa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ns.warn(i.message)}}}function NA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=1024,xP=30;class OP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Rw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>xP){const c=MP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ns.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Rw(),{heartbeatsToSend:i,unsentEntries:a}=DP(this._heartbeatsCache.heartbeats),l=Yd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ns.warn(t),""}}}function Rw(){return new Date().toISOString().substring(0,10)}function DP(n,e=IP){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Aw(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Aw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class NP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v2()?_2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await CP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Sw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Sw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Aw(n){return Yd(JSON.stringify({version:2,heartbeats:n})).length}function MP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(n){tu(new So("platform-logger",e=>new G2(e),"PRIVATE")),tu(new So("heartbeat",e=>new OP(e),"PRIVATE")),oa(mv,bw,n),oa(mv,bw,"esm2017"),oa("fire-js","")}PP("");var Cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var la,MA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function D(){}D.prototype=I.prototype,N.D=I.prototype,N.prototype=new D,N.prototype.constructor=N,N.C=function(P,V,B){for(var M=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)M[Me-2]=arguments[Me];return I.prototype[V].apply(P,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,I,D){D||(D=0);var P=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)P[V]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(V=0;16>V;++V)P[V]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=N.g[0],D=N.g[1],V=N.g[2];var B=N.g[3],M=I+(B^D&(V^B))+P[0]+3614090360&4294967295;I=D+(M<<7&4294967295|M>>>25),M=B+(V^I&(D^V))+P[1]+3905402710&4294967295,B=I+(M<<12&4294967295|M>>>20),M=V+(D^B&(I^D))+P[2]+606105819&4294967295,V=B+(M<<17&4294967295|M>>>15),M=D+(I^V&(B^I))+P[3]+3250441966&4294967295,D=V+(M<<22&4294967295|M>>>10),M=I+(B^D&(V^B))+P[4]+4118548399&4294967295,I=D+(M<<7&4294967295|M>>>25),M=B+(V^I&(D^V))+P[5]+1200080426&4294967295,B=I+(M<<12&4294967295|M>>>20),M=V+(D^B&(I^D))+P[6]+2821735955&4294967295,V=B+(M<<17&4294967295|M>>>15),M=D+(I^V&(B^I))+P[7]+4249261313&4294967295,D=V+(M<<22&4294967295|M>>>10),M=I+(B^D&(V^B))+P[8]+1770035416&4294967295,I=D+(M<<7&4294967295|M>>>25),M=B+(V^I&(D^V))+P[9]+2336552879&4294967295,B=I+(M<<12&4294967295|M>>>20),M=V+(D^B&(I^D))+P[10]+4294925233&4294967295,V=B+(M<<17&4294967295|M>>>15),M=D+(I^V&(B^I))+P[11]+2304563134&4294967295,D=V+(M<<22&4294967295|M>>>10),M=I+(B^D&(V^B))+P[12]+1804603682&4294967295,I=D+(M<<7&4294967295|M>>>25),M=B+(V^I&(D^V))+P[13]+4254626195&4294967295,B=I+(M<<12&4294967295|M>>>20),M=V+(D^B&(I^D))+P[14]+2792965006&4294967295,V=B+(M<<17&4294967295|M>>>15),M=D+(I^V&(B^I))+P[15]+1236535329&4294967295,D=V+(M<<22&4294967295|M>>>10),M=I+(V^B&(D^V))+P[1]+4129170786&4294967295,I=D+(M<<5&4294967295|M>>>27),M=B+(D^V&(I^D))+P[6]+3225465664&4294967295,B=I+(M<<9&4294967295|M>>>23),M=V+(I^D&(B^I))+P[11]+643717713&4294967295,V=B+(M<<14&4294967295|M>>>18),M=D+(B^I&(V^B))+P[0]+3921069994&4294967295,D=V+(M<<20&4294967295|M>>>12),M=I+(V^B&(D^V))+P[5]+3593408605&4294967295,I=D+(M<<5&4294967295|M>>>27),M=B+(D^V&(I^D))+P[10]+38016083&4294967295,B=I+(M<<9&4294967295|M>>>23),M=V+(I^D&(B^I))+P[15]+3634488961&4294967295,V=B+(M<<14&4294967295|M>>>18),M=D+(B^I&(V^B))+P[4]+3889429448&4294967295,D=V+(M<<20&4294967295|M>>>12),M=I+(V^B&(D^V))+P[9]+568446438&4294967295,I=D+(M<<5&4294967295|M>>>27),M=B+(D^V&(I^D))+P[14]+3275163606&4294967295,B=I+(M<<9&4294967295|M>>>23),M=V+(I^D&(B^I))+P[3]+4107603335&4294967295,V=B+(M<<14&4294967295|M>>>18),M=D+(B^I&(V^B))+P[8]+1163531501&4294967295,D=V+(M<<20&4294967295|M>>>12),M=I+(V^B&(D^V))+P[13]+2850285829&4294967295,I=D+(M<<5&4294967295|M>>>27),M=B+(D^V&(I^D))+P[2]+4243563512&4294967295,B=I+(M<<9&4294967295|M>>>23),M=V+(I^D&(B^I))+P[7]+1735328473&4294967295,V=B+(M<<14&4294967295|M>>>18),M=D+(B^I&(V^B))+P[12]+2368359562&4294967295,D=V+(M<<20&4294967295|M>>>12),M=I+(D^V^B)+P[5]+4294588738&4294967295,I=D+(M<<4&4294967295|M>>>28),M=B+(I^D^V)+P[8]+2272392833&4294967295,B=I+(M<<11&4294967295|M>>>21),M=V+(B^I^D)+P[11]+1839030562&4294967295,V=B+(M<<16&4294967295|M>>>16),M=D+(V^B^I)+P[14]+4259657740&4294967295,D=V+(M<<23&4294967295|M>>>9),M=I+(D^V^B)+P[1]+2763975236&4294967295,I=D+(M<<4&4294967295|M>>>28),M=B+(I^D^V)+P[4]+1272893353&4294967295,B=I+(M<<11&4294967295|M>>>21),M=V+(B^I^D)+P[7]+4139469664&4294967295,V=B+(M<<16&4294967295|M>>>16),M=D+(V^B^I)+P[10]+3200236656&4294967295,D=V+(M<<23&4294967295|M>>>9),M=I+(D^V^B)+P[13]+681279174&4294967295,I=D+(M<<4&4294967295|M>>>28),M=B+(I^D^V)+P[0]+3936430074&4294967295,B=I+(M<<11&4294967295|M>>>21),M=V+(B^I^D)+P[3]+3572445317&4294967295,V=B+(M<<16&4294967295|M>>>16),M=D+(V^B^I)+P[6]+76029189&4294967295,D=V+(M<<23&4294967295|M>>>9),M=I+(D^V^B)+P[9]+3654602809&4294967295,I=D+(M<<4&4294967295|M>>>28),M=B+(I^D^V)+P[12]+3873151461&4294967295,B=I+(M<<11&4294967295|M>>>21),M=V+(B^I^D)+P[15]+530742520&4294967295,V=B+(M<<16&4294967295|M>>>16),M=D+(V^B^I)+P[2]+3299628645&4294967295,D=V+(M<<23&4294967295|M>>>9),M=I+(V^(D|~B))+P[0]+4096336452&4294967295,I=D+(M<<6&4294967295|M>>>26),M=B+(D^(I|~V))+P[7]+1126891415&4294967295,B=I+(M<<10&4294967295|M>>>22),M=V+(I^(B|~D))+P[14]+2878612391&4294967295,V=B+(M<<15&4294967295|M>>>17),M=D+(B^(V|~I))+P[5]+4237533241&4294967295,D=V+(M<<21&4294967295|M>>>11),M=I+(V^(D|~B))+P[12]+1700485571&4294967295,I=D+(M<<6&4294967295|M>>>26),M=B+(D^(I|~V))+P[3]+2399980690&4294967295,B=I+(M<<10&4294967295|M>>>22),M=V+(I^(B|~D))+P[10]+4293915773&4294967295,V=B+(M<<15&4294967295|M>>>17),M=D+(B^(V|~I))+P[1]+2240044497&4294967295,D=V+(M<<21&4294967295|M>>>11),M=I+(V^(D|~B))+P[8]+1873313359&4294967295,I=D+(M<<6&4294967295|M>>>26),M=B+(D^(I|~V))+P[15]+4264355552&4294967295,B=I+(M<<10&4294967295|M>>>22),M=V+(I^(B|~D))+P[6]+2734768916&4294967295,V=B+(M<<15&4294967295|M>>>17),M=D+(B^(V|~I))+P[13]+1309151649&4294967295,D=V+(M<<21&4294967295|M>>>11),M=I+(V^(D|~B))+P[4]+4149444226&4294967295,I=D+(M<<6&4294967295|M>>>26),M=B+(D^(I|~V))+P[11]+3174756917&4294967295,B=I+(M<<10&4294967295|M>>>22),M=V+(I^(B|~D))+P[2]+718787259&4294967295,V=B+(M<<15&4294967295|M>>>17),M=D+(B^(V|~I))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(V+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+B&4294967295}i.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var D=I-this.blockSize,P=this.B,V=this.h,B=0;B<I;){if(V==0)for(;B<=D;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<I;)if(P[V++]=N.charCodeAt(B++),V==this.blockSize){a(this,P),V=0;break}}else for(;B<I;)if(P[V++]=N[B++],V==this.blockSize){a(this,P),V=0;break}}this.h=V,this.o+=I},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var D=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=D&255,D/=256;for(this.u(N),N=Array(16),I=D=0;4>I;++I)for(var P=0;32>P;P+=8)N[D++]=this.g[I]>>>P&255;return N};function l(N,I){var D=h;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=I(N)}function c(N,I){this.h=I;for(var D=[],P=!0,V=N.length-1;0<=V;V--){var B=N[V]|0;P&&B==I||(D[V]=B,P=!1)}this.g=D}var h={};function p(N){return-128<=N&&128>N?l(N,function(I){return new c([I|0],0>I?-1:0)}):new c([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return x(m(-N));for(var I=[],D=1,P=0;N>=D;P++)I[P]=N/D|0,D*=4294967296;return new c(I,0)}function y(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return x(y(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=m(Math.pow(I,8)),P=_,V=0;V<N.length;V+=8){var B=Math.min(8,N.length-V),M=parseInt(N.substring(V,V+B),I);8>B?(B=m(Math.pow(I,B)),P=P.j(B).add(m(M))):(P=P.j(D),P=P.add(m(M)))}return P}var _=p(0),E=p(1),S=p(16777216);n=c.prototype,n.m=function(){if(k(this))return-x(this).m();for(var N=0,I=1,D=0;D<this.g.length;D++){var P=this.i(D);N+=(0<=P?P:4294967296+P)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C(this))return"0";if(k(this))return"-"+x(this).toString(N);for(var I=m(Math.pow(N,6)),D=this,P="";;){var V=H(D,I).g;D=U(D,V.j(I));var B=((0<D.g.length?D.g[0]:D.h)>>>0).toString(N);if(D=V,C(D))return B+P;for(;6>B.length;)B="0"+B;P=B+P}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function C(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function k(N){return N.h==-1}n.l=function(N){return N=U(this,N),k(N)?-1:C(N)?0:1};function x(N){for(var I=N.g.length,D=[],P=0;P<I;P++)D[P]=~N.g[P];return new c(D,~N.h).add(E)}n.abs=function(){return k(this)?x(this):this},n.add=function(N){for(var I=Math.max(this.g.length,N.g.length),D=[],P=0,V=0;V<=I;V++){var B=P+(this.i(V)&65535)+(N.i(V)&65535),M=(B>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);P=M>>>16,B&=65535,M&=65535,D[V]=M<<16|B}return new c(D,D[D.length-1]&-2147483648?-1:0)};function U(N,I){return N.add(x(I))}n.j=function(N){if(C(this)||C(N))return _;if(k(this))return k(N)?x(this).j(x(N)):x(x(this).j(N));if(k(N))return x(this.j(x(N)));if(0>this.l(S)&&0>N.l(S))return m(this.m()*N.m());for(var I=this.g.length+N.g.length,D=[],P=0;P<2*I;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<N.g.length;V++){var B=this.i(P)>>>16,M=this.i(P)&65535,Me=N.i(V)>>>16,Pe=N.i(V)&65535;D[2*P+2*V]+=M*Pe,G(D,2*P+2*V),D[2*P+2*V+1]+=B*Pe,G(D,2*P+2*V+1),D[2*P+2*V+1]+=M*Me,G(D,2*P+2*V+1),D[2*P+2*V+2]+=B*Me,G(D,2*P+2*V+2)}for(P=0;P<I;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=I;P<2*I;P++)D[P]=0;return new c(D,0)};function G(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function z(N,I){this.g=N,this.h=I}function H(N,I){if(C(I))throw Error("division by zero");if(C(N))return new z(_,_);if(k(N))return I=H(x(N),I),new z(x(I.g),x(I.h));if(k(I))return I=H(N,x(I)),new z(x(I.g),I.h);if(30<N.g.length){if(k(N)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var D=E,P=I;0>=P.l(N);)D=K(D),P=K(P);var V=J(D,1),B=J(P,1);for(P=J(P,2),D=J(D,2);!C(P);){var M=B.add(P);0>=M.l(N)&&(V=V.add(D),B=M),P=J(P,1),D=J(D,1)}return I=U(N,V.j(I)),new z(V,I)}for(V=_;0<=N.l(I);){for(D=Math.max(1,Math.floor(N.m()/I.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),B=m(D),M=B.j(I);k(M)||0<M.l(N);)D-=P,B=m(D),M=B.j(I);C(B)&&(B=E),V=V.add(B),N=U(N,M)}return new z(V,N)}n.A=function(N){return H(this,N).h},n.and=function(N){for(var I=Math.max(this.g.length,N.g.length),D=[],P=0;P<I;P++)D[P]=this.i(P)&N.i(P);return new c(D,this.h&N.h)},n.or=function(N){for(var I=Math.max(this.g.length,N.g.length),D=[],P=0;P<I;P++)D[P]=this.i(P)|N.i(P);return new c(D,this.h|N.h)},n.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),D=[],P=0;P<I;P++)D[P]=this.i(P)^N.i(P);return new c(D,this.h^N.h)};function K(N){for(var I=N.g.length+1,D=[],P=0;P<I;P++)D[P]=N.i(P)<<1|N.i(P-1)>>>31;return new c(D,N.h)}function J(N,I){var D=I>>5;I%=32;for(var P=N.g.length-D,V=[],B=0;B<P;B++)V[B]=0<I?N.i(B+D)>>>I|N.i(B+D+1)<<32-I:N.i(B+D);return new c(V,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,MA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,la=c}).apply(typeof Cw<"u"?Cw:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PA,Hc,kA,Vd,vv,VA,LA,UA;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,T){return f==Array.prototype||f==Object.prototype||(f[v]=T.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var v=0;v<f.length;++v){var T=f[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function a(f,v){if(v)e:{var T=i;f=f.split(".");for(var O=0;O<f.length-1;O++){var Q=f[O];if(!(Q in T))break e;T=T[Q]}f=f[f.length-1],O=T[f],v=v(O),v!=O&&v!=null&&e(T,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var T=0,O=!1,Q={next:function(){if(!O&&T<f.length){var te=T++;return{value:v(te,f[te]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}a("Array.prototype.values",function(f){return f||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function m(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,T){return f.call.apply(f.bind,arguments)}function _(f,v,T){if(!f)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,O),f.apply(v,Q)}}return function(){return f.apply(v,arguments)}}function E(f,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function S(f,v){var T=Array.prototype.slice.call(arguments,1);return function(){var O=T.slice();return O.push.apply(O,arguments),f.apply(this,O)}}function C(f,v){function T(){}T.prototype=v.prototype,f.aa=v.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(O,Q,te){for(var fe=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)fe[Ye-2]=arguments[Ye];return v.prototype[Q].apply(O,fe)}}function k(f){const v=f.length;if(0<v){const T=Array(v);for(let O=0;O<v;O++)T[O]=f[O];return T}return[]}function x(f,v){for(let T=1;T<arguments.length;T++){const O=arguments[T];if(p(O)){const Q=f.length||0,te=O.length||0;f.length=Q+te;for(let fe=0;fe<te;fe++)f[Q+fe]=O[fe]}else f.push(O)}}class U{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function G(f){return/^[\s\xa0]*$/.test(f)}function z(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function H(f){return H[" "](f),f}H[" "]=function(){};var K=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function J(f,v,T){for(const O in f)v.call(T,f[O],O,f)}function N(f,v){for(const T in f)v.call(void 0,f[T],T,f)}function I(f){const v={};for(const T in f)v[T]=f[T];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(f,v){let T,O;for(let Q=1;Q<arguments.length;Q++){O=arguments[Q];for(T in O)f[T]=O[T];for(let te=0;te<D.length;te++)T=D[te],Object.prototype.hasOwnProperty.call(O,T)&&(f[T]=O[T])}}function V(f){var v=1;f=f.split(":");const T=[];for(;0<v&&f.length;)T.push(f.shift()),v--;return f.length&&T.push(f.join(":")),T}function B(f){h.setTimeout(()=>{throw f},0)}function M(){var f=Ce;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Me{constructor(){this.h=this.g=null}add(v,T){const O=Pe.get();O.set(v,T),this.h?this.h.next=O:this.g=O,this.h=O}}var Pe=new U(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let le,he=!1,Ce=new Me,j=()=>{const f=h.Promise.resolve(void 0);le=()=>{f.then(re)}};var re=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(T){B(T)}var v=Pe;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}he=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,v),h.removeEventListener("test",T,v)}catch{}return f}();function ve(f,v){if(oe.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,O=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(K){e:{try{H(v.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(v=null)}}else T=="mouseover"?v=f.fromElement:T=="mouseout"&&(v=f.toElement);this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:be[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ve.aa.h.call(this)}}C(ve,oe);var be={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ot="closure_listenable_"+(1e6*Math.random()|0),ze=0;function xt(f,v,T,O,Q){this.listener=f,this.proxy=null,this.src=v,this.type=T,this.capture=!!O,this.ha=Q,this.key=++ze,this.da=this.fa=!1}function Jt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function $t(f){this.src=f,this.g={},this.h=0}$t.prototype.add=function(f,v,T,O,Q){var te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);var fe=hn(f,v,O,Q);return-1<fe?(v=f[fe],T||(v.fa=!1)):(v=new xt(v,this.src,te,!!O,Q),v.fa=T,f.push(v)),v};function fn(f,v){var T=v.type;if(T in f.g){var O=f.g[T],Q=Array.prototype.indexOf.call(O,v,void 0),te;(te=0<=Q)&&Array.prototype.splice.call(O,Q,1),te&&(Jt(v),f.g[T].length==0&&(delete f.g[T],f.h--))}}function hn(f,v,T,O){for(var Q=0;Q<f.length;++Q){var te=f[Q];if(!te.da&&te.listener==v&&te.capture==!!T&&te.ha==O)return Q}return-1}var dn="closure_lm_"+(1e6*Math.random()|0),Je={};function tr(f,v,T,O,Q){if(Array.isArray(v)){for(var te=0;te<v.length;te++)tr(f,v[te],T,O,Q);return null}return T=vi(T),f&&f[ot]?f.K(v,T,m(O)?!!O.capture:!1,Q):St(f,v,T,!1,O,Q)}function St(f,v,T,O,Q,te){if(!v)throw Error("Invalid event type");var fe=m(Q)?!!Q.capture:!!Q,Ye=Er(f);if(Ye||(f[dn]=Ye=new $t(f)),T=Ye.add(v,T,O,fe,te),T.proxy)return T;if(O=Ra(),T.proxy=O,O.src=f,O.listener=T,f.addEventListener)de||(Q=fe),Q===void 0&&(Q=!1),f.addEventListener(v.toString(),O,Q);else if(f.attachEvent)f.attachEvent(Dn(v.toString()),O);else if(f.addListener&&f.removeListener)f.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ra(){function f(T){return v.call(f.src,f.listener,T)}const v=ds;return f}function yi(f,v,T,O,Q){if(Array.isArray(v))for(var te=0;te<v.length;te++)yi(f,v[te],T,O,Q);else O=m(O)?!!O.capture:!!O,T=vi(T),f&&f[ot]?(f=f.i,v=String(v).toString(),v in f.g&&(te=f.g[v],T=hn(te,T,O,Q),-1<T&&(Jt(te[T]),Array.prototype.splice.call(te,T,1),te.length==0&&(delete f.g[v],f.h--)))):f&&(f=Er(f))&&(v=f.g[v.toString()],f=-1,v&&(f=hn(v,T,O,Q)),(T=-1<f?v[f]:null)&&pn(T))}function pn(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[ot])fn(v.i,f);else{var T=f.type,O=f.proxy;v.removeEventListener?v.removeEventListener(T,O,f.capture):v.detachEvent?v.detachEvent(Dn(T),O):v.addListener&&v.removeListener&&v.removeListener(O),(T=Er(v))?(fn(T,f),T.h==0&&(T.src=null,v[dn]=null)):Jt(f)}}}function Dn(f){return f in Je?Je[f]:Je[f]="on"+f}function ds(f,v){if(f.da)f=!0;else{v=new ve(v,this);var T=f.listener,O=f.ha||f.src;f.fa&&pn(f),f=T.call(O,v)}return f}function Er(f){return f=f[dn],f instanceof $t?f:null}var nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function vi(f){return typeof f=="function"?f:(f[nr]||(f[nr]=function(v){return f.handleEvent(v)}),f[nr])}function we(){ce.call(this),this.i=new $t(this),this.M=this,this.F=null}C(we,ce),we.prototype[ot]=!0,we.prototype.removeEventListener=function(f,v,T,O){yi(this,f,v,T,O)};function Ue(f,v){var T,O=f.F;if(O)for(T=[];O;O=O.F)T.push(O);if(f=f.M,O=v.type||v,typeof v=="string")v=new oe(v,f);else if(v instanceof oe)v.target=v.target||f;else{var Q=v;v=new oe(O,f),P(v,Q)}if(Q=!0,T)for(var te=T.length-1;0<=te;te--){var fe=v.g=T[te];Q=Vt(fe,O,!0,v)&&Q}if(fe=v.g=f,Q=Vt(fe,O,!0,v)&&Q,Q=Vt(fe,O,!1,v)&&Q,T)for(te=0;te<T.length;te++)fe=v.g=T[te],Q=Vt(fe,O,!1,v)&&Q}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var T=f.g[v],O=0;O<T.length;O++)Jt(T[O]);delete f.g[v],f.h--}}this.F=null},we.prototype.K=function(f,v,T,O){return this.i.add(String(f),v,!1,T,O)},we.prototype.L=function(f,v,T,O){return this.i.add(String(f),v,!0,T,O)};function Vt(f,v,T,O){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,te=0;te<v.length;++te){var fe=v[te];if(fe&&!fe.da&&fe.capture==T){var Ye=fe.listener,Ut=fe.ha||fe.src;fe.fa&&fn(f.i,fe),Q=Ye.call(Ut,O)!==!1&&Q}}return Q&&!O.defaultPrevented}function mn(f,v,T){if(typeof f=="function")T&&(f=E(f,T));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function Wf(f){f.g=mn(()=>{f.g=null,f.i&&(f.i=!1,Wf(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class dm extends ce{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Wf(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(f){ce.call(this),this.h=f,this.g={}}C(Aa,ce);var Ca=[];function Ia(f){J(f.g,function(v,T){this.g.hasOwnProperty(T)&&pn(v)},f),f.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),Ia(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tr=h.JSON.stringify,Uo=h.JSON.parse,xa=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function xu(){}xu.prototype.h=null;function Ou(f){return f.h||(f.h=f.i())}function Du(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){oe.call(this,"d")}C(Ei,oe);function Nu(){oe.call(this,"c")}C(Nu,oe);var Ur={},Mu=null;function ps(){return Mu=Mu||new we}Ur.La="serverreachability";function jo(f){oe.call(this,Ur.La,f)}C(jo,oe);function ms(f){const v=ps();Ue(v,new jo(v))}Ur.STAT_EVENT="statevent";function Zf(f,v){oe.call(this,Ur.STAT_EVENT,f),this.stat=v}C(Zf,oe);function pt(f){const v=ps();Ue(v,new Zf(v,f))}Ur.Ma="timingevent";function Lt(f,v){oe.call(this,Ur.Ma,f),this.size=v}C(Lt,oe);function Ot(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function Pu(f,v,T,O,Q,te){f.info(function(){if(f.g)if(te)for(var fe="",Ye=te.split("&"),Ut=0;Ut<Ye.length;Ut++){var Xe=Ye[Ut].split("=");if(1<Xe.length){var Kt=Xe[0];Xe=Xe[1];var jt=Kt.split("_");fe=2<=jt.length&&jt[1]=="type"?fe+(Kt+"="+Xe+"&"):fe+(Kt+"=redacted&")}}else fe=null;else fe=te;return"XMLHTTP REQ ("+O+") [attempt "+Q+"]: "+v+`
`+T+`
`+fe})}function pm(f,v,T,O,Q,te,fe){f.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Q+"]: "+v+`
`+T+`
`+te+" "+fe})}function gs(f,v,T,O){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+Oa(f,T)+(O?" "+O:"")})}function Jf(f,v){f.info(function(){return"TIMEOUT: "+v})}rr.prototype.info=function(){};function Oa(f,v){if(!f.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var O=T[f];if(!(2>O.length)){var Q=O[1];if(Array.isArray(Q)&&!(1>Q.length)){var te=Q[0];if(te!="noop"&&te!="stop"&&te!="close")for(var fe=1;fe<Q.length;fe++)Q[fe]=""}}}}return Tr(T)}catch{return v}}var ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jr;function Br(){}C(Br,xu),Br.prototype.g=function(){return new XMLHttpRequest},Br.prototype.i=function(){return{}},jr=new Br;function Sn(f,v,T,O){this.j=f,this.i=v,this.l=T,this.R=O||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rt}function Rt(){this.i=null,this.g="",this.h=!1}var ku={},Bo={};function br(f,v,T){f.L=1,f.v=ka(Fn(v)),f.m=T,f.P=!0,bi(f,null)}function bi(f,v){f.F=Date.now(),Da(f),f.A=Fn(f.v);var T=f.A,O=f.R;Array.isArray(O)||(O=[String(O)]),zu(T.i,"t",O),f.C=0,T=f.j.J,f.h=new Rt,f.g=mh(f.j,T?v:null,!f.m),0<f.O&&(f.M=new dm(E(f.Y,f,f.g),f.O)),v=f.U,T=f.g,O=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Ca[0]=Q.toString()),Q=Ca);for(var te=0;te<Q.length;te++){var fe=tr(T,Q[te],O||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=f.H?I(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),ms(),Pu(f.i,f.u,f.A,f.l,f.R,f.m)}Sn.prototype.ca=function(f){f=f.target;const v=this.M;v&&or(f)==3?v.j():this.Y(f)},Sn.prototype.Y=function(f){try{if(f==this.g)e:{const jt=or(this.g);var v=this.g.Ba();const Oi=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||oh(this.g)))){this.J||jt!=4||v==7||(v==8||0>=Oi?ms(3):ms(2)),vs(this);var T=this.g.Z();this.X=T;t:if(eh(this)){var O=oh(this.g);f="";var Q=O.length,te=or(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),zr(this);var fe="";break t}this.h.i=new h.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,f+=this.h.i.decode(O[v],{stream:!(te&&v==Q-1)});O.length=0,this.h.g+=f,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=T==200,pm(this.i,this.u,this.A,this.l,this.R,jt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Ut=this.g;if((Ye=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ye)){var Xe=Ye;break t}}Xe=null}if(T=Xe)gs(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Na(this,T);else{this.o=!1,this.s=3,pt(12),en(this),zr(this);break e}}if(this.P){T=!0;let tn;for(;!this.J&&this.C<fe.length;)if(tn=th(this,fe),tn==Bo){jt==4&&(this.s=4,pt(14),T=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==ku){this.s=4,pt(15),gs(this.i,this.l,fe,"[Invalid Chunk]"),T=!1;break}else gs(this.i,this.l,tn,null),Na(this,tn);if(eh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||fe.length!=0||this.h.h||(this.s=1,pt(16),T=!1),this.o=this.o&&T,!T)gs(this.i,this.l,fe,"[Invalid Chunked Response]"),en(this),zr(this);else if(0<fe.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),qa(Kt),Kt.M=!0,pt(11))}}else gs(this.i,this.l,fe,null),Na(this,fe);jt==4&&en(this),this.o&&!this.J&&(jt==4?hh(this.j,this):(this.o=!1,Da(this)))}else _m(this.g),T==400&&0<fe.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),en(this),zr(this)}}}catch{}finally{}};function eh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function th(f,v){var T=f.C,O=v.indexOf(`
`,T);return O==-1?Bo:(T=Number(v.substring(T,O)),isNaN(T)?ku:(O+=1,O+T>v.length?Bo:(v=v.slice(O,O+T),f.C=O+T,v)))}Sn.prototype.cancel=function(){this.J=!0,en(this)};function Da(f){f.S=Date.now()+f.I,nh(f,f.I)}function nh(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ot(E(f.ba,f),v)}function vs(f){f.B&&(h.clearTimeout(f.B),f.B=null)}Sn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Jf(this.i,this.A),this.L!=2&&(ms(),pt(17)),en(this),this.s=2,zr(this)):nh(this,this.S-f)};function zr(f){f.j.G==0||f.J||hh(f.j,f)}function en(f){vs(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Ia(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Na(f,v){try{var T=f.j;if(T.G!=0&&(T.g==f||Vu(T.h,f))){if(!f.K&&Vu(T.h,f)&&T.G==3){try{var O=T.Da.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Q=O;if(Q[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)Zo(T),Xo(T);else break e;Gu(T),pt(18)}}else T.za=Q[1],0<T.za-T.T&&37500>Q[2]&&T.F&&T.v==0&&!T.C&&(T.C=Ot(E(T.Za,T),6e3));if(1>=Fo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else xi(T,11)}else if((f.K||T.g==f)&&Zo(T),!G(v))for(Q=T.Da.g.parse(v),v=0;v<Q.length;v++){let Xe=Q[v];if(T.T=Xe[0],Xe=Xe[1],T.G==2)if(Xe[0]=="c"){T.K=Xe[1],T.ia=Xe[2];const Kt=Xe[3];Kt!=null&&(T.la=Kt,T.j.info("VER="+T.la));const jt=Xe[4];jt!=null&&(T.Aa=jt,T.j.info("SVER="+T.Aa));const Oi=Xe[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(O=1.5*Oi,T.L=O,T.j.info("backChannelRequestTimeoutMs_="+O)),O=T;const tn=f.g;if(tn){const Qr=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qr){var te=O.h;te.g||Qr.indexOf("spdy")==-1&&Qr.indexOf("quic")==-1&&Qr.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(qo(te,te.h),te.h=null))}if(O.D){const Qu=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qu&&(O.ya=Qu,lt(O.I,O.D,Qu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),O=T;var fe=f;if(O.qa=ph(O,O.J?O.ia:null,O.W),fe.K){Rn(O.h,fe);var Ye=fe,Ut=O.L;Ut&&(Ye.I=Ut),Ye.B&&(vs(Ye),Da(Ye)),O.g=fe}else ch(O);0<T.i.length&&Wo(T)}else Xe[0]!="stop"&&Xe[0]!="close"||xi(T,7);else T.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?xi(T,7):Hu(T):Xe[0]!="noop"&&T.l&&T.l.ta(Xe),T.v=0)}}ms(4)}catch{}}var rh=class{constructor(f,v){this.g=f,this.map=v}};function wi(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Fo(f){return f.h?1:f.g?f.g.size:0}function Vu(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function qo(f,v){f.g?f.g.add(v):f.h=v}function Rn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}wi.prototype.cancel=function(){if(this.i=Lu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Lu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const T of f.g.values())v=v.concat(T.D);return v}return k(f.i)}function mm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var v=[],T=f.length,O=0;O<T;O++)v.push(f[O]);return v}v=[],T=0;for(O in f)v[T++]=f[O];return v}function Ho(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var v=[];f=f.length;for(var T=0;T<f;T++)v.push(T);return v}v=[],T=0;for(const O in f)v[T++]=O;return v}}}function Uu(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var T=Ho(f),O=mm(f),Q=O.length,te=0;te<Q;te++)v.call(void 0,O[te],T&&T[te],f)}var Ma=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gm(f,v){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var O=f[T].indexOf("="),Q=null;if(0<=O){var te=f[T].substring(0,O);Q=f[T].substring(O+1)}else te=f[T];v(te,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Dt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Dt){this.h=f.h,Pa(this,f.j),this.o=f.o,this.g=f.g,_s(this,f.s),this.l=f.l;var v=f.i,T=new Ri;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Si(this,T),this.m=f.m}else f&&(v=String(f).match(Ma))?(this.h=!1,Pa(this,v[1]||"",!0),this.o=ir(v[2]||""),this.g=ir(v[3]||"",!0),_s(this,v[4]),this.l=ir(v[5]||"",!0),Si(this,v[6]||"",!0),this.m=ir(v[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}Dt.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Va(v,ju,!0),":");var T=this.g;return(T||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Va(v,ju,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Va(T,T.charAt(0)=="/"?ym:Bu,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Va(T,$o)),f.join("")};function Fn(f){return new Dt(f)}function Pa(f,v,T){f.j=T?ir(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function _s(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Si(f,v,T){v instanceof Ri?(f.i=v,sh(f.i,f.h)):(T||(v=Va(v,vm)),f.i=new Ri(v,f.h))}function lt(f,v,T){f.i.set(v,T)}function ka(f){return lt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ir(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Va(f,v,T){return typeof f=="string"?(f=encodeURI(f).replace(v,ih),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function ih(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ju=/[#\/\?@]/g,Bu=/[#\?:]/g,ym=/[#\?]/g,vm=/[#\?@]/g,$o=/#/g;function Ri(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function sr(f){f.g||(f.g=new Map,f.h=0,f.i&&gm(f.i,function(v,T){f.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Ri.prototype,n.add=function(f,v){sr(this),this.i=null,f=Fr(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(v),this.h+=1,this};function Ai(f,v){sr(f),v=Fr(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Ci(f,v){return sr(f),v=Fr(f,v),f.g.has(v)}n.forEach=function(f,v){sr(this),this.g.forEach(function(T,O){T.forEach(function(Q){f.call(v,Q,O,this)},this)},this)},n.na=function(){sr(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let O=0;O<v.length;O++){const Q=f[O];for(let te=0;te<Q.length;te++)T.push(v[O])}return T},n.V=function(f){sr(this);let v=[];if(typeof f=="string")Ci(this,f)&&(v=v.concat(this.g.get(Fr(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)v=v.concat(f[T])}return v},n.set=function(f,v){return sr(this),this.i=null,f=Fr(this,f),Ci(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function zu(f,v,T){Ai(f,v),0<T.length&&(f.i=null,f.g.set(Fr(f,v),k(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var O=v[T];const te=encodeURIComponent(String(O)),fe=this.V(O);for(O=0;O<fe.length;O++){var Q=te;fe[O]!==""&&(Q+="="+encodeURIComponent(String(fe[O]))),f.push(Q)}}return this.i=f.join("&")};function Fr(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function sh(f,v){v&&!f.j&&(sr(f),f.i=null,f.g.forEach(function(T,O){var Q=O.toLowerCase();O!=Q&&(Ai(this,O),zu(this,Q,T))},f)),f.j=v}function La(f,v){const T=new rr;if(h.Image){const O=new Image;O.onload=S(ar,T,"TestLoadImage: loaded",!0,v,O),O.onerror=S(ar,T,"TestLoadImage: error",!1,v,O),O.onabort=S(ar,T,"TestLoadImage: abort",!1,v,O),O.ontimeout=S(ar,T,"TestLoadImage: timeout",!1,v,O),h.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=f}else v(!1)}function wr(f,v){const T=new rr,O=new AbortController,Q=setTimeout(()=>{O.abort(),ar(T,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:O.signal}).then(te=>{clearTimeout(Q),te.ok?ar(T,"TestPingServer: ok",!0,v):ar(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),ar(T,"TestPingServer: error",!1,v)})}function ar(f,v,T,O,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),O(T)}catch{}}function Ua(){this.g=new xa}function qr(f,v,T){const O=T||"";try{Uu(f,function(Q,te){let fe=Q;m(Q)&&(fe=Tr(Q)),v.push(O+te+"="+encodeURIComponent(fe))})}catch(Q){throw v.push(O+"type="+encodeURIComponent("_badmap")),Q}}function Es(f){this.l=f.Ub||null,this.j=f.eb||!1}C(Es,xu),Es.prototype.g=function(){return new Ii(this.l,this.j)},Es.prototype.i=function(f){return function(){return f}}({});function Ii(f,v){we.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Ii,we),n=Ii.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,$r(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,$r(this)),this.g&&(this.readyState=3,$r(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Hr(this):$r(this),this.readyState==3&&Fu(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Hr(this))},n.Qa=function(f){this.g&&(this.response=f,Hr(this))},n.ga=function(){this.g&&Hr(this)};function Hr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,$r(f)}n.setRequestHeader=function(f,v){this.u.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=v.next();return f.join(`\r
`)};function $r(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function qu(f){let v="";return J(f,function(T,O){v+=O,v+=":",v+=T,v+=`\r
`}),v}function Gt(f,v,T){e:{for(O in T){var O=!1;break e}O=!0}O||(T=qu(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):lt(f,v,T))}function nt(f){we.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(nt,we);var Go=/^https?$/i,ja=["POST","PUT"];n=nt.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,v,T,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jr.g(),this.v=this.o?Ou(this.o):Ou(jr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(te){ah(this,te);return}if(f=T||"",T=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Q in O)T.set(Q,O[Q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const te of O.keys())T.set(te,O.get(te));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(T.keys()).find(te=>te.toLowerCase()=="content-type"),Q=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ja,v,void 0))||O||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,fe]of T)this.g.setRequestHeader(te,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ba(this),this.u=!0,this.g.send(f),this.u=!1}catch(te){ah(this,te)}};function ah(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,Ko(f),Gr(f)}function Ko(f){f.A||(f.A=!0,Ue(f,"complete"),Ue(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ue(this,"complete"),Ue(this,"abort"),Gr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gr(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qo(this):this.bb())},n.bb=function(){Qo(this)};function Qo(f){if(f.h&&typeof c<"u"&&(!f.v[1]||or(f)!=4||f.Z()!=2)){if(f.u&&or(f)==4)mn(f.Ea,0,f);else if(Ue(f,"readystatechange"),or(f)==4){f.h=!1;try{const fe=f.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var O;if(O=fe===0){var Q=String(f.D).match(Ma)[1]||null;!Q&&h.self&&h.self.location&&(Q=h.self.location.protocol.slice(0,-1)),O=!Go.test(Q?Q.toLowerCase():"")}T=O}if(T)Ue(f,"complete"),Ue(f,"success");else{f.m=6;try{var te=2<or(f)?f.g.statusText:""}catch{te=""}f.l=te+" ["+f.Z()+"]",Ko(f)}}finally{Gr(f)}}}}function Gr(f,v){if(f.g){Ba(f);const T=f.g,O=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||Ue(f,"ready");try{T.onreadystatechange=O}catch{}}}function Ba(f){f.I&&(h.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function or(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<or(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Uo(v)}};function oh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function _m(f){const v={};f=(f.g&&2<=or(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<f.length;O++){if(G(f[O]))continue;var T=V(f[O]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const te=v[Q]||[];v[Q]=te,te.push(T)}N(v,function(O){return O.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(f,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||v}function Yo(f){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,f),this.cb=za("retryDelaySeedMs",1e4,f),this.Wa=za("forwardChannelMaxRetries",2,f),this.wa=za("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new wi(f&&f.concurrentRequestLimit),this.Da=new Ua,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Yo.prototype,n.la=8,n.G=1,n.connect=function(f,v,T,O){pt(0),this.W=f,this.H=v||{},T&&O!==void 0&&(this.H.OSID=T,this.H.OAID=O),this.F=this.X,this.I=ph(this,null,this.W),Wo(this)};function Hu(f){if(lh(f),f.G==3){var v=f.U++,T=Fn(f.I);if(lt(T,"SID",f.K),lt(T,"RID",v),lt(T,"TYPE","terminate"),Fa(f,T),v=new Sn(f,f.j,v),v.L=2,v.v=ka(Fn(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=v.v,T=!0),T||(v.g=mh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Da(v)}dh(f)}function Xo(f){f.g&&(qa(f),f.g.cancel(),f.g=null)}function lh(f){Xo(f),f.u&&(h.clearTimeout(f.u),f.u=null),Zo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function Wo(f){if(!zo(f.h)&&!f.s){f.s=!0;var v=f.Ga;le||j(),he||(le(),he=!0),Ce.add(v,f),f.B=0}}function Em(f,v){return Fo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ot(E(f.Ga,f,v),Ku(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new Sn(this,this.j,f);let te=this.o;if(this.S&&(te?(te=I(te),P(te,this.S)):te=this.S),this.m!==null||this.O||(Q.H=te,te=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var O=this.i[T];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(v+=O,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=uh(this,Q,v),T=Fn(this.I),lt(T,"RID",f),lt(T,"CVER",22),this.D&&lt(T,"X-HTTP-Session-Id",this.D),Fa(this,T),te&&(this.O?v="headers="+encodeURIComponent(String(qu(te)))+"&"+v:this.m&&Gt(T,this.m,te)),qo(this.h,Q),this.Ua&&lt(T,"TYPE","init"),this.P?(lt(T,"$req",v),lt(T,"SID","null"),Q.T=!0,br(Q,T,null)):br(Q,T,v),this.G=2}}else this.G==3&&(f?$u(this,f):this.i.length==0||zo(this.h)||$u(this))};function $u(f,v){var T;v?T=v.l:T=f.U++;const O=Fn(f.I);lt(O,"SID",f.K),lt(O,"RID",T),lt(O,"AID",f.T),Fa(f,O),f.m&&f.o&&Gt(O,f.m,f.o),T=new Sn(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),v&&(f.i=v.D.concat(f.i)),v=uh(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),qo(f.h,T),br(T,O,v)}function Fa(f,v){f.H&&J(f.H,function(T,O){lt(v,O,T)}),f.l&&Uu({},function(T,O){lt(v,O,T)})}function uh(f,v,T){T=Math.min(f.i.length,T);var O=f.l?E(f.l.Na,f.l,f):null;e:{var Q=f.i;let te=-1;for(;;){const fe=["count="+T];te==-1?0<T?(te=Q[0].g,fe.push("ofs="+te)):te=0:fe.push("ofs="+te);let Ye=!0;for(let Ut=0;Ut<T;Ut++){let Xe=Q[Ut].g;const Kt=Q[Ut].map;if(Xe-=te,0>Xe)te=Math.max(0,Q[Ut].g-100),Ye=!1;else try{qr(Kt,fe,"req"+Xe+"_")}catch{O&&O(Kt)}}if(Ye){O=fe.join("&");break e}}}return f=f.i.splice(0,T),v.D=f,O}function ch(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;le||j(),he||(le(),he=!0),Ce.add(v,f),f.v=0}}function Gu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ot(E(f.Fa,f),Ku(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,fh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ot(E(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Xo(this),fh(this))};function qa(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function fh(f){f.g=new Sn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Fn(f.qa);lt(v,"RID","rpc"),lt(v,"SID",f.K),lt(v,"AID",f.T),lt(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&lt(v,"TO",f.ja),lt(v,"TYPE","xmlhttp"),Fa(f,v),f.m&&f.o&&Gt(v,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=ka(Fn(v)),T.m=null,T.P=!0,bi(T,f)}n.Za=function(){this.C!=null&&(this.C=null,Xo(this),Gu(this),pt(19))};function Zo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function hh(f,v){var T=null;if(f.g==v){Zo(f),qa(f),f.g=null;var O=2}else if(Vu(f.h,v))T=v.D,Rn(f.h,v),O=1;else return;if(f.G!=0){if(v.o)if(O==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var Q=f.B;O=ps(),Ue(O,new Lt(O,T)),Wo(f)}else ch(f);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(O==1&&Em(f,v)||O==2&&Gu(f)))switch(T&&0<T.length&&(v=f.h,v.i=v.i.concat(T)),Q){case 1:xi(f,5);break;case 4:xi(f,10);break;case 3:xi(f,6);break;default:xi(f,2)}}}function Ku(f,v){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*v}function xi(f,v){if(f.j.info("Error code "+v),v==2){var T=E(f.fb,f),O=f.Xa;const Q=!O;O=new Dt(O||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Pa(O,"https"),ka(O),Q?La(O.toString(),T):wr(O.toString(),T)}else pt(2);f.G=0,f.l&&f.l.sa(v),dh(f),lh(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function dh(f){if(f.G=0,f.ka=[],f.l){const v=Lu(f.h);(v.length!=0||f.i.length!=0)&&(x(f.ka,v),x(f.ka,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.ra()}}function ph(f,v,T){var O=T instanceof Dt?Fn(T):new Dt(T);if(O.g!="")v&&(O.g=v+"."+O.g),_s(O,O.s);else{var Q=h.location;O=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var te=new Dt(null);O&&Pa(te,O),v&&(te.g=v),Q&&_s(te,Q),T&&(te.l=T),O=te}return T=f.D,v=f.ya,T&&v&&lt(O,T,v),lt(O,"VER",f.la),Fa(f,O),O}function mh(f,v,T){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new nt(new Es({eb:T})):new nt(f.pa),v.Ha(f.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gh(){}n=gh.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Jo(){}Jo.prototype.g=function(f,v){return new An(f,v)};function An(f,v){we.call(this),this.g=new Yo(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!G(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!G(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Kr(this)}C(An,we),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Hu(this.g)},An.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Tr(f),f=T);v.i.push(new rh(v.Ya++,f)),v.G==3&&Wo(v)},An.prototype.N=function(){this.g.l=null,delete this.j,Hu(this.g),delete this.g,An.aa.N.call(this)};function yh(f){Ei.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const T in v){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}C(yh,Ei);function vh(){Nu.call(this),this.status=1}C(vh,Nu);function Kr(f){this.g=f}C(Kr,gh),Kr.prototype.ua=function(){Ue(this.g,"a")},Kr.prototype.ta=function(f){Ue(this.g,new yh(f))},Kr.prototype.sa=function(f){Ue(this.g,new vh)},Kr.prototype.ra=function(){Ue(this.g,"b")},Jo.prototype.createWebChannel=Jo.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,UA=function(){return new Jo},LA=function(){return ps()},VA=Ur,vv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,Vd=ys,Ti.COMPLETE="complete",kA=Ti,Du.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",we.prototype.listen=we.prototype.K,Hc=Du,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,PA=nt}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const Iw="@firebase/firestore",xw="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tu="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new c_("@firebase/firestore");function Dl(){return Ro.logLevel}function pe(n,...e){if(Ro.logLevel<=$e.DEBUG){const t=e.map(d_);Ro.debug(`Firestore (${Tu}): ${n}`,...t)}}function rs(n,...e){if(Ro.logLevel<=$e.ERROR){const t=e.map(d_);Ro.error(`Firestore (${Tu}): ${n}`,...t)}}function nu(n,...e){if(Ro.logLevel<=$e.WARN){const t=e.map(d_);Ro.warn(`Firestore (${Tu}): ${n}`,...t)}}function d_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,jA(n,i,t)}function jA(n,e,t){let i=`FIRESTORE (${Tu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw rs(i),new Error(i)}function it(n,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,n||jA(e,a,i)}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends cs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(En.UNAUTHENTICATED))}shutdown(){}}class VP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LP{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Wi,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},h=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Wi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(it(typeof i.accessToken=="string",31837,{l:i}),new BA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class UP{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jP{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new UP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ow{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const i=l=>{l.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ow(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ow(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=zP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Be(n,e){return n<e?-1:n>e?1:0}function _v(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),a=e.codePointAt(t);if(i!==a){if(i<128&&a<128)return Be(i,a);{const l=zA(),c=FP(l.encode(Dw(n,t)),l.encode(Dw(e,t)));return c!==0?c:Be(i,a)}}t+=i>65535?2:1}return Be(n.length,e.length)}function Dw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function FP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Be(n[t],e[t]);return Be(n.length,e.length)}function ru(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=-62135596800,Mw=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Mw);return new qt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Nw)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mw}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Nw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new qt(0,0))}static max(){return new Ne(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="__name__";class ei{constructor(e,t,i){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&xe(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=ei.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Be(e.length,t.length)}static compareSegments(e,t){const i=ei.isNumericId(e),a=ei.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?ei.extractNumericId(e).compare(ei.extractNumericId(t)):_v(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return la.fromString(e.substring(4,e.length-2))}}class gt extends ei{construct(e,t,i){return new gt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const qP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends ei{construct(e,t,i){return new un(e,t,i)}static isValidIdentifier(e){return qP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pw}static keyField(){return new un([Pw])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new Ee(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Ee(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ee(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(l(),a++)}if(l(),c)throw new Ee(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(t)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(gt.fromString(e))}static fromName(e){return new Se(gt.fromString(e).popFirst(5))}static empty(){return new Se(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=-1;function HP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(i===1e9?new qt(t+1,0):new qt(t,i));return new ha(a,Se.empty(),e)}function $P(n){return new ha(n.readTime,n.key,uf)}class ha{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ha(Ne.min(),Se.empty(),uf)}static max(){return new ha(Ne.max(),Se.empty(),uf)}}function GP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==KP)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let a=0,l=0,c=!1;e.forEach(h=>{++a,h.next(()=>{++l,c&&l===a&&t()},p=>i(p))}),c=!0,l===a&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(a=>a?ae.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,a)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(y=>{c[m]=y,++h,h===l&&i(c)},y=>a(y))}})}static doWhile(e,t){return new ae((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function YP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function wu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Dp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=-1;function Np(n){return n==null}function Wd(n){return n===0&&1/n==-1/0}function XP(n){return typeof n=="number"&&Number.isInteger(n)&&!Wd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="";function WP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kw(e)),e=ZP(n.get(t),e);return kw(e)}function ZP(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case qA:t+="";break;default:t+=l}}return t}function kw(n){return n+qA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ta(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wd(this.root,e,this.comparator,!0)}}class wd{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??on.RED,this.left=a??on.EMPTY,this.right=l??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new on(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return on.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lw(this.data.getIterator())}getIteratorFrom(e){return new Lw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class Lw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Wn([])}unionWith(e){let t=new Ht(un.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ru(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new $A("Invalid base64 string: "+l):l}}(e);return new cn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const JP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(n){if(it(!!n,39018),typeof n=="string"){let e=0;const t=JP.exec(n);if(it(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function pa(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="server_timestamp",KA="__type__",QA="__previous_value__",YA="__local_write_time__";function m_(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[KA])===null||t===void 0?void 0:t.stringValue)===GA}function Mp(n){const e=n.mapValue.fields[QA];return m_(e)?Mp(e):e}function cf(n){const e=da(n.mapValue.fields[YA].timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t,i,a,l,c,h,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m}}const Zd="(default)";class ff{constructor(e,t){this.projectId=e,this.database=t||Zd}static empty(){return new ff("","")}get isDefaultDatabase(){return this.database===Zd}isEqual(e){return e instanceof ff&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="__type__",tk="__max__",Sd={mapValue:{}},WA="__vector__",Jd="value";function ma(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?m_(n)?4:rk(n)?9007199254740991:nk(n)?10:11:xe(28295,{value:n})}function di(n,e){if(n===e)return!0;const t=ma(n);if(t!==ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cf(n).isEqual(cf(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=da(a.timestampValue),h=da(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return pa(a.bytesValue).isEqual(pa(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return It(a.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return It(a.integerValue)===It(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=It(a.doubleValue),h=It(l.doubleValue);return c===h?Wd(c)===Wd(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return ru(n.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Vw(c)!==Vw(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!di(c[p],h[p])))return!1;return!0}(n,e);default:return xe(52216,{left:n})}}function hf(n,e){return(n.values||[]).find(t=>di(t,e))!==void 0}function iu(n,e){if(n===e)return 0;const t=ma(n),i=ma(e);if(t!==i)return Be(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return function(l,c){const h=It(l.integerValue||l.doubleValue),p=It(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return Uw(n.timestampValue,e.timestampValue);case 4:return Uw(cf(n),cf(e));case 5:return _v(n.stringValue,e.stringValue);case 6:return function(l,c){const h=pa(l),p=pa(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),p=c.split("/");for(let m=0;m<h.length&&m<p.length;m++){const y=Be(h[m],p[m]);if(y!==0)return y}return Be(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const h=Be(It(l.latitude),It(c.latitude));return h!==0?h:Be(It(l.longitude),It(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jw(n.arrayValue,e.arrayValue);case 10:return function(l,c){var h,p,m,y;const _=l.fields||{},E=c.fields||{},S=(h=_[Jd])===null||h===void 0?void 0:h.arrayValue,C=(p=E[Jd])===null||p===void 0?void 0:p.arrayValue,k=Be(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return k!==0?k:jw(S,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Sd.mapValue&&c===Sd.mapValue)return 0;if(l===Sd.mapValue)return 1;if(c===Sd.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const E=_v(p[_],y[_]);if(E!==0)return E;const S=iu(h[p[_]],m[y[_]]);if(S!==0)return S}return Be(p.length,y.length)}(n.mapValue,e.mapValue);default:throw xe(23264,{Pe:t})}}function Uw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=da(n),i=da(e),a=Be(t.seconds,i.seconds);return a!==0?a:Be(t.nanos,i.nanos)}function jw(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=iu(t[a],i[a]);if(l)return l}return Be(t.length,i.length)}function su(n){return Ev(n)}function Ev(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=da(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return pa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Ev(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Ev(t.fields[c])}`;return a+"}"}(n.mapValue):xe(61005,{value:n})}function Ld(n){switch(ma(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mp(n);return e?16+Ld(e):16;case 5:return 2*n.stringValue.length;case 6:return pa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Ld(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ta(i.fields,(l,c)=>{a+=l.length+Ld(c)}),a}(n.mapValue);default:throw xe(13486,{value:n})}}function Tv(n){return!!n&&"integerValue"in n}function g_(n){return!!n&&"arrayValue"in n}function Bw(n){return!!n&&"nullValue"in n}function zw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ud(n){return!!n&&"mapValue"in n}function nk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[XA])===null||t===void 0?void 0:t.stringValue)===WA}function Xc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ta(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Xc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ud(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(t)}setAll(e){let t=un.emptyPath(),i={},a=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,a),i={},a=[],t=h.popLast()}c?i[h.lastSegment()]=Xc(c):a.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Ud(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Ud(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ta(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new Ln(Xc(this.value))}}function ZA(n){const e=[];return Ta(n.fields,(t,i)=>{const a=new un([t]);if(Ud(i)){const l=ZA(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,t,i,a,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Tn(e,0,Ne.min(),Ne.min(),Ne.min(),Ln.empty(),0)}static newFoundDocument(e,t,i,a){return new Tn(e,1,t,Ne.min(),i,a,0)}static newNoDocument(e,t){return new Tn(e,2,t,Ne.min(),Ne.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Ne.min(),Ne.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,t){this.position=e,this.inclusive=t}}function Fw(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=Se.comparator(Se.fromName(c.referenceValue),t.key):i=iu(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function qw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!di(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,t="asc"){this.field=e,this.dir=t}}function ik(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{}class Ft extends JA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new ak(e,t,i):t==="array-contains"?new uk(e,i):t==="in"?new ck(e,i):t==="not-in"?new fk(e,i):t==="array-contains-any"?new hk(e,i):new Ft(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new ok(e,i):new lk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(iu(t,this.value)):t!==null&&ma(this.value)===ma(t)&&this.matchesComparison(iu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends JA{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new pi(e,t)}matches(e){return eC(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function eC(n){return n.op==="and"}function tC(n){return sk(n)&&eC(n)}function sk(n){for(const e of n.filters)if(e instanceof pi)return!1;return!0}function bv(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+su(n.value);if(tC(n))return n.filters.map(e=>bv(e)).join(",");{const e=n.filters.map(t=>bv(t)).join(",");return`${n.op}(${e})`}}function nC(n,e){return n instanceof Ft?function(i,a){return a instanceof Ft&&i.op===a.op&&i.field.isEqual(a.field)&&di(i.value,a.value)}(n,e):n instanceof pi?function(i,a){return a instanceof pi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,h)=>l&&nC(c,a.filters[h]),!0):!1}(n,e):void xe(19439)}function rC(n){return n instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${su(t.value)}`}(n):n instanceof pi?function(t){return t.op.toString()+" {"+t.getFilters().map(rC).join(" ,")+"}"}(n):"Filter"}class ak extends Ft{constructor(e,t,i){super(e,t,i),this.key=Se.fromName(i.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class ok extends Ft{constructor(e,t){super(e,"in",t),this.keys=iC("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lk extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=iC("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function iC(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Se.fromName(i.referenceValue))}class uk extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return g_(t)&&hf(t.arrayValue,this.value)}}class ck extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hf(this.value.arrayValue,t)}}class fk extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hf(this.value.arrayValue,t)}}class hk extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!g_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>hf(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,t=null,i=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Ie=null}}function Hw(n,e=null,t=[],i=[],a=null,l=null,c=null){return new dk(n,e,t,i,a,l,c)}function y_(n){const e=ke(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>bv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Np(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>su(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>su(i)).join(",")),e.Ie=t}return e.Ie}function v_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ik(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qw(n.startAt,e.startAt)&&qw(n.endAt,e.endAt)}function wv(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t=null,i=[],a=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function pk(n,e,t,i,a,l,c,h){return new Pp(n,e,t,i,a,l,c,h)}function __(n){return new Pp(n)}function $w(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mk(n){return n.collectionGroup!==null}function Wc(n){const e=ke(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ht(un.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new tp(l,i))}),t.has(un.keyField().canonicalString())||e.Ee.push(new tp(un.keyField(),i))}return e.Ee}function si(n){const e=ke(n);return e.de||(e.de=gk(e,Wc(n))),e.de}function gk(n,e){if(n.limitType==="F")return Hw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new tp(a.field,l)});const t=n.endAt?new ep(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ep(n.startAt.position,n.startAt.inclusive):null;return Hw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Sv(n,e,t){return new Pp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kp(n,e){return v_(si(n),si(e))&&n.limitType===e.limitType}function sC(n){return`${y_(si(n))}|lt:${n.limitType}`}function Nl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>rC(a)).join(", ")}]`),Np(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>su(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>su(a)).join(",")),`Target(${i})`}(si(n))}; limitType=${n.limitType})`}function Vp(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Se.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of Wc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,h,p){const m=Fw(c,h,p);return c.inclusive?m<=0:m<0}(i.startAt,Wc(i),a)||i.endAt&&!function(c,h,p){const m=Fw(c,h,p);return c.inclusive?m>=0:m>0}(i.endAt,Wc(i),a))}(n,e)}function yk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aC(n){return(e,t)=>{let i=!1;for(const a of Wc(n)){const l=vk(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function vk(n,e,t){const i=n.field.isKeyField()?Se.comparator(e.key,t.key):function(l,c,h){const p=c.data.field(l),m=h.data.field(l);return p!==null&&m!==null?iu(p,m):xe(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return xe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ta(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return HA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new Et(Se.comparator);function is(){return _k}const oC=new Et(Se.comparator);function $c(...n){let e=oC;for(const t of n)e=e.insert(t.key,t);return e}function lC(n){let e=oC;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function uo(){return Zc()}function uC(){return Zc()}function Zc(){return new Po(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ek=new Et(Se.comparator),Tk=new Ht(Se.comparator);function Ge(...n){let e=Tk;for(const t of n)e=e.add(t);return e}const bk=new Ht(Be);function wk(){return bk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function cC(n){return{integerValue:""+n}}function Sk(n,e){return XP(e)?cC(e):E_(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this._=void 0}}function Rk(n,e,t){return n instanceof np?function(a,l){const c={fields:{[KA]:{stringValue:GA},[YA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&m_(l)&&(l=Mp(l)),l&&(c.fields[QA]=l),{mapValue:c}}(t,e):n instanceof df?hC(n,e):n instanceof pf?dC(n,e):function(a,l){const c=fC(a,l),h=Gw(c)+Gw(a.Re);return Tv(c)&&Tv(a.Re)?cC(h):E_(a.serializer,h)}(n,e)}function Ak(n,e,t){return n instanceof df?hC(n,e):n instanceof pf?dC(n,e):t}function fC(n,e){return n instanceof rp?function(i){return Tv(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class np extends Lp{}class df extends Lp{constructor(e){super(),this.elements=e}}function hC(n,e){const t=pC(e);for(const i of n.elements)t.some(a=>di(a,i))||t.push(i);return{arrayValue:{values:t}}}class pf extends Lp{constructor(e){super(),this.elements=e}}function dC(n,e){let t=pC(e);for(const i of n.elements)t=t.filter(a=>!di(a,i));return{arrayValue:{values:t}}}class rp extends Lp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Gw(n){return It(n.integerValue||n.doubleValue)}function pC(n){return g_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Ck(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof df&&a instanceof df||i instanceof pf&&a instanceof pf?ru(i.elements,a.elements,di):i instanceof rp&&a instanceof rp?di(i.Re,a.Re):i instanceof np&&a instanceof np}(n.transform,e.transform)}class Ik{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Up{}function mC(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new T_(n.key,yr.none()):new Vf(n.key,n.data,yr.none());{const t=n.data,i=Ln.empty();let a=new Ht(un.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ba(n.key,i,new Wn(a.toArray()),yr.none())}}function xk(n,e,t){n instanceof Vf?function(a,l,c){const h=a.value.clone(),p=Qw(a.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ba?function(a,l,c){if(!jd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=Qw(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(gC(a)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Jc(n,e,t,i){return n instanceof Vf?function(l,c,h,p){if(!jd(l.precondition,c))return h;const m=l.value.clone(),y=Yw(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof ba?function(l,c,h,p){if(!jd(l.precondition,c))return h;const m=Yw(l.fieldTransforms,p,c),y=c.data;return y.setAll(gC(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,i):function(l,c,h){return jd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function Ok(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=fC(i.transform,a||null);l!=null&&(t===null&&(t=Ln.empty()),t.set(i.field,l))}return t||null}function Kw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ru(i,a,(l,c)=>Ck(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Vf extends Up{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ba extends Up{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Qw(n,e,t){const i=new Map;it(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,h=e.data.field(l.field);i.set(l.field,Ak(c,h,t[a]))}return i}function Yw(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,Rk(l,c,e))}return i}class T_ extends Up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dk extends Up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&xk(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Jc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Jc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=uC();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(a.key)?null:h;const p=mC(c,h);p!==null&&i.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Ne.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ge())}isEqual(e){return this.batchId===e.batchId&&ru(this.mutations,e.mutations,(t,i)=>Kw(t,i))&&ru(this.baseMutations,e.baseMutations,(t,i)=>Kw(t,i))}}class b_{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){it(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return Ek}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new b_(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ze;function kk(n){switch(n){case ue.OK:return xe(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return xe(15467,{code:n})}}function yC(n){if(n===void 0)return rs("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Pt.OK:return ue.OK;case Pt.CANCELLED:return ue.CANCELLED;case Pt.UNKNOWN:return ue.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ue.INTERNAL;case Pt.UNAVAILABLE:return ue.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ue.NOT_FOUND;case Pt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Pt.ABORTED:return ue.ABORTED;case Pt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Pt.DATA_LOSS:return ue.DATA_LOSS;default:return xe(39323,{code:n})}}(Ze=Pt||(Pt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=new la([4294967295,4294967295],0);function Xw(n){const e=zA().encode(n),t=new MA;return t.update(e),new Uint8Array(t.digest())}function Ww(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new la([t,i],0),new la([a,l],0)]}class w_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Gc(`Invalid padding: ${t}`);if(i<0)throw new Gc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Gc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Gc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=la.fromNumber(this.pe)}we(e,t,i){let a=e.add(t.multiply(la.fromNumber(i)));return a.compare(Vk)===1&&(a=new la([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Xw(e),[i,a]=Ww(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new w_(l,a,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.pe===0)return;const t=Xw(e),[i,a]=Ww(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,Lf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new jp(Ne.min(),a,new Et(Be),is(),Ge())}}class Lf{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Lf(i,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,t,i,a){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=a}}class vC{constructor(e,t){this.targetId=e,this.Ce=t}}class _C{constructor(e,t,i=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class Zw{constructor(){this.Fe=0,this.Me=Jw(),this.xe=cn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ge(),t=Ge(),i=Ge();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:xe(38017,{changeType:l})}}),new Lf(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=Jw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,it(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Lk{constructor(e){this.ze=e,this.je=new Map,this.He=is(),this.Je=Rd(),this.Ye=Rd(),this.Ze=new Et(Be)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,i=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(wv(l))if(i===0){const c=new Se(l.path);this.tt(t,c,Tn.newNoDocument(c,Ne.min()))}else it(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const h=this.ct(e),p=h?this.lt(h,e,c):1;if(p!==0){this.st(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,h;try{c=pa(i).toUint8Array()}catch(p){if(p instanceof $A)return nu("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new w_(c,a,l)}catch(p){return nu(p instanceof Gc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.pe===0?null:h}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ze.Pt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const h=this._t(c);if(h){if(l.current&&wv(h.target)){const p=new Se(h.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,Tn.newNoDocument(p,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=Ge();this.Ye.forEach((l,c)=>{let h=!0;c.forEachWhile(p=>{const m=this._t(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new jp(e,t,this.Ze,this.He,i);return this.He=is(),this.Je=Rd(),this.Ye=Rd(),this.Ze=new Et(Be),a}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Zw,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ht(Be),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ht(Be),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Zw),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Rd(){return new Et(Se.comparator)}function Jw(){return new Et(Se.comparator)}const Uk={asc:"ASCENDING",desc:"DESCENDING"},jk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bk={and:"AND",or:"OR"};class zk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rv(n,e){return n.useProto3Json||Np(e)?e:{value:e}}function ip(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Fk(n,e){return ip(n,e.toTimestamp())}function ai(n){return it(!!n,49232),Ne.fromTimestamp(function(t){const i=da(t);return new qt(i.seconds,i.nanos)}(n))}function S_(n,e){return Av(n,e).canonicalString()}function Av(n,e){const t=function(a){return new gt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function TC(n){const e=gt.fromString(n);return it(AC(e),10190,{key:e.toString()}),e}function Cv(n,e){return S_(n.databaseId,e.path)}function Dy(n,e){const t=TC(e);if(t.get(1)!==n.databaseId.projectId)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ee(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(wC(t))}function bC(n,e){return S_(n.databaseId,e)}function qk(n){const e=TC(n);return e.length===4?gt.emptyPath():wC(e)}function Iv(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wC(n){return it(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function eS(n,e,t){return{name:Cv(n,e),fields:t.value.mapValue.fields}}function Hk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(it(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):(it(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(m){const y=m.code===void 0?ue.UNKNOWN:yC(m.code);return new Ee(y,m.message||"")}(c);t=new _C(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Dy(n,i.document.name),l=ai(i.document.updateTime),c=i.document.createTime?ai(i.document.createTime):Ne.min(),h=new Ln({mapValue:{fields:i.document.fields}}),p=Tn.newFoundDocument(a,l,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];t=new Bd(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Dy(n,i.document),l=i.readTime?ai(i.readTime):Ne.min(),c=Tn.newNoDocument(a,l),h=i.removedTargetIds||[];t=new Bd([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Dy(n,i.document),l=i.removedTargetIds||[];t=new Bd([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new Pk(a,l),h=i.targetId;t=new vC(h,c)}}return t}function $k(n,e){let t;if(e instanceof Vf)t={update:eS(n,e.key,e.value)};else if(e instanceof T_)t={delete:Cv(n,e.key)};else if(e instanceof ba)t={update:eS(n,e.key,e.data),updateMask:eV(e.fieldMask)};else{if(!(e instanceof Dk))return xe(16599,{ft:e.type});t={verify:Cv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof np)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof df)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof rp)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw xe(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:Fk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)}(n,e.precondition)),t}function Gk(n,e){return n&&n.length>0?(it(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?ai(a.updateTime):ai(l);return c.isEqual(Ne.min())&&(c=ai(l)),new Ik(c,a.transformResults||[])}(t,e))):[]}function Kk(n,e){return{documents:[bC(n,e.path)]}}function Qk(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=bC(n,a);const l=function(m){if(m.length!==0)return RC(pi.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(y=>function(E){return{field:Ml(E.field),direction:Wk(E.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Rv(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:a}}function Yk(n){let e=qk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){it(i===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(_){const E=SC(_);return E instanceof pi&&tC(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(E=>function(C){return new tp(Pl(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,Np(E)?null:E}(t.limit));let p=null;t.startAt&&(p=function(_){const E=!!_.before,S=_.values||[];return new ep(S,E)}(t.startAt));let m=null;return t.endAt&&(m=function(_){const E=!_.before,S=_.values||[];return new ep(S,E)}(t.endAt)),pk(e,a,c,l,h,"F",p,m)}function Xk(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SC(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Pl(t.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Pl(t.unaryFilter.field);return Ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Pl(t.unaryFilter.field);return Ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Pl(t.unaryFilter.field);return Ft.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ft.create(Pl(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return pi.create(t.compositeFilter.filters.map(i=>SC(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(t.compositeFilter.op))}(n):xe(30097,{filter:n})}function Wk(n){return Uk[n]}function Zk(n){return jk[n]}function Jk(n){return Bk[n]}function Ml(n){return{fieldPath:n.canonicalString()}}function Pl(n){return un.fromServerFormat(n.fieldPath)}function RC(n){return n instanceof Ft?function(t){if(t.op==="=="){if(zw(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NAN"}};if(Bw(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zw(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NAN"}};if(Bw(t.value))return{unaryFilter:{field:Ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(t.field),op:Zk(t.op),value:t.value}}}(n):n instanceof pi?function(t){const i=t.getFilters().map(a=>RC(a));return i.length===1?i[0]:{compositeFilter:{op:Jk(t.op),filters:i}}}(n):xe(54877,{filter:n})}function eV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function AC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,i,a,l=Ne.min(),c=Ne.min(),h=cn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.wt=e}}function nV(n){const e=Yk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.yn=new iV}addToCollectionParentIndex(e,t){return this.yn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(ha.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class iV{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Ht(gt.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Ht(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CC=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(CC,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new au(0)}static ir(){return new au(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="LruGarbageCollector",sV=1048576;function rS([n,e],[t,i]){const a=Be(n,t);return a===0?Be(e,i):a}class aV{constructor(e){this.cr=e,this.buffer=new Ht(rS),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();rS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oV{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){pe(nS,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){wu(t)?pe(nS,"Ignoring IndexedDB error during garbage collection: ",t):await bu(t)}await this.Ir(3e5)})}}class lV{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(Dp.le);const i=new aV(t);return this.Er.forEachTarget(e,a=>i.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>i.Pr(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Er.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(tS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tS):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let i,a,l,c,h,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,t))).next(_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(m=Date.now(),Dl()<=$e.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function uV(n,e){return new lV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.changes=new Po(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&Jc(i.mutation,a,Wn.empty(),qt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ge()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ge()){const a=uo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=$c();return l.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=uo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ge()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,a){let l=is();const c=Zc(),h=function(){return Zc()}();return t.forEach((p,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof ba)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),Jc(y.mutation,m,y.mutation.getFieldMask(),qt.now())):c.set(m.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,y)=>c.set(m,y)),t.forEach((m,y)=>{var _;return h.set(m,new fV(y,(_=c.get(m))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Zc();let a=new Et((c,h)=>c-h),l=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let y=i.get(p)||Wn.empty();y=h.applyToLocalView(m,y),i.set(p,y);const _=(a.get(h.batchId)||Ge()).add(p);a=a.insert(h.batchId,_)})}).next(()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,y=p.value,_=uC();y.forEach(E=>{if(!l.has(E)){const S=mC(t.get(E),i.get(E));S!==null&&_.set(E,S),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,_))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return Se.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):mk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ae.resolve(uo());let h=uf,p=l;return c.next(m=>ae.forEach(m,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{p=p.insert(y,E)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Ge())).next(y=>({batchId:h,changes:lC(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(i=>{let a=$c();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=$c();return this.indexManager.getCollectionParents(e,l).next(h=>ae.forEach(h,p=>{const m=function(_,E){return new Pp(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Tn.newInvalidDocument(y)))});let h=$c();return c.forEach((p,m)=>{const y=l.get(p);y!==void 0&&Jc(y.mutation,m,Wn.empty(),qt.now()),Vp(t,m)&&(h=h.insert(p,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:ai(a.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:nV(a.bundledQuery),readTime:ai(a.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.overlays=new Et(Se.comparator),this.Or=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=uo();return ae.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.St(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Or.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const a=uo(),l=t.length+1,c=new Se(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new Et((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=l.get(m.largestBatchId);y===null&&(y=uo(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=uo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=a)););return ae.resolve(h)}St(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(i.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Mk(t,i));let l=this.Or.get(t);l===void 0&&(l=Ge(),this.Or.set(t,l)),this.Or.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.Nr=new Ht(Wt.Br),this.Lr=new Ht(Wt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const i=new Wt(e,t);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Qr(new Wt(e,t))}$r(e,t){e.forEach(i=>this.removeReference(i,t))}Ur(e){const t=new Se(new gt([])),i=new Wt(t,e),a=new Wt(t,e+1),l=[];return this.Lr.forEachInRange([i,a],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Se(new gt([])),i=new Wt(t,e),a=new Wt(t,e+1);let l=Ge();return this.Lr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Wt(e,0),i=this.Nr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Se.comparator(e.key,t.key)||Be(e.Gr,t.Gr)}static kr(e,t){return Be(e.Gr,t.Gr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Ht(Wt.Br)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Nk(l,t,i,a);this.mutationQueue.push(c);for(const h of a)this.zr=this.zr.add(new Wt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Hr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?p_:this.Jn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Wt(t,0),a=new Wt(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([i,a],c=>{const h=this.jr(c.Gr);l.push(h)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ht(Be);return t.forEach(a=>{const l=new Wt(a,0),c=new Wt(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],h=>{i=i.add(h.Gr)})}),ae.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;Se.isDocumentKey(l)||(l=l.child(""));const c=new Wt(new Se(l),0);let h=new Ht(Be);return this.zr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(p.Gr)),!0)},c),ae.resolve(this.Jr(h))}Jr(e){const t=[];return e.forEach(i=>{const a=this.jr(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){it(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return ae.forEach(t.mutations,a=>{const l=new Wt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=i})}Xn(e){}containsKey(e,t){const i=new Wt(t,0),a=this.zr.firstAfterOrEqual(i);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.Zr=e,this.docs=function(){return new Et(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.Zr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let i=is();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Tn.newInvalidDocument(a))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=is();const c=t.path,h=new Se(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||GP($P(y),i)<=0||(a.has(y.key)||Vp(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,i,a){xe(9500)}Xr(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new vV(this)}getSize(e){return ae.resolve(this.size)}}class vV extends cV{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.persistence=e,this.ei=new Po(t=>y_(t),v_),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ti=0,this.ni=new R_,this.targetCount=0,this.ri=au.rr()}forEachTarget(e,t){return this.ei.forEach((i,a)=>t(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ti&&(this.ti=t),ae.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new au(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.ar(t),ae.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ei.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.ei.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.ni.qr(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.ni.$r(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ni.Wr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t){this.ii={},this.overlays={},this.si=new Dp(0),this.oi=!1,this.oi=!0,this._i=new mV,this.referenceDelegate=e(this),this.ai=new _V(this),this.indexManager=new rV,this.remoteDocumentCache=function(a){return new yV(a)}(i=>this.referenceDelegate.ui(i)),this.serializer=new tV(t),this.ci=new dV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ii[e.toKey()];return i||(i=new gV(t,this.referenceDelegate),this.ii[e.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,i){pe("MemoryPersistence","Starting transaction:",e);const a=new EV(this.si.next());return this.referenceDelegate.li(),i(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e,t){return ae.or(Object.values(this.ii).map(i=>()=>i.containsKey(e,t)))}}class EV extends QP{constructor(e){super(),this.currentSequenceNumber=e}}class A_{constructor(e){this.persistence=e,this.Ti=new R_,this.Ii=null}static Ei(e){return new A_(e)}get di(){if(this.Ii)return this.Ii;throw xe(60996)}addReference(e,t,i){return this.Ti.addReference(i,t),this.di.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Ti.removeReference(i,t),this.di.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,i=>{const a=Se.fromPath(i);return this.Ai(e,a).next(l=>{l||t.removeEntry(a,Ne.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return ae.or([()=>ae.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class sp{constructor(e,t){this.persistence=e,this.Ri=new Po(i=>WP(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=uV(this,t)}static Ei(e,t){return new sp(e,t)}li(){}hi(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}Vr(e){let t=0;return this.Ar(e,i=>{t++}).next(()=>t)}Ar(e,t){return ae.forEach(this.Ri,(i,a)=>this.gr(e,i,a).next(l=>l?ae.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,t).next(h=>{h||(i++,l.removeEntry(c,Ne.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,i){return this.Ri.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ae.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ld(e.data.value)),t}gr(e,t,i){return ae.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.ls=i,this.hs=a}static Ps(e,t){let i=Ge(),a=Ge();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new C_(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return y2()?8:YP(wn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.Rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new TV;return this.fs(e,t,c).next(h=>{if(l.result=h,this.Is)return this.gs(e,t,c,h.size)})}).next(()=>l.result)}gs(e,t,i,a){return i.documentReadCount<this.Es?(Dl()<=$e.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Nl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ae.resolve()):(Dl()<=$e.DEBUG&&pe("QueryEngine","Query:",Nl(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Dl()<=$e.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Nl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(t))):ae.resolve())}Rs(e,t){if($w(t))return ae.resolve(null);let i=si(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Sv(t,null,"F"),i=si(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ge(...l);return this.As.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.ps(t,h);return this.ys(t,m,c,p.readTime)?this.Rs(e,Sv(t,null,"F")):this.ws(e,m,t,p)}))})))}Vs(e,t,i,a){return $w(t)||a.isEqual(Ne.min())?ae.resolve(null):this.As.getDocuments(e,i).next(l=>{const c=this.ps(t,l);return this.ys(t,c,i,a)?ae.resolve(null):(Dl()<=$e.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Nl(t)),this.ws(e,c,t,HP(a,uf)).next(h=>h))})}ps(e,t){let i=new Ht(aC(e));return t.forEach((a,l)=>{Vp(e,l)&&(i=i.add(l))}),i}ys(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(e,t,i){return Dl()<=$e.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Nl(t)),this.As.getDocumentsMatchingQuery(e,t,ha.min(),i)}ws(e,t,i,a){return this.As.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LocalStore",wV=3e8;class SV{constructor(e,t,i,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new Et(Be),this.Ds=new Po(l=>y_(l),v_),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(i)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hV(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function RV(n,e,t,i){return new SV(n,e,t,i)}async function xC(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let p=Ge();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(i,p).next(m=>({Ms:m,removedBatchIds:c,addedBatchIds:h}))})})}function AV(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(h,p,m,y){const _=m.batch,E=_.keys();let S=ae.resolve();return E.forEach(C=>{S=S.next(()=>y.getEntry(p,C)).next(k=>{const x=m.docVersions.get(C);it(x!==null,48541),k.version.compareTo(x)<0&&(_.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),y.addEntry(k)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(p,_))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=Ge();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function OC(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function CV(n,e){const t=ke(n),i=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const h=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;h.push(t.ai.removeMatchingKeys(l,y.removedDocuments,_).next(()=>t.ai.addMatchingKeys(l,y.addedDocuments,_)));let S=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(cn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),a=a.insert(_,S),function(k,x,U){return k.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=wV?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(E,S,y)&&h.push(t.ai.updateTargetData(l,S))});let p=is(),m=Ge();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),h.push(IV(l,c,e.documentUpdates).next(y=>{p=y.xs,m=y.Os})),!i.isEqual(Ne.min())){const y=t.ai.getLastRemoteSnapshotVersion(l).next(_=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(y)}return ae.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.Ss=a,l))}function IV(n,e,t){let i=Ge(),a=Ge();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=is();return t.forEach((h,p)=>{const m=l.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):pe(I_,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)}),{xs:c,Os:a}})}function xV(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=p_),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function OV(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.ai.getTargetData(i,e).next(l=>l?(a=l,ae.resolve(a)):t.ai.allocateTargetId(i).next(c=>(a=new ra(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.ai.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ss.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(i.targetId,i),t.Ds.set(e,i.targetId)),i})}async function xv(n,e,t){const i=ke(n),a=i.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!wu(c))throw c;pe(I_,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ss=i.Ss.remove(e),i.Ds.delete(a.target)}function iS(n,e,t){const i=ke(n);let a=Ne.min(),l=Ge();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,y){const _=ke(p),E=_.Ds.get(y);return E!==void 0?ae.resolve(_.Ss.get(E)):_.ai.getTargetData(m,y)}(i,c,si(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,h.targetId).next(p=>{l=p})}).next(()=>i.bs.getDocumentsMatchingQuery(c,e,t?a:Ne.min(),t?l:Ge())).next(h=>(DV(i,yk(e),h),{documents:h,Ns:l})))}function DV(n,e,t){let i=n.vs.get(e)||Ne.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.vs.set(e,i)}class sS{constructor(){this.activeTargetIds=wk()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NV{constructor(){this.So=new sS,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,i){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new sS,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="ConnectivityMonitor";class oS{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){pe(aS,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){pe(aS,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad=null;function Ov(){return Ad===null?Ad=function(){return 268435456+Math.round(2147483648*Math.random())}():Ad++,"0x"+Ad.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="RestConnection",PV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kV{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${i}/databases/${a}`,this.qo=this.databaseId.database===Zd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Qo(e,t,i,a,l){const c=Ov(),h=this.$o(e,t.toUriEncodedString());pe(Ny,`Sending RPC '${e}' ${c}:`,h,i);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,a,l),this.Ko(e,h,p,i).then(m=>(pe(Ny,`Received RPC '${e}' ${c}: `,m),m),m=>{throw nu(Ny,`RPC '${e}' ${c} failed with error: `,m,"url: ",h,"request:",i),m})}Wo(e,t,i,a,l,c){return this.Qo(e,t,i,a,l)}Uo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}$o(e,t){const i=PV[e];return`${this.Lo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class LV extends kV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,i,a){const l=Ov();return new Promise((c,h)=>{const p=new PA;p.setWithCredentials(!0),p.listenOnce(kA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Vd.NO_ERROR:const y=p.getResponseJson();pe(vn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Vd.TIMEOUT:pe(vn,`RPC '${e}' ${l} timed out`),h(new Ee(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const _=p.getStatus();if(pe(vn,`RPC '${e}' ${l} failed with status:`,_,"response text:",p.getResponseText()),_>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const C=function(x){const U=x.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(U)>=0?U:ue.UNKNOWN}(S.status);h(new Ee(C,S.message))}else h(new Ee(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ee(ue.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{s_:e,streamId:l,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{pe(vn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);pe(vn,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",m,i,15)})}a_(e,t,i){const a=Ov(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=UA(),h=LA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const y=l.join("");pe(vn,`Creating RPC '${e}' stream ${a}: ${y}`,p);const _=c.createWebChannel(y,p);let E=!1,S=!1;const C=new VV({Go:x=>{S?pe(vn,`Not sending because RPC '${e}' stream ${a} is closed:`,x):(E||(pe(vn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),pe(vn,`RPC '${e}' stream ${a} sending:`,x),_.send(x))},zo:()=>_.close()}),k=(x,U,G)=>{x.listen(U,z=>{try{G(z)}catch(H){setTimeout(()=>{throw H},0)}})};return k(_,Hc.EventType.OPEN,()=>{S||(pe(vn,`RPC '${e}' stream ${a} transport opened.`),C.t_())}),k(_,Hc.EventType.CLOSE,()=>{S||(S=!0,pe(vn,`RPC '${e}' stream ${a} transport closed`),C.r_())}),k(_,Hc.EventType.ERROR,x=>{S||(S=!0,nu(vn,`RPC '${e}' stream ${a} transport errored. Name:`,x.name,"Message:",x.message),C.r_(new Ee(ue.UNAVAILABLE,"The operation could not be completed")))}),k(_,Hc.EventType.MESSAGE,x=>{var U;if(!S){const G=x.data[0];it(!!G,16349);const z=G,H=(z==null?void 0:z.error)||((U=z[0])===null||U===void 0?void 0:U.error);if(H){pe(vn,`RPC '${e}' stream ${a} received error:`,H);const K=H.status;let J=function(D){const P=Pt[D];if(P!==void 0)return yC(P)}(K),N=H.message;J===void 0&&(J=ue.INTERNAL,N="Unknown error status: "+K+" with message "+H.message),S=!0,C.r_(new Ee(J,N)),_.close()}else pe(vn,`RPC '${e}' stream ${a} received:`,G),C.i_(G)}}),k(h,VA.STAT_EVENT,x=>{x.stat===vv.PROXY?pe(vn,`RPC '${e}' stream ${a} detected buffering proxy`):x.stat===vv.NOPROXY&&pe(vn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}}function My(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(n){return new zk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,t,i=1e3,a=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=i,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-i);a>0&&pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="PersistentStream";class NC{constructor(e,t,i,a,l,c,h,p){this.bi=e,this.R_=i,this.V_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new DC(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(rs(t.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.m_===t&&this.B_(i,a)},i=>{e(()=>{const a=new Ee(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(a)})})}B_(e,t){const i=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{i(()=>this.L_(a))}),this.stream.onMessage(a=>{i(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return pe(lS,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(pe(lS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UV extends NC{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=Hk(this.serializer,e),i=function(l){if(!("targetChange"in l))return Ne.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ne.min():c.readTime?ai(c.readTime):Ne.min()}(e);return this.listener.Q_(t,i)}U_(e){const t={};t.database=Iv(this.serializer),t.addTarget=function(l,c){let h;const p=c.target;if(h=wv(p)?{documents:Kk(l,p)}:{query:Qk(l,p).gt},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=EC(l,c.resumeToken);const m=Rv(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ne.min())>0){h.readTime=ip(l,c.snapshotVersion.toTimestamp());const m=Rv(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=Xk(this.serializer,e);i&&(t.labels=i),this.F_(t)}K_(e){const t={};t.database=Iv(this.serializer),t.removeTarget=e,this.F_(t)}}class jV extends NC{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=Gk(e.writeResults,e.commitTime),i=ai(e.commitTime);return this.listener.j_(i,t)}H_(){const e={};e.database=Iv(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>$k(this.serializer,i))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{}class zV extends BV{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,Av(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(ue.UNKNOWN,l.toString())})}Wo(e,t,i,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Wo(e,Av(t,i),a,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ee(ue.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class FV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(rs(t),this.ea=!1):pe("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="RemoteStore";class qV{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{i.enqueueAndForget(async()=>{ko(this)&&(pe(Ao,"Restarting streams for network reachability change."),await async function(p){const m=ke(p);m.aa.add(4),await Uf(m),m.la.set("Unknown"),m.aa.delete(4),await zp(m)}(this))})}),this.la=new FV(i,a)}}async function zp(n){if(ko(n))for(const e of n.ua)await e(!0)}async function Uf(n){for(const e of n.ua)await e(!1)}function MC(n,e){const t=ke(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),N_(t)?D_(t):Su(t).b_()&&O_(t,e))}function x_(n,e){const t=ke(n),i=Su(t);t._a.delete(e),i.b_()&&PC(t,e),t._a.size===0&&(i.b_()?i.v_():ko(t)&&t.la.set("Unknown"))}function O_(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Su(n).U_(e)}function PC(n,e){n.ha.Ke(e),Su(n).K_(e)}function D_(n){n.ha=new Lk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Su(n).start(),n.la.ta()}function N_(n){return ko(n)&&!Su(n).w_()&&n._a.size>0}function ko(n){return ke(n).aa.size===0}function kC(n){n.ha=void 0}async function HV(n){n.la.set("Online")}async function $V(n){n._a.forEach((e,t)=>{O_(n,e)})}async function GV(n,e){kC(n),N_(n)?(n.la.ia(e),D_(n)):n.la.set("Unknown")}async function KV(n,e,t){if(n.la.set("Online"),e instanceof _C&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const h of l.targetIds)a._a.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a._a.delete(h),a.ha.removeTarget(h))}(n,e)}catch(i){pe(Ao,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await ap(n,i)}else if(e instanceof Bd?n.ha.Xe(e):e instanceof vC?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ne.min()))try{const i=await OC(n.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.ha.It(c);return h.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l._a.get(m);y&&l._a.set(m,y.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,m)=>{const y=l._a.get(p);if(!y)return;l._a.set(p,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),PC(l,p);const _=new ra(y.target,p,m,y.sequenceNumber);O_(l,_)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){pe(Ao,"Failed to raise snapshot:",i),await ap(n,i)}}async function ap(n,e,t){if(!wu(e))throw e;n.aa.add(1),await Uf(n),n.la.set("Offline"),t||(t=()=>OC(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Ao,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await zp(n)})}function VC(n,e){return e().catch(t=>ap(n,t,e))}async function Fp(n){const e=ke(n),t=ga(e);let i=e.oa.length>0?e.oa[e.oa.length-1].batchId:p_;for(;QV(e);)try{const a=await xV(e.localStore,i);if(a===null){e.oa.length===0&&t.v_();break}i=a.batchId,YV(e,a)}catch(a){await ap(e,a)}LC(e)&&UC(e)}function QV(n){return ko(n)&&n.oa.length<10}function YV(n,e){n.oa.push(e);const t=ga(n);t.b_()&&t.W_&&t.G_(e.mutations)}function LC(n){return ko(n)&&!ga(n).w_()&&n.oa.length>0}function UC(n){ga(n).start()}async function XV(n){ga(n).H_()}async function WV(n){const e=ga(n);for(const t of n.oa)e.G_(t.mutations)}async function ZV(n,e,t){const i=n.oa.shift(),a=b_.from(i,e,t);await VC(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Fp(n)}async function JV(n,e){e&&ga(n).W_&&await async function(i,a){if(function(c){return kk(c)&&c!==ue.ABORTED}(a.code)){const l=i.oa.shift();ga(i).D_(),await VC(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Fp(i)}}(n,e),LC(n)&&UC(n)}async function uS(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),pe(Ao,"RemoteStore received new credentials");const i=ko(t);t.aa.add(3),await Uf(t),i&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await zp(t)}async function eL(n,e){const t=ke(n);e?(t.aa.delete(2),await zp(t)):e||(t.aa.add(2),await Uf(t),t.la.set("Unknown"))}function Su(n){return n.Pa||(n.Pa=function(t,i,a){const l=ke(t);return l.Y_(),new UV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{jo:HV.bind(null,n),Jo:$V.bind(null,n),Zo:GV.bind(null,n),Q_:KV.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),N_(n)?D_(n):n.la.set("Unknown")):(await n.Pa.stop(),kC(n))})),n.Pa}function ga(n){return n.Ta||(n.Ta=function(t,i,a){const l=ke(t);return l.Y_(),new jV(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:XV.bind(null,n),Zo:JV.bind(null,n),z_:WV.bind(null,n),j_:ZV.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Fp(n)):(await n.Ta.stop(),n.oa.length>0&&(pe(Ao,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,h=new M_(e,t,c,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P_(n,e){if(rs("AsyncQueue",`${e}: ${n}`),wu(n))return new Ee(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Se.comparator(t.key,i.key):(t,i)=>Se.comparator(t.key,i.key),this.keyedMap=$c(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ul;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.Ia=new Et(Se.comparator)}track(e){const t=e.doc.key,i=this.Ia.get(t);i?e.type!==0&&i.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&i.type!==1?this.Ia=this.Ia.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Ia=this.Ia.remove(t):e.type===1&&i.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):xe(63341,{Vt:e,Ea:i}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,i)=>{e.push(i)}),e}}class ou{constructor(e,t,i,a,l,c,h,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new ou(e,t,Ul.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class nL{constructor(){this.queries=fS(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,i){const a=ke(t),l=a.queries;a.queries=fS(),l.forEach((c,h)=>{for(const p of h.Ra)p.onError(i)})})(this,new Ee(ue.ABORTED,"Firestore shutting down"))}}function fS(){return new Po(n=>sC(n),kp)}async function jC(n,e){const t=ke(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Va()&&e.ma()&&(i=2):(l=new tL,i=e.ma()?0:1);try{switch(i){case 0:l.Aa=await t.onListen(a,!0);break;case 1:l.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=P_(c,`Initialization of query '${Nl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&k_(t)}async function BC(n,e){const t=ke(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?a=e.ma()?0:1:!l.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function rL(n,e){const t=ke(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const h of c.Ra)h.pa(a)&&(i=!0);c.Aa=a}}i&&k_(t)}function iL(n,e,t){const i=ke(n),a=i.queries.get(e);if(a)for(const l of a.Ra)l.onError(t);i.queries.delete(e)}function k_(n){n.fa.forEach(e=>{e.next()})}var Dv,hS;(hS=Dv||(Dv={})).ya="default",hS.Cache="cache";class zC{constructor(e,t,i){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new ou(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const i=t!=="Offline";return(!this.options.Fa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Dv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.key=e}}class qC{constructor(e){this.key=e}}class sL{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Ge(),this.mutatedKeys=Ge(),this.Ua=aC(e),this.Ka=new Ul(this.Ua)}get Wa(){return this.qa}Ga(e,t){const i=t?t.za:new cS,a=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),S=Vp(this.query,_)?_:null,C=!!E&&this.mutatedKeys.has(E.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;E&&S?E.data.isEqual(S.data)?C!==k&&(i.track({type:3,doc:S}),x=!0):this.ja(E,S)||(i.track({type:2,doc:S}),x=!0,(p&&this.Ua(S,p)>0||m&&this.Ua(S,m)<0)&&(h=!0)):!E&&S?(i.track({type:0,doc:S}),x=!0):E&&!S&&(i.track({type:1,doc:E}),x=!0,(p||m)&&(h=!0)),x&&(S?(c=c.add(S),l=k?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{Ka:c,za:i,ys:h,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((y,_)=>function(S,C){const k=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:x})}};return k(S)-k(C)}(y.type,_.type)||this.Ua(y.doc,_.doc)),this.Ha(i),a=a!=null&&a;const h=t&&!a?this.Ja():[],p=this.$a.size===0&&this.current&&!a?1:0,m=p!==this.Qa;return this.Qa=p,c.length!==0||m?{snapshot:new ou(this.query,e.Ka,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new cS,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Ge(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const t=[];return e.forEach(i=>{this.$a.has(i)||t.push(new qC(i))}),this.$a.forEach(i=>{e.has(i)||t.push(new FC(i))}),t}Xa(e){this.qa=e.Ns,this.$a=Ge();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return ou.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const V_="SyncEngine";class aL{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class oL{constructor(e){this.key=e,this.tu=!1}}class lL{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Po(h=>sC(h),kp),this.iu=new Map,this.su=new Set,this.ou=new Et(Se.comparator),this._u=new Map,this.au=new R_,this.uu={},this.cu=new Map,this.lu=au.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function uL(n,e,t=!0){const i=YC(n);let a;const l=i.ru.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await HC(i,e,t,!0),a}async function cL(n,e){const t=YC(n);await HC(t,e,!0,!1)}async function HC(n,e,t,i){const a=await OV(n.localStore,si(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await fL(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&MC(n.remoteStore,a),h}async function fL(n,e,t,i,a){n.Pu=(_,E,S)=>async function(k,x,U,G){let z=x.view.Ga(U);z.ys&&(z=await iS(k.localStore,x.query,!1).then(({documents:N})=>x.view.Ga(N,z)));const H=G&&G.targetChanges.get(x.targetId),K=G&&G.targetMismatches.get(x.targetId)!=null,J=x.view.applyChanges(z,k.isPrimaryClient,H,K);return pS(k,x.targetId,J.Ya),J.snapshot}(n,_,E,S);const l=await iS(n.localStore,e,!0),c=new sL(e,l.Ns),h=c.Ga(l.documents),p=Lf.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,p);pS(n,t,m.Ya);const y=new aL(e,t,c);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),m.snapshot}async function hL(n,e,t){const i=ke(n),a=i.ru.get(e),l=i.iu.get(a.targetId);if(l.length>1)return i.iu.set(a.targetId,l.filter(c=>!kp(c,e))),void i.ru.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await xv(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&x_(i.remoteStore,a.targetId),Nv(i,a.targetId)}).catch(bu)):(Nv(i,a.targetId),await xv(i.localStore,a.targetId,!0))}async function dL(n,e){const t=ke(n),i=t.ru.get(e),a=t.iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),x_(t.remoteStore,i.targetId))}async function pL(n,e,t){const i=TL(n);try{const a=await function(c,h){const p=ke(c),m=qt.now(),y=h.reduce((S,C)=>S.add(C.key),Ge());let _,E;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let C=is(),k=Ge();return p.Cs.getEntries(S,y).next(x=>{C=x,C.forEach((U,G)=>{G.isValidDocument()||(k=k.add(U))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,C)).next(x=>{_=x;const U=[];for(const G of h){const z=Ok(G,_.get(G.key).overlayedDocument);z!=null&&U.push(new ba(G.key,z,ZA(z.value.mapValue),yr.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,U,h)}).next(x=>{E=x;const U=x.applyToLocalDocumentSet(_,k);return p.documentOverlayCache.saveOverlays(S,x.batchId,U)})}).then(()=>({batchId:E.batchId,changes:lC(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,h,p){let m=c.uu[c.currentUser.toKey()];m||(m=new Et(Be)),m=m.insert(h,p),c.uu[c.currentUser.toKey()]=m}(i,a.batchId,t),await jf(i,a.changes),await Fp(i.remoteStore)}catch(a){const l=P_(a,"Failed to persist write");t.reject(l)}}async function $C(n,e){const t=ke(n);try{const i=await CV(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t._u.get(l);c&&(it(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?it(c.tu,14607):a.removedDocuments.size>0&&(it(c.tu,42227),c.tu=!1))}),await jf(t,i,e)}catch(i){await bu(i)}}function dS(n,e,t){const i=ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ru.forEach((l,c)=>{const h=c.view.ga(e);h.snapshot&&a.push(h.snapshot)}),function(c,h){const p=ke(c);p.onlineState=h;let m=!1;p.queries.forEach((y,_)=>{for(const E of _.Ra)E.ga(h)&&(m=!0)}),m&&k_(p)}(i.eventManager,e),a.length&&i.nu.Q_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function mL(n,e,t){const i=ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i._u.get(e),l=a&&a.key;if(l){let c=new Et(Se.comparator);c=c.insert(l,Tn.newNoDocument(l,Ne.min()));const h=Ge().add(l),p=new jp(Ne.min(),new Map,new Et(Be),c,h);await $C(i,p),i.ou=i.ou.remove(l),i._u.delete(e),L_(i)}else await xv(i.localStore,e,!1).then(()=>Nv(i,e,t)).catch(bu)}async function gL(n,e){const t=ke(n),i=e.batch.batchId;try{const a=await AV(t.localStore,e);KC(t,i,null),GC(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await jf(t,a)}catch(a){await bu(a)}}async function yL(n,e,t){const i=ke(n);try{const a=await function(c,h){const p=ke(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,h).next(_=>(it(_!==null,37113),y=_.keys(),p.mutationQueue.removeMutationBatch(m,_))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(i.localStore,e);KC(i,e,t),GC(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await jf(i,a)}catch(a){await bu(a)}}function GC(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function KC(n,e,t){const i=ke(n);let a=i.uu[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.uu[i.currentUser.toKey()]=a}}function Nv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.iu.get(e))n.ru.delete(i),t&&n.nu.Tu(i,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(i=>{n.au.containsKey(i)||QC(n,i)})}function QC(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(x_(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),L_(n))}function pS(n,e,t){for(const i of t)i instanceof FC?(n.au.addReference(i.key,e),vL(n,i)):i instanceof qC?(pe(V_,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,e),n.au.containsKey(i.key)||QC(n,i.key)):xe(19791,{Iu:i})}function vL(n,e){const t=e.key,i=t.path.canonicalString();n.ou.get(t)||n.su.has(i)||(pe(V_,"New document in limbo: "+t),n.su.add(i),L_(n))}function L_(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Se(gt.fromString(e)),i=n.lu.next();n._u.set(i,new oL(t)),n.ou=n.ou.insert(t,i),MC(n.remoteStore,new ra(si(__(t.path)),i,"TargetPurposeLimboResolution",Dp.le))}}async function jf(n,e,t){const i=ke(n),a=[],l=[],c=[];i.ru.isEmpty()||(i.ru.forEach((h,p)=>{c.push(i.Pu(p,e,t).then(m=>{var y;if((m||t)&&i.isPrimaryClient){const _=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(m){a.push(m);const _=C_.Ps(p.targetId,m);l.push(_)}}))}),await Promise.all(c),i.nu.Q_(a),await async function(p,m){const y=ke(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ae.forEach(m,E=>ae.forEach(E.ls,S=>y.persistence.referenceDelegate.addReference(_,E.targetId,S)).next(()=>ae.forEach(E.hs,S=>y.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))}catch(_){if(!wu(_))throw _;pe(I_,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const S=y.Ss.get(E),C=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(C);y.Ss=y.Ss.insert(E,k)}}}(i.localStore,l))}async function _L(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){pe(V_,"User change. New user:",e.toKey());const i=await xC(t.localStore,e);t.currentUser=e,function(l,c){l.cu.forEach(h=>{h.forEach(p=>{p.reject(new Ee(ue.CANCELLED,c))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await jf(t,i.Ms)}}function EL(n,e){const t=ke(n),i=t._u.get(e);if(i&&i.tu)return Ge().add(i.key);{let a=Ge();const l=t.iu.get(e);if(!l)return a;for(const c of l){const h=t.ru.get(c);a=a.unionWith(h.view.Wa)}return a}}function YC(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=$C.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mL.bind(null,e),e.nu.Q_=rL.bind(null,e.eventManager),e.nu.Tu=iL.bind(null,e.eventManager),e}function TL(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yL.bind(null,e),e}class op{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bp(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return RV(this.persistence,new bV,e.initialUser,this.serializer)}Ru(e){return new IC(A_.Ei,this.serializer)}Au(e){return new NV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}op.provider={build:()=>new op};class bL extends op{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){it(this.persistence.referenceDelegate instanceof sp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new oV(i,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new IC(i=>sp.Ei(i,t),this.serializer)}}class Mv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>dS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_L.bind(null,this.syncEngine),await eL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nL}()}createDatastore(e){const t=Bp(e.databaseInfo.databaseId),i=function(l){return new LV(l)}(e.databaseInfo);return function(l,c,h,p){return new zV(l,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,h){return new qV(i,a,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>dS(this.syncEngine,t,0),function(){return oS.C()?new oS:new MV}())}createSyncEngine(e,t){return function(a,l,c,h,p,m,y){const _=new lL(a,l,c,h,p,m);return y&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=ke(a);pe(Ao,"RemoteStore shutting down."),l.aa.add(5),await Uf(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Mv.provider={build:()=>new Mv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="FirestoreClient";class wL{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=En.UNAUTHENTICATED,this.clientId=FA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{pe(ya,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(pe(ya,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=P_(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Py(n,e){n.asyncQueue.verifyOperationInProgress(),pe(ya,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await xC(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function mS(n,e){n.asyncQueue.verifyOperationInProgress();const t=await SL(n);pe(ya,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>uS(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>uS(e.remoteStore,a)),n._onlineComponents=e}async function SL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(ya,"Using user provided OfflineComponentProvider");try{await Py(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;nu("Error using user provided cache. Falling back to memory cache: "+t),await Py(n,new op)}}else pe(ya,"Using default OfflineComponentProvider"),await Py(n,new bL(void 0));return n._offlineComponents}async function WC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(ya,"Using user provided OnlineComponentProvider"),await mS(n,n._uninitializedComponentsProvider._online)):(pe(ya,"Using default OnlineComponentProvider"),await mS(n,new Mv))),n._onlineComponents}function RL(n){return WC(n).then(e=>e.syncEngine)}async function ZC(n){const e=await WC(n),t=e.eventManager;return t.onListen=uL.bind(null,e.syncEngine),t.onUnlisten=hL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dL.bind(null,e.syncEngine),t}function AL(n,e,t={}){const i=new Wi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,p,m){const y=new XC({next:E=>{y.yu(),c.enqueueAndForget(()=>BC(l,_));const S=E.docs.has(h);!S&&E.fromCache?m.reject(new Ee(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&p&&p.source==="server"?m.reject(new Ee(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new zC(__(h.path),y,{includeMetadataChanges:!0,Fa:!0});return jC(l,_)}(await ZC(n),n.asyncQueue,e,t,i)),i.promise}function CL(n,e,t={}){const i=new Wi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,p,m){const y=new XC({next:E=>{y.yu(),c.enqueueAndForget(()=>BC(l,_)),E.fromCache&&p.source==="server"?m.reject(new Ee(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new zC(h,y,{includeMetadataChanges:!0,Fa:!0});return jC(l,_)}(await ZC(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(n,e,t){if(!t)throw new Ee(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function IL(n,e,t,i){if(e===!0&&i===!0)throw new Ee(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yS(n){if(!Se.isDocumentKey(n))throw new Ee(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vS(n){if(Se.isDocumentKey(n))throw new Ee(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function U_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe(12329,{type:typeof n})}function kr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ee(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=U_(n);throw new Ee(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firestore.googleapis.com",_S=!0;class ES{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t1,this.ssl=_S}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_S;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sV)throw new Ee(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JC((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ee(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qp{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ES({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ES(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new kP;switch(i.type){case"firstParty":return new jP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ee(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=gS.get(t);i&&(pe("ComponentProvider","Removing Datastore"),gS.delete(t),i.terminate())}(this),Promise.resolve()}}function xL(n,e,t,i={}){var a;const l=(n=kr(n,qp))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;l.host!==t1&&l.host!==h&&nu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:h,ssl:!1,emulatorOptions:i});if(!wo(p,c)&&(n._setSettings(p),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=En.MOCK_USER;else{m=c2(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ee(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new En(_)}n._authCredentials=new VP(new BA(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Hp(this.firestore,e,this._query)}}class jn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class ua extends Hp{constructor(e,t,i){super(e,t,__(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Se(e))}withConverter(e){return new ua(this.firestore,e,this._path)}}function lu(n,e,...t){if(n=Zt(n),e1("collection","path",e),n instanceof qp){const i=gt.fromString(e,...t);return vS(i),new ua(n,null,i)}{if(!(n instanceof jn||n instanceof ua))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gt.fromString(e,...t));return vS(i),new ua(n.firestore,null,i)}}function oi(n,e,...t){if(n=Zt(n),arguments.length===1&&(e=FA.newId()),e1("doc","path",e),n instanceof qp){const i=gt.fromString(e,...t);return yS(i),new jn(n,null,new Se(i))}{if(!(n instanceof jn||n instanceof ua))throw new Ee(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(gt.fromString(e,...t));return yS(i),new jn(n.firestore,n instanceof ua?n.converter:null,new Se(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="AsyncQueue";class bS{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new DC(this,"async_queue_retry"),this.ju=()=>{const i=My();i&&pe(TS,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=e;const t=My();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=My();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Wi;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!wu(e))throw e;pe(TS,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(i=>{throw this.Ku=i,this.Wu=!1,rs("INTERNAL UNHANDLED ERROR: ",wS(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=t,t}enqueueAfterDelay(e,t,i){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=M_.createAndSchedule(this,e,t,i,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&xe(47125,{ec:wS(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function wS(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Vo extends qp{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new bS,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bS(e),this._firestoreClient=void 0,await e}}}function OL(n,e){const t=typeof n=="object"?n:OA(),i=typeof n=="string"?n:Zd,a=h_(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=l2("firestore");l&&xL(a,...l)}return a}function j_(n){if(n._terminated)throw new Ee(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DL(n),n._firestoreClient}function DL(n){var e,t,i;const a=n._freezeSettings(),l=function(h,p,m,y){return new ek(h,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,JC(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new wL(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uu(cn.fromBase64String(e))}catch(t){throw new Ee(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uu(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ee(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ee(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ee(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=/^__.*__$/;class ML{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vf(e,this.data,t,this.fieldTransforms)}}class n1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function r1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{oc:n})}}class q_{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new q_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:i,cc:!1});return a.lc(e),a}hc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:i,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return lp(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(r1(this.oc)&&NL.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class PL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Bp(e)}dc(e,t,i,a=!1){return new q_({oc:e,methodName:t,Ec:i,path:un.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H_(n){const e=n._freezeSettings(),t=Bp(n._databaseId);return new PL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function i1(n,e,t,i,a,l={}){const c=n.dc(l.merge||l.mergeFields?2:0,e,t,a);$_("Data must be an object, but it was:",c,i);const h=s1(i,c);let p,m;if(l.merge)p=new Wn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=Pv(e,_,t);if(!c.contains(E))throw new Ee(ue.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);o1(y,E)||y.push(E)}p=new Wn(y),m=c.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,m=c.fieldTransforms;return new ML(new Ln(h),p,m)}class Gp extends B_{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gp}}function kL(n,e,t,i){const a=n.dc(1,e,t);$_("Data must be an object, but it was:",a,i);const l=[],c=Ln.empty();Ta(i,(p,m)=>{const y=G_(e,p,t);m=Zt(m);const _=a.hc(y);if(m instanceof Gp)l.push(y);else{const E=Kp(m,_);E!=null&&(l.push(y),c.set(y,E))}});const h=new Wn(l);return new n1(c,h,a.fieldTransforms)}function VL(n,e,t,i,a,l){const c=n.dc(1,e,t),h=[Pv(e,i,t)],p=[a];if(l.length%2!=0)throw new Ee(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(Pv(e,l[E])),p.push(l[E+1]);const m=[],y=Ln.empty();for(let E=h.length-1;E>=0;--E)if(!o1(m,h[E])){const S=h[E];let C=p[E];C=Zt(C);const k=c.hc(S);if(C instanceof Gp)m.push(S);else{const x=Kp(C,k);x!=null&&(m.push(S),y.set(S,x))}}const _=new Wn(m);return new n1(y,_,c.fieldTransforms)}function Kp(n,e){if(a1(n=Zt(n)))return $_("Unsupported field value:",e,n),s1(n,e);if(n instanceof B_)return function(i,a){if(!r1(a.oc))throw a.Tc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const h of i){let p=Kp(h,a.Pc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Zt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Sk(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=qt.fromDate(i);return{timestampValue:ip(a.serializer,l)}}if(i instanceof qt){const l=new qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ip(a.serializer,l)}}if(i instanceof z_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof uu)return{bytesValue:EC(a.serializer,i._byteString)};if(i instanceof jn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:S_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof F_)return function(c,h){return{mapValue:{fields:{[XA]:{stringValue:WA},[Jd]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw h.Tc("VectorValues must only contain numeric values.");return E_(h.serializer,m)})}}}}}}(i,a);throw a.Tc(`Unsupported field value: ${U_(i)}`)}(n,e)}function s1(n,e){const t={};return HA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ta(n,(i,a)=>{const l=Kp(a,e.uc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function a1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof z_||n instanceof uu||n instanceof jn||n instanceof B_||n instanceof F_)}function $_(n,e,t){if(!a1(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=U_(t);throw i==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+i)}}function Pv(n,e,t){if((e=Zt(e))instanceof $p)return e._internalPath;if(typeof e=="string")return G_(n,e);throw lp("Field path arguments must be of type string or ",n,!1,void 0,t)}const LL=new RegExp("[~\\*/\\[\\]]");function G_(n,e,t){if(e.search(LL)>=0)throw lp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $p(...e.split("."))._internalPath}catch{throw lp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lp(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${a}`),p+=")"),new Ee(ue.INVALID_ARGUMENT,h+n+p)}function o1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(u1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class UL extends l1{data(){return super.data()}}function u1(n,e){return typeof e=="string"?G_(n,e):e instanceof $p?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ee(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BL{convertValue(e,t="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ta(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[Jd].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>It(c.doubleValue));return new F_(l)}convertGeoPoint(e){return new z_(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Mp(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(cf(e));default:return null}}convertTimestamp(e){const t=da(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=gt.fromString(e);it(AC(i),9688,{name:e});const a=new ff(i.get(1),i.get(3)),l=new Se(i.popFirst(5));return a.isEqual(t)||rs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class f1 extends l1{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(u1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class zd extends f1{data(e={}){return super.data(e)}}class zL{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Kc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new zd(this._firestore,this._userDataWriter,i.key,i,new Kc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ee(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(h=>{const p=new zd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Kc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const p=new zd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Kc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:FL(h.type),doc:p,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(n){n=kr(n,jn);const e=kr(n.firestore,Vo);return AL(j_(e),n._key).then(t=>GL(e,n,t))}class h1 extends BL{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function mf(n){n=kr(n,Hp);const e=kr(n.firestore,Vo),t=j_(e),i=new h1(e);return jL(n._query),CL(t,n._query).then(a=>new zL(e,i,n,a))}function gf(n,e,t){n=kr(n,jn);const i=kr(n.firestore,Vo),a=c1(n.converter,e);return Qp(i,[i1(H_(i),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,yr.none())])}function HL(n,e,t,...i){n=kr(n,jn);const a=kr(n.firestore,Vo),l=H_(a);let c;return c=typeof(e=Zt(e))=="string"||e instanceof $p?VL(l,"updateDoc",n._key,e,t,i):kL(l,"updateDoc",n._key,e),Qp(a,[c.toMutation(n._key,yr.exists(!0))])}function d1(n){return Qp(kr(n.firestore,Vo),[new T_(n._key,yr.none())])}function $L(n,e){const t=kr(n.firestore,Vo),i=oi(n),a=c1(n.converter,e);return Qp(t,[i1(H_(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,yr.exists(!1))]).then(()=>i)}function Qp(n,e){return function(i,a){const l=new Wi;return i.asyncQueue.enqueueAndForget(async()=>pL(await RL(i),a,l)),l.promise}(j_(n),e)}function GL(n,e,t){const i=t.docs.get(e._key),a=new h1(n);return new f1(n,a,e._key,i,new Kc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Tu=a})(Eu),tu(new So("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new Vo(new LP(i.getProvider("auth-internal")),new BP(c,i.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ee(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(m.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),oa(Iw,xw,e),oa(Iw,xw,"esm2017")})();var KL="firebase",QL="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oa(KL,QL,"app");function K_(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function p1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YL=p1,m1=new Pf("auth","Firebase",p1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=new c_("@firebase/auth");function XL(n,...e){up.logLevel<=$e.WARN&&up.warn(`Auth (${Eu}): ${n}`,...e)}function Fd(n,...e){up.logLevel<=$e.ERROR&&up.error(`Auth (${Eu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(n,...e){throw Q_(n,...e)}function li(n,...e){return Q_(n,...e)}function g1(n,e,t){const i=Object.assign(Object.assign({},YL()),{[e]:t});return new Pf("auth","Firebase",i).create(e,{appName:n.name})}function ui(n){return g1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q_(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return m1.create(n,...e)}function Ie(n,e,...t){if(!n)throw Q_(e,...t)}function Qi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fd(e),new Error(e)}function ss(n,e){n||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function WL(){return SS()==="http:"||SS()==="https:"}function SS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WL()||p2()||"connection"in navigator)?navigator.onLine:!0}function JL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,t){this.shortDelay=e,this.longDelay=t,ss(t>e,"Short delay should be less than long delay!"),this.isMobile=f2()||m2()}get(){return ZL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(n,e){ss(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nU=new Bf(3e4,6e4);function fs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function gi(n,e,t,i,a={}){return v1(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=kf(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},l);return d2()||(m.referrerPolicy="no-referrer"),y1.fetch()(await _1(n,n.config.apiHost,t,h),m)})}async function v1(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},eU),e);try{const a=new iU(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Cd(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Cd(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Cd(n,"user-disabled",c);const y=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw g1(n,y,m);Vr(n,y)}}catch(a){if(a instanceof cs)throw a;Vr(n,"network-request-failed",{message:String(a)})}}async function zf(n,e,t,i,a={}){const l=await gi(n,e,t,i,a);return"mfaPendingCredential"in l&&Vr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function _1(n,e,t,i){const a=`${e}${t}?${i}`,l=n,c=l.config.emulator?Y_(n.config,a):`${n.config.apiScheme}://${a}`;return tU.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function rU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(li(this.auth,"network-request-failed")),nU.get())})}}function Cd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=li(n,e,i);return a.customData._tokenResponse=t,a}function RS(n){return n!==void 0&&n.enterprise!==void 0}class sU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aU(n,e){return gi(n,"GET","/v2/recaptchaConfig",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(n,e){return gi(n,"POST","/v1/accounts:delete",e)}async function cp(n,e){return gi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lU(n,e=!1){const t=Zt(n),i=await t.getIdToken(e),a=X_(i);Ie(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:ef(ky(a.auth_time)),issuedAtTime:ef(ky(a.iat)),expirationTime:ef(ky(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ky(n){return Number(n)*1e3}function X_(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Fd("JWT malformed, contained fewer than 3 sections"),null;try{const a=wA(t);return a?JSON.parse(a):(Fd("Failed to decode base64 JWT payload"),null)}catch(a){return Fd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function AS(n){const e=X_(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof cs&&uU(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function uU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ef(this.lastLoginAt),this.creationTime=ef(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(n){var e;const t=n.auth,i=await n.getIdToken(),a=await cu(n,cp(t,{idToken:i}));Ie(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?E1(l.providerUserInfo):[],h=hU(n.providerData,c),p=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),y=p?m:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Vv(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function fU(n){const e=Zt(n);await fp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hU(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function E1(n){return n.map(e=>{var{providerId:t}=e,i=K_(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU(n,e){const t=await v1(n,{},async()=>{const i=kf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await _1(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",y1.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pU(n,e){return gi(n,"POST","/v2/accounts:revokeToken",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=AS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await dU(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new jl;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ie(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Nr{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=K_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Vv(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await cu(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lU(this,e)}reload(){return fU(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await fp(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await cu(this,oU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,h,p,m,y;const _=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,S=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,k=(h=t.tenantId)!==null&&h!==void 0?h:void 0,x=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,U=(m=t.createdAt)!==null&&m!==void 0?m:void 0,G=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:z,emailVerified:H,isAnonymous:K,providerData:J,stsTokenManager:N}=t;Ie(z&&N,e,"internal-error");const I=jl.fromJSON(this.name,N);Ie(typeof z=="string",e,"internal-error"),Fs(_,e.name),Fs(E,e.name),Ie(typeof H=="boolean",e,"internal-error"),Ie(typeof K=="boolean",e,"internal-error"),Fs(S,e.name),Fs(C,e.name),Fs(k,e.name),Fs(x,e.name),Fs(U,e.name),Fs(G,e.name);const D=new Nr({uid:z,auth:e,email:E,emailVerified:H,displayName:_,isAnonymous:K,photoURL:C,phoneNumber:S,tenantId:k,stsTokenManager:I,createdAt:U,lastLoginAt:G});return J&&Array.isArray(J)&&(D.providerData=J.map(P=>Object.assign({},P))),x&&(D._redirectEventId=x),D}static async _fromIdTokenResponse(e,t,i=!1){const a=new jl;a.updateFromServerResponse(t);const l=new Nr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await fp(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?E1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new jl;h.updateFromIdToken(i);const p=new Nr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Vv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new Map;function Yi(n){ss(n instanceof Function,"Expected a class definition");let e=CS.get(n);return e?(ss(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,CS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}T1.type="NONE";const IS=T1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(n,e,t){return`firebase:${n}:${e}:${t}`}class Bl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=qd(this.userKey,a.apiKey,l),this.fullPersistenceKey=qd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await cp(this.auth,{idToken:e}).catch(()=>{});return t?Nr._fromGetAccountInfoResponse(this.auth,t,e):null}return Nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Bl(Yi(IS),e,i);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Yi(IS);const c=qd(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(c);if(y){let _;if(typeof y=="string"){const E=await cp(e,{idToken:y}).catch(()=>{});if(!E)break;_=await Nr._fromGetAccountInfoResponse(e,E,y)}else _=Nr._fromJSON(e,y);m!==l&&(h=_),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Bl(l,e,i):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new Bl(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C1(e))return"Blackberry";if(I1(e))return"Webos";if(w1(e))return"Safari";if((e.includes("chrome/")||S1(e))&&!e.includes("edge/"))return"Chrome";if(A1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function b1(n=wn()){return/firefox\//i.test(n)}function w1(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S1(n=wn()){return/crios\//i.test(n)}function R1(n=wn()){return/iemobile/i.test(n)}function A1(n=wn()){return/android/i.test(n)}function C1(n=wn()){return/blackberry/i.test(n)}function I1(n=wn()){return/webos/i.test(n)}function W_(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mU(n=wn()){var e;return W_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gU(){return g2()&&document.documentMode===10}function x1(n=wn()){return W_(n)||A1(n)||I1(n)||C1(n)||/windows phone/i.test(n)||R1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(n,e=[]){let t;switch(n){case"Browser":t=xS(wn());break;case"Worker":t=`${xS(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Eu}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const p=e(l);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(n,e={}){return gi(n,"GET","/v2/passwordPolicy",fs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=6;class EU{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:_U,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OS(this),this.idTokenSubscription=new OS(this),this.beforeStateQueue=new yU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yi(t)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await Bl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cp(this,{idToken:e}),i=await Nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(ui(this));const t=e?Zt(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vU(this),t=new EU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pf("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await pU(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yi(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[Yi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=O1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&XL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function wa(n){return Zt(n)}class OS{constructor(e){this.auth=e,this.observer=null,this.addObserver=S2(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bU(n){Yp=n}function D1(n){return Yp.loadJS(n)}function wU(){return Yp.recaptchaEnterpriseScript}function SU(){return Yp.gapiScript}function RU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class AU{constructor(){this.enterprise=new CU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class CU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const IU="recaptcha-enterprise",N1="NO_RECAPTCHA";class xU{constructor(e){this.type=IU,this.auth=wa(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{aU(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new sU(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{h(p)})})}function a(l,c,h){const p=window.grecaptcha;RS(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c(N1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AU().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!t&&RS(window.grecaptcha))a(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=wU();p.length!==0&&(p+=h),D1(p).then(()=>{a(h,l,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function DS(n,e,t,i=!1,a=!1){const l=new xU(n);let c;if(a)c=N1;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function hp(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await DS(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await DS(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(n,e){const t=h_(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(wo(l,e??{}))return a;Vr(a,"already-initialized")}return t.initialize({options:e})}function DU(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Yi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function NU(n,e,t){const i=wa(n);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=M1(e),{host:c,port:h}=MU(e),p=h===null?"":`:${h}`,m={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie(wo(m,i.config.emulator)&&wo(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,PU()}function M1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function MU(n){const e=M1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:NS(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:NS(c)}}}function NS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function PU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,t){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function kU(n,e){return gi(n,"POST","/v1/accounts:update",e)}async function VU(n,e){return gi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(n,e){return zf(n,"POST","/v1/accounts:signInWithPassword",fs(n,e))}async function UU(n,e){return gi(n,"POST","/v1/accounts:sendOobCode",fs(n,e))}async function jU(n,e){return UU(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BU(n,e){return zf(n,"POST","/v1/accounts:signInWithEmailLink",fs(n,e))}async function zU(n,e){return zf(n,"POST","/v1/accounts:signInWithEmailLink",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Z_{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new yf(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new yf(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,t,"signInWithPassword",LU);case"emailLink":return BU(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hp(e,i,"signUpPassword",VU);case"emailLink":return zU(e,{idToken:t,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(n,e){return zf(n,"POST","/v1/accounts:signInWithIdp",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU="http://localhost";class Co extends Z_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Co(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=K_(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Co(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return zl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,zl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zl(e,t)}buildRequest(){const e={requestUri:FU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HU(n){const e=Fc(qc(n)).link,t=e?Fc(qc(e)).deep_link_id:null,i=Fc(qc(n)).deep_link_id;return(i?Fc(qc(i)).link:null)||i||t||e||n}class J_{constructor(e){var t,i,a,l,c,h;const p=Fc(qc(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,y=(i=p.oobCode)!==null&&i!==void 0?i:null,_=qU((a=p.mode)!==null&&a!==void 0?a:null);Ie(m&&y&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=y,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=HU(e);try{return new J_(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.providerId=Ru.PROVIDER_ID}static credential(e,t){return yf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=J_.parseLink(t);return Ie(i,"argument-error"),yf._fromEmailAndCode(e,i.code,i.tenantId)}}Ru.PROVIDER_ID="password";Ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends P1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Ff{constructor(){super("facebook.com")}static credential(e){return Co._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Ff{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Co._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Gs.credential(t,i)}catch{return null}}}Gs.GOOGLE_SIGN_IN_METHOD="google.com";Gs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Ff{constructor(){super("github.com")}static credential(e){return Co._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends Ff{constructor(){super("twitter.com")}static credential(e,t){return Co._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Qs.credential(t,i)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(n,e){return zf(n,"POST","/v1/accounts:signUp",fs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await Nr._fromIdTokenResponse(e,i,a),c=MS(i);return new Io({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=MS(i);return new Io({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function MS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends cs{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,dp.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new dp(e,t,i,a)}}function k1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?dp._fromErrorAndOperation(n,l,e,i):l})}async function GU(n,e,t=!1){const i=await cu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Io._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(n,e,t=!1){const{auth:i}=n;if(Xn(i.app))return Promise.reject(ui(i));const a="reauthenticate";try{const l=await cu(n,k1(i,a,e,n),t);Ie(l.idToken,i,"internal-error");const c=X_(l.idToken);Ie(c,i,"internal-error");const{sub:h}=c;return Ie(n.uid===h,i,"user-mismatch"),Io._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Vr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(n,e,t=!1){if(Xn(n.app))return Promise.reject(ui(n));const i="signIn",a=await k1(n,i,e),l=await Io._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function QU(n,e){return V1(wa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(n){const e=wa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YU(n,e,t){const i=wa(n);await hp(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",jU)}async function XU(n,e,t){if(Xn(n.app))return Promise.reject(ui(n));const i=wa(n),c=await hp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$U).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&L1(n),p}),h=await Io._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function WU(n,e,t){return Xn(n.app)?Promise.reject(ui(n)):QU(Zt(n),Ru.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&L1(n),i})}function ZU(n,e){const t=Zt(n);return Xn(t.auth.app)?Promise.reject(ui(t.auth)):JU(t,e)}async function JU(n,e,t){const{auth:i}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(l.email=e);const c=await cu(n,kU(i,l));await n._updateTokensIfNecessary(c,!0)}function ej(n,e,t,i){return Zt(n).onIdTokenChanged(e,t,i)}function tj(n,e,t){return Zt(n).beforeAuthStateChanged(e,t)}function nj(n){return Zt(n).signOut()}async function rj(n){return Zt(n).delete()}const pp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pp,"1"),this.storage.removeItem(pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=1e3,sj=10;class j1 extends U1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);gU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,sj):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ij)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}j1.type="LOCAL";const aj=j1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends U1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}B1.type="SESSION";const z1=B1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Xp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async m=>m(t.origin,l)),p=await oj(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const m=eE("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function uj(n){ci().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function cj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fj(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function hj(){return F1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="firebaseLocalStorageDb",dj=1,mp="firebaseLocalStorage",H1="fbase_key";class qf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wp(n,e){return n.transaction([mp],e?"readwrite":"readonly").objectStore(mp)}function pj(){const n=indexedDB.deleteDatabase(q1);return new qf(n).toPromise()}function Lv(){const n=indexedDB.open(q1,dj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(mp,{keyPath:H1})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(mp)?e(i):(i.close(),await pj(),e(await Lv()))})})}async function PS(n,e,t){const i=Wp(n,!0).put({[H1]:e,value:t});return new qf(i).toPromise()}async function mj(n,e){const t=Wp(n,!1).get(e),i=await new qf(t).toPromise();return i===void 0?null:i.value}function kS(n,e){const t=Wp(n,!0).delete(e);return new qf(t).toPromise()}const gj=800,yj=3;class $1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>yj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xp._getInstance(hj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await cj(),!this.activeServiceWorker)return;this.sender=new lj(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lv();return await PS(e,pp,"1"),await kS(e,pp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>PS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>mj(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>kS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Wp(a,!1).getAll();return new qf(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$1.type="LOCAL";const vj=$1;new Bf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(n,e){return e?Yi(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE extends Z_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ej(n){return V1(n.auth,new tE(n),n.bypassAuthState)}function Tj(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),KU(t,new tE(n),n.bypassAuthState)}async function bj(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),GU(t,new tE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ej;case"linkViaPopup":case"linkViaRedirect":return bj;case"reauthViaPopup":case"reauthViaRedirect":return Tj;default:Vr(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new Bf(2e3,1e4);class Vl extends G1{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Vl.currentPopupAction&&Vl.currentPopupAction.cancel(),Vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=eE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wj.get())};e()}}Vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="pendingRedirect",Hd=new Map;class Rj extends G1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Hd.get(this.auth._key());if(!e){try{const i=await Aj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Hd.set(this.auth._key(),e)}return this.bypassAuthState||Hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Aj(n,e){const t=xj(e),i=Ij(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function Cj(n,e){Hd.set(n._key(),e)}function Ij(n){return Yi(n._redirectPersistence)}function xj(n){return qd(Sj,n.config.apiKey,n.name)}async function Oj(n,e,t=!1){if(Xn(n.app))return Promise.reject(ui(n));const i=wa(n),a=_j(i,e),c=await new Rj(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=10*60*1e3;class Nj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Mj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!K1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(li(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dj&&this.cachedEventUids.clear(),this.cachedEventUids.has(VS(e))}saveEventToCache(e){this.cachedEventUids.add(VS(e)),this.lastProcessedEventTime=Date.now()}}function VS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function K1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Mj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(n,e={}){return gi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vj=/^https?/;async function Lj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Pj(n);for(const t of e)try{if(Uj(t))return}catch{}Vr(n,"unauthorized-domain")}function Uj(n){const e=kv(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Vj.test(t))return!1;if(kj.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Bf(3e4,6e4);function LS(){const n=ci().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Bj(n){return new Promise((e,t)=>{var i,a,l;function c(){LS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LS(),t(li(n,"network-request-failed"))},timeout:jj.get()})}if(!((a=(i=ci().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ci().gapi)===null||l===void 0)&&l.load)c();else{const h=RU("iframefcb");return ci()[h]=()=>{gapi.load?c():t(li(n,"network-request-failed"))},D1(`${SU()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw $d=null,e})}let $d=null;function zj(n){return $d=$d||Bj(n),$d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Bf(5e3,15e3),qj="__/auth/iframe",Hj="emulator/auth/iframe",$j={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kj(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Y_(e,Hj):`https://${n.config.authDomain}/${qj}`,i={apiKey:e.apiKey,appName:n.name,v:Eu},a=Gj.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${kf(i).slice(1)}`}async function Qj(n){const e=await zj(n),t=ci().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:Kj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$j,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=li(n,"network-request-failed"),h=ci().setTimeout(()=>{l(c)},Fj.get());function p(){ci().clearTimeout(h),a(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xj=500,Wj=600,Zj="_blank",Jj="http://localhost";class US{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e4(n,e,t,i=Xj,a=Wj){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},Yj),{width:i.toString(),height:a.toString(),top:l,left:c}),m=wn().toLowerCase();t&&(h=S1(m)?Zj:t),b1(m)&&(e=e||Jj,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[S,C])=>`${E}${S}=${C},`,"");if(mU(m)&&h!=="_self")return t4(e||"",h),new US(null);const _=window.open(e||"",h,y);Ie(_,n,"popup-blocked");try{_.focus()}catch{}return new US(_)}function t4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="__/auth/handler",r4="emulator/auth/handler",i4=encodeURIComponent("fac");async function jS(n,e,t,i,a,l){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Eu,eventId:a};if(e instanceof P1){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",w2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Ff){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const p=await n._getAppCheckToken(),m=p?`#${i4}=${encodeURIComponent(p)}`:"";return`${s4(n)}?${kf(h).slice(1)}${m}`}function s4({config:n}){return n.emulator?Y_(n,r4):`https://${n.authDomain}/${n4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="webStorageSupport";class a4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z1,this._completeRedirectFn=Oj,this._overrideRedirectResult=Cj}async _openPopup(e,t,i,a){var l;ss((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await jS(e,t,i,kv(),a);return e4(e,c,eE())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await jS(e,t,i,kv(),a);return uj(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ss(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Qj(e),i=new Nj(e);return t.register("authEvent",a=>(Ie(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vy,{type:Vy},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Vy];c!==void 0&&t(!!c),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Lj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return x1()||w1()||W_()}}const o4=a4;var BS="@firebase/auth",zS="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c4(n){tu(new So("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ie(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O1(n)},m=new TU(i,a,l,p);return DU(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),tu(new So("auth-internal",e=>{const t=wa(e.getProvider("auth").getImmediate());return(i=>new l4(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),oa(BS,zS,u4(n)),oa(BS,zS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=5*60,h4=AA("authIdTokenMaxAge")||f4;let FS=null;const d4=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>h4)return;const a=t==null?void 0:t.token;FS!==a&&(FS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function p4(n=OA()){const e=h_(n,"auth");if(e.isInitialized())return e.getImmediate();const t=OU(n,{popupRedirectResolver:o4,persistence:[vj,aj,z1]}),i=AA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=d4(l.toString());tj(t,c,()=>c(t.currentUser)),ej(t,h=>c(h))}}const a=SA("auth");return a&&NU(t,`http://${a}`),t}function m4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}bU({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=li("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",m4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c4("Browser");const g4={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},Q1=xA(g4),ii=p4(Q1),Un=OL(Q1),y4=async()=>{try{const n=lu(Un,"products");return(await mf(n)).docs.map(t=>({id:t.id,title:t.data().title,price:t.data().price,description:t.data().description,category:t.data().category,image:t.data().image,...t.data()}))}catch(n){throw console.error("Error fetching products:",n),n}},v4=async()=>{try{const n=lu(Un,"products"),e=await mf(n);return Array.from(new Set(e.docs.map(i=>i.data().category)))}catch(n){throw console.error("Error fetching categories:",n),n}};function an(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var _4=typeof Symbol=="function"&&Symbol.observable||"@@observable",qS=_4,Ly=()=>Math.random().toString(36).substring(7).split("").join("."),E4={INIT:`@@redux/INIT${Ly()}`,REPLACE:`@@redux/REPLACE${Ly()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ly()}`},gp=E4;function nE(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Y1(n,e,t){if(typeof n!="function")throw new Error(an(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(an(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(an(1));return t(Y1)(n,e)}let i=n,a=e,l=new Map,c=l,h=0,p=!1;function m(){c===l&&(c=new Map,l.forEach((x,U)=>{c.set(U,x)}))}function y(){if(p)throw new Error(an(3));return a}function _(x){if(typeof x!="function")throw new Error(an(4));if(p)throw new Error(an(5));let U=!0;m();const G=h++;return c.set(G,x),function(){if(U){if(p)throw new Error(an(6));U=!1,m(),c.delete(G),l=null}}}function E(x){if(!nE(x))throw new Error(an(7));if(typeof x.type>"u")throw new Error(an(8));if(typeof x.type!="string")throw new Error(an(17));if(p)throw new Error(an(9));try{p=!0,a=i(a,x)}finally{p=!1}return(l=c).forEach(G=>{G()}),x}function S(x){if(typeof x!="function")throw new Error(an(10));i=x,E({type:gp.REPLACE})}function C(){const x=_;return{subscribe(U){if(typeof U!="object"||U===null)throw new Error(an(11));function G(){const H=U;H.next&&H.next(y())}return G(),{unsubscribe:x(G)}},[qS](){return this}}}return E({type:gp.INIT}),{dispatch:E,subscribe:_,getState:y,replaceReducer:S,[qS]:C}}function T4(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:gp.INIT})>"u")throw new Error(an(12));if(typeof t(void 0,{type:gp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(an(13))})}function b4(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const i=Object.keys(t);let a;try{T4(t)}catch(l){a=l}return function(c={},h){if(a)throw a;let p=!1;const m={};for(let y=0;y<i.length;y++){const _=i[y],E=t[_],S=c[_],C=E(S,h);if(typeof C>"u")throw h&&h.type,new Error(an(14));m[_]=C,p=p||C!==S}return p=p||i.length!==Object.keys(c).length,p?m:c}}function yp(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function w4(...n){return e=>(t,i)=>{const a=e(t,i);let l=()=>{throw new Error(an(15))};const c={getState:a.getState,dispatch:(p,...m)=>l(p,...m)},h=n.map(p=>p(c));return l=yp(...h)(a.dispatch),{...a,dispatch:l}}}function S4(n){return nE(n)&&"type"in n&&typeof n.type=="string"}var X1=Symbol.for("immer-nothing"),HS=Symbol.for("immer-draftable"),Zn=Symbol.for("immer-state");function Dr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var fu=Object.getPrototypeOf;function xo(n){return!!n&&!!n[Zn]}function as(n){var e;return n?W1(n)||Array.isArray(n)||!!n[HS]||!!((e=n.constructor)!=null&&e[HS])||Jp(n)||em(n):!1}var R4=Object.prototype.constructor.toString();function W1(n){if(!n||typeof n!="object")return!1;const e=fu(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===R4}function vp(n,e){Zp(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function Zp(n){const e=n[Zn];return e?e.type_:Array.isArray(n)?1:Jp(n)?2:em(n)?3:0}function Uv(n,e){return Zp(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function Z1(n,e,t){const i=Zp(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function A4(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Jp(n){return n instanceof Map}function em(n){return n instanceof Set}function oo(n){return n.copy_||n.base_}function jv(n,e){if(Jp(n))return new Map(n);if(em(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=W1(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[Zn];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const c=a[l],h=i[c];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(i[c]={configurable:!0,writable:!0,enumerable:h.enumerable,value:n[c]})}return Object.create(fu(n),i)}else{const i=fu(n);if(i!==null&&t)return{...n};const a=Object.create(i);return Object.assign(a,n)}}function rE(n,e=!1){return tm(n)||xo(n)||!as(n)||(Zp(n)>1&&(n.set=n.add=n.clear=n.delete=C4),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>rE(i,!0))),n}function C4(){Dr(2)}function tm(n){return Object.isFrozen(n)}var I4={};function Oo(n){const e=I4[n];return e||Dr(0,n),e}var vf;function J1(){return vf}function x4(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $S(n,e){e&&(Oo("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Bv(n){zv(n),n.drafts_.forEach(O4),n.drafts_=null}function zv(n){n===vf&&(vf=n.parent_)}function GS(n){return vf=x4(vf,n)}function O4(n){const e=n[Zn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function KS(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Zn].modified_&&(Bv(e),Dr(4)),as(n)&&(n=_p(e,n),e.parent_||Ep(e,n)),e.patches_&&Oo("Patches").generateReplacementPatches_(t[Zn].base_,n,e.patches_,e.inversePatches_)):n=_p(e,t,[]),Bv(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==X1?n:void 0}function _p(n,e,t){if(tm(e))return e;const i=e[Zn];if(!i)return vp(e,(a,l)=>QS(n,i,e,a,l,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return Ep(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),vp(l,(h,p)=>QS(n,i,a,h,p,t,c)),Ep(n,a,!1),t&&n.patches_&&Oo("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function QS(n,e,t,i,a,l,c){if(xo(a)){const h=l&&e&&e.type_!==3&&!Uv(e.assigned_,i)?l.concat(i):void 0,p=_p(n,a,h);if(Z1(t,i,p),xo(p))n.canAutoFreeze_=!1;else return}else c&&t.add(a);if(as(a)&&!tm(a)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;_p(n,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&Ep(n,a)}}function Ep(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&rE(e,t)}function D4(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:J1(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=iE;t&&(a=[i],l=_f);const{revoke:c,proxy:h}=Proxy.revocable(a,l);return i.draft_=h,i.revoke_=c,h}var iE={get(n,e){if(e===Zn)return n;const t=oo(n);if(!Uv(t,e))return N4(n,t,e);const i=t[e];return n.finalized_||!as(i)?i:i===Uy(n.base_,e)?(jy(n),n.copy_[e]=qv(i,n)):i},has(n,e){return e in oo(n)},ownKeys(n){return Reflect.ownKeys(oo(n))},set(n,e,t){const i=eI(oo(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const a=Uy(oo(n),e),l=a==null?void 0:a[Zn];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(A4(t,a)&&(t!==void 0||Uv(n.base_,e)))return!0;jy(n),Fv(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Uy(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,jy(n),Fv(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=oo(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Dr(11)},getPrototypeOf(n){return fu(n.base_)},setPrototypeOf(){Dr(12)}},_f={};vp(iE,(n,e)=>{_f[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});_f.deleteProperty=function(n,e){return _f.set.call(this,n,e,void 0)};_f.set=function(n,e,t){return iE.set.call(this,n[0],e,t,n[0])};function Uy(n,e){const t=n[Zn];return(t?oo(t):n)[e]}function N4(n,e,t){var a;const i=eI(e,t);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(n.draft_):void 0}function eI(n,e){if(!(e in n))return;let t=fu(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=fu(t)}}function Fv(n){n.modified_||(n.modified_=!0,n.parent_&&Fv(n.parent_))}function jy(n){n.copy_||(n.copy_=jv(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var M4=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const c=this;return function(p=l,...m){return c.produce(p,y=>t.call(this,y,...m))}}typeof t!="function"&&Dr(6),i!==void 0&&typeof i!="function"&&Dr(7);let a;if(as(e)){const l=GS(this),c=qv(e,void 0);let h=!0;try{a=t(c),h=!1}finally{h?Bv(l):zv(l)}return $S(l,i),KS(a,l)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===X1&&(a=void 0),this.autoFreeze_&&rE(a,!0),i){const l=[],c=[];Oo("Patches").generateReplacementPatches_(e,a,l,c),i(l,c)}return a}else Dr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...h)=>this.produceWithPatches(c,p=>e(p,...h));let i,a;return[this.produce(e,t,(c,h)=>{i=c,a=h}),i,a]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){as(n)||Dr(8),xo(n)&&(n=P4(n));const e=GS(this),t=qv(n,void 0);return t[Zn].isManual_=!0,zv(e),t}finishDraft(n,e){const t=n&&n[Zn];(!t||!t.isManual_)&&Dr(9);const{scope_:i}=t;return $S(i,e),KS(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}t>-1&&(e=e.slice(t+1));const i=Oo("Patches").applyPatches_;return xo(n)?i(n,e):this.produce(n,a=>i(a,e))}};function qv(n,e){const t=Jp(n)?Oo("MapSet").proxyMap_(n,e):em(n)?Oo("MapSet").proxySet_(n,e):D4(n,e);return(e?e.scope_:J1()).drafts_.push(t),t}function P4(n){return xo(n)||Dr(10,n),tI(n)}function tI(n){if(!as(n)||tm(n))return n;const e=n[Zn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=jv(n,e.scope_.immer_.useStrictShallowCopy_)}else t=jv(n,!0);return vp(t,(i,a)=>{Z1(t,i,tI(a))}),e&&(e.finalized_=!1),t}var Jn=new M4,nI=Jn.produce;Jn.produceWithPatches.bind(Jn);Jn.setAutoFreeze.bind(Jn);Jn.setUseStrictShallowCopy.bind(Jn);Jn.applyPatches.bind(Jn);Jn.createDraft.bind(Jn);Jn.finishDraft.bind(Jn);function rI(n){return({dispatch:t,getState:i})=>a=>l=>typeof l=="function"?l(t,i,n):a(l)}var k4=rI(),V4=rI,L4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yp:yp.apply(null,arguments)};function YS(n,e){function t(...i){if(e){let a=e(...i);if(!a)throw new Error(Zi(0));return{type:n,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>S4(i)&&i.type===n,t}var iI=class Qc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Qc.prototype)}static get[Symbol.species](){return Qc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Qc(...e[0].concat(this)):new Qc(...e.concat(this))}};function XS(n){return as(n)?nI(n,()=>{}):n}function Id(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function U4(n){return typeof n=="boolean"}var j4=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new iI;return t&&(U4(t)?c.push(k4):c.push(V4(t.extraArgument))),c},B4="RTK_autoBatch",WS=n=>e=>{setTimeout(e,n)},z4=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let a=!0,l=!1,c=!1;const h=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:WS(10):n.type==="callback"?n.queueNotification:WS(n.timeout),m=()=>{c=!1,l&&(l=!1,h.forEach(y=>y()))};return Object.assign({},i,{subscribe(y){const _=()=>a&&y(),E=i.subscribe(_);return h.add(y),()=>{E(),h.delete(y)}},dispatch(y){var _;try{return a=!((_=y==null?void 0:y.meta)!=null&&_[B4]),l=!a,l&&(c||(c=!0,p(m))),i.dispatch(y)}finally{a=!0}}})},F4=n=>function(t){const{autoBatch:i=!0}=t??{};let a=new iI(n);return i&&a.push(z4(typeof i=="object"?i:void 0)),a};function q4(n){const e=j4(),{reducer:t=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=n||{};let h;if(typeof t=="function")h=t;else if(nE(t))h=b4(t);else throw new Error(Zi(1));let p;typeof i=="function"?p=i(e):p=e();let m=yp;a&&(m=L4({trace:!1,...typeof a=="object"&&a}));const y=w4(...p),_=F4(y);let E=typeof c=="function"?c(_):_();const S=m(...E);return Y1(h,l,S)}function sI(n){const e={},t=[];let i;const a={addCase(l,c){const h=typeof l=="string"?l:l.type;if(!h)throw new Error(Zi(28));if(h in e)throw new Error(Zi(29));return e[h]=c,a},addMatcher(l,c){return t.push({matcher:l,reducer:c}),a},addDefaultCase(l){return i=l,a}};return n(a),[e,t,i]}function H4(n){return typeof n=="function"}function $4(n,e){let[t,i,a]=sI(e),l;if(H4(n))l=()=>XS(n());else{const h=XS(n);l=()=>h}function c(h=l(),p){let m=[t[p.type],...i.filter(({matcher:y})=>y(p)).map(({reducer:y})=>y)];return m.filter(y=>!!y).length===0&&(m=[a]),m.reduce((y,_)=>{if(_)if(xo(y)){const S=_(y,p);return S===void 0?y:S}else{if(as(y))return nI(y,E=>_(E,p));{const E=_(y,p);if(E===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return y},h)}return c.getInitialState=l,c}var G4=Symbol.for("rtk-slice-createasyncthunk");function K4(n,e){return`${n}/${e}`}function Q4({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[G4];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(Zi(11));const h=(typeof a.reducers=="function"?a.reducers(X4()):a.reducers)||{},p=Object.keys(h),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(H,K){const J=typeof H=="string"?H:H.type;if(!J)throw new Error(Zi(12));if(J in m.sliceCaseReducersByType)throw new Error(Zi(13));return m.sliceCaseReducersByType[J]=K,y},addMatcher(H,K){return m.sliceMatchers.push({matcher:H,reducer:K}),y},exposeAction(H,K){return m.actionCreators[H]=K,y},exposeCaseReducer(H,K){return m.sliceCaseReducersByName[H]=K,y}};p.forEach(H=>{const K=h[H],J={reducerName:H,type:K4(l,H),createNotation:typeof a.reducers=="function"};Z4(K)?e9(J,K,y,e):W4(J,K,y)});function _(){const[H={},K=[],J=void 0]=typeof a.extraReducers=="function"?sI(a.extraReducers):[a.extraReducers],N={...H,...m.sliceCaseReducersByType};return $4(a.initialState,I=>{for(let D in N)I.addCase(D,N[D]);for(let D of m.sliceMatchers)I.addMatcher(D.matcher,D.reducer);for(let D of K)I.addMatcher(D.matcher,D.reducer);J&&I.addDefaultCase(J)})}const E=H=>H,S=new Map,C=new WeakMap;let k;function x(H,K){return k||(k=_()),k(H,K)}function U(){return k||(k=_()),k.getInitialState()}function G(H,K=!1){function J(I){let D=I[H];return typeof D>"u"&&K&&(D=Id(C,J,U)),D}function N(I=E){const D=Id(S,K,()=>new WeakMap);return Id(D,I,()=>{const P={};for(const[V,B]of Object.entries(a.selectors??{}))P[V]=Y4(B,I,()=>Id(C,I,U),K);return P})}return{reducerPath:H,getSelectors:N,get selectors(){return N(J)},selectSlice:J}}const z={name:l,reducer:x,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:U,...G(c),injectInto(H,{reducerPath:K,...J}={}){const N=K??c;return H.inject({reducerPath:N,reducer:x},J),{...z,...G(N,!0)}}};return z}}function Y4(n,e,t,i){function a(l,...c){let h=e(l);return typeof h>"u"&&i&&(h=t()),n(h,...c)}return a.unwrapped=n,a}var nm=Q4();function X4(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function W4({type:n,reducerName:e,createNotation:t},i,a){let l,c;if("reducer"in i){if(t&&!J4(i))throw new Error(Zi(17));l=i.reducer,c=i.prepare}else l=i;a.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?YS(n,c):YS(n))}function Z4(n){return n._reducerDefinitionType==="asyncThunk"}function J4(n){return n._reducerDefinitionType==="reducerWithPrepare"}function e9({type:n,reducerName:e},t,i,a){if(!a)throw new Error(Zi(18));const{payloadCreator:l,fulfilled:c,pending:h,rejected:p,settled:m,options:y}=t,_=a(n,l,y);i.exposeAction(e,_),c&&i.addCase(_.fulfilled,c),h&&i.addCase(_.pending,h),p&&i.addCase(_.rejected,p),m&&i.addMatcher(_.settled,m),i.exposeCaseReducer(e,{fulfilled:c||xd,pending:h||xd,rejected:p||xd,settled:m||xd})}function xd(){}function Zi(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const t9={products:[]},aI=nm({name:"product",initialState:t9,reducers:{setProducts:(n,e)=>{n.products=e.payload}}}),{setProducts:n9}=aI.actions,r9=aI.reducer,sE=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Te(e,"card-body"),R.jsx(t,{ref:a,className:me(n,e),...i})));sE.displayName="CardBody";const oI=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Te(e,"card-footer"),R.jsx(t,{ref:a,className:me(n,e),...i})));oI.displayName="CardFooter";const aE=w.createContext(null);aE.displayName="CardHeaderContext";const lI=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},a)=>{const l=Te(n,"card-header"),c=w.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return R.jsx(aE.Provider,{value:c,children:R.jsx(t,{ref:a,...i,className:me(e,l)})})});lI.displayName="CardHeader";const uI=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:i="img",...a},l)=>{const c=Te(n,"card-img");return R.jsx(i,{ref:l,className:me(t?`${c}-${t}`:c,e),...a})});uI.displayName="CardImg";const cI=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Te(e,"card-img-overlay"),R.jsx(t,{ref:a,className:me(n,e),...i})));cI.displayName="CardImgOverlay";const fI=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...i},a)=>(e=Te(e,"card-link"),R.jsx(t,{ref:a,className:me(n,e),...i})));fI.displayName="CardLink";const Hf=n=>w.forwardRef((e,t)=>R.jsx("div",{...e,ref:t,className:me(e.className,n)})),i9=Hf("h6"),hI=w.forwardRef(({className:n,bsPrefix:e,as:t=i9,...i},a)=>(e=Te(e,"card-subtitle"),R.jsx(t,{ref:a,className:me(n,e),...i})));hI.displayName="CardSubtitle";const dI=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...i},a)=>(e=Te(e,"card-text"),R.jsx(t,{ref:a,className:me(n,e),...i})));dI.displayName="CardText";const s9=Hf("h5"),pI=w.forwardRef(({className:n,bsPrefix:e,as:t=s9,...i},a)=>(e=Te(e,"card-title"),R.jsx(t,{ref:a,className:me(n,e),...i})));pI.displayName="CardTitle";const mI=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:i,border:a,body:l=!1,children:c,as:h="div",...p},m)=>{const y=Te(n,"card");return R.jsx(h,{ref:m,...p,className:me(e,y,t&&`bg-${t}`,i&&`text-${i}`,a&&`border-${a}`),children:l?R.jsx(sE,{children:c}):c})});mI.displayName="Card";const so=Object.assign(mI,{Img:uI,Title:pI,Subtitle:hI,Body:sE,Link:fI,Text:dI,Header:lI,Footer:oI,ImgOverlay:cI}),a9=["as","disabled"];function o9(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function l9(n){return!n||n.trim()==="#"}function oE({tagName:n,disabled:e,href:t,target:i,rel:a,role:l,onClick:c,tabIndex:h=0,type:p}){n||(t!=null||i!=null||a!=null?n="a":n="button");const m={tagName:n};if(n==="button")return[{type:p||"button",disabled:e},m];const y=E=>{if((e||n==="a"&&l9(t))&&E.preventDefault(),e){E.stopPropagation();return}c==null||c(E)},_=E=>{E.key===" "&&(E.preventDefault(),y(E))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:h,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?a:void 0,onClick:y,onKeyDown:_},m]}const lE=w.forwardRef((n,e)=>{let{as:t,disabled:i}=n,a=o9(n,a9);const[l,{tagName:c}]=oE(Object.assign({tagName:t,disabled:i},a));return R.jsx(c,Object.assign({},a,l,{ref:e}))});lE.displayName="Button";const kt=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:a=!1,disabled:l=!1,className:c,...h},p)=>{const m=Te(e,"btn"),[y,{tagName:_}]=oE({tagName:n,disabled:l,...h}),E=_;return R.jsx(E,{...y,...h,ref:p,disabled:l,className:me(c,m,a&&"active",t&&`${m}-${t}`,i&&`${m}-${i}`,h.href&&l&&"disabled")})});kt.displayName="Button";const u9={items:JSON.parse(sessionStorage.getItem("cart")||"[]")},gI=nm({name:"cart",initialState:u9,reducers:{addToCart:(n,e)=>{const t=n.items.find(i=>i.id===e.payload.id);t?t.quantity=(t.quantity||0)+1:n.items.push({...e.payload,quantity:1}),sessionStorage.setItem("cart",JSON.stringify(n.items))},updateQuantity:(n,e)=>{const t=n.items.find(i=>i.id===e.payload.id.toString());t&&(t.quantity=e.payload.quantity),sessionStorage.setItem("cart",JSON.stringify(n.items))},removeFromCart:(n,e)=>{n.items=n.items.filter(t=>t.id!==e.payload.toString()),sessionStorage.setItem("cart",JSON.stringify(n.items))},clearCart:n=>{n.items=[],sessionStorage.removeItem("cart")}}}),{addToCart:c9,updateQuantity:f9,removeFromCart:h9,clearCart:d9}=gI.actions,p9=gI.reducer,m9=({product:n})=>{const e=us(),t=()=>{e(c9(n))},i=a=>a.length>150?"0.8rem":a.length>100?"1rem":"1.2rem";return R.jsx(so,{className:"shadow-sm",children:R.jsxs(so.Body,{children:[R.jsx(so.Title,{children:n.title}),R.jsxs(so.Text,{children:["Category: ",n.category]}),R.jsxs(so.Text,{children:["$",n.price.toFixed(2)]}),R.jsx(so.Img,{variant:"top",src:n.image,alt:n.title,style:{height:"200px",objectFit:"contain"}}),R.jsx(so.Text,{className:"font-weight-light",style:{fontSize:i(n.description)},children:n.description}),R.jsx(kt,{variant:"primary",className:"mt-2",onClick:t,children:"Add to Cart"})]})})};function Hv(){return Hv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hv.apply(null,arguments)}function yI(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function ZS(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function g9(n){var e=y9(n,"string");return typeof e=="symbol"?e:String(e)}function y9(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function v9(n,e,t){var i=w.useRef(n!==void 0),a=w.useState(e),l=a[0],c=a[1],h=n!==void 0,p=i.current;return i.current=h,!h&&p&&l!==e&&c(e),[h?n:l,w.useCallback(function(m){for(var y=arguments.length,_=new Array(y>1?y-1:0),E=1;E<y;E++)_[E-1]=arguments[E];t&&t.apply(void 0,[m].concat(_)),c(m)},[t])]}function rm(n,e){return Object.keys(e).reduce(function(t,i){var a,l=t,c=l[ZS(i)],h=l[i],p=yI(l,[ZS(i),i].map(g9)),m=e[i],y=v9(h,c,n[m]),_=y[0],E=y[1];return Hv({},p,(a={},a[i]=_,a[m]=E,a))},n)}function $v(n,e){return $v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},$v(n,e)}function _9(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,$v(n,e)}function $f(n){return n&&n.ownerDocument||document}function E9(n){var e=$f(n);return e&&e.defaultView||window}function T9(n,e){return E9(n).getComputedStyle(n,e)}var b9=/([A-Z])/g;function w9(n){return n.replace(b9,"-$1").toLowerCase()}var S9=/^ms-/;function Od(n){return w9(n).replace(S9,"-ms-")}var R9=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function A9(n){return!!(n&&R9.test(n))}function Ji(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(Od(e))||T9(n).getPropertyValue(Od(e));Object.keys(e).forEach(function(a){var l=e[a];!l&&l!==0?n.style.removeProperty(Od(a)):A9(a)?i+=a+"("+l+") ":t+=Od(a)+": "+l+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var By={exports:{}},zy,JS;function C9(){if(JS)return zy;JS=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return zy=n,zy}var Fy,eR;function I9(){if(eR)return Fy;eR=1;var n=C9();function e(){}function t(){}return t.resetWarningCache=e,Fy=function(){function i(c,h,p,m,y,_){if(_!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Fy}var tR;function x9(){return tR||(tR=1,By.exports=I9()()),By.exports}var O9=x9();const es=If(O9),nR={disabled:!1},vI=_t.createContext(null);var D9=function(e){return e.scrollTop},Yc="unmounted",Hs="exited",Or="entering",Ki="entered",Ef="exiting",hs=function(n){_9(e,n);function e(i,a){var l;l=n.call(this,i,a)||this;var c=a,h=c&&!c.isMounting?i.enter:i.appear,p;return l.appearStatus=null,i.in?h?(p=Hs,l.appearStatus=Or):p=Ki:i.unmountOnExit||i.mountOnEnter?p=Yc:p=Hs,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(a,l){var c=a.in;return c&&l.status===Yc?{status:Hs}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(a){var l=null;if(a!==this.props){var c=this.state.status;this.props.in?c!==Or&&c!==Ki&&(l=Or):(c===Or||c===Ki)&&(l=Ef)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var a=this.props.timeout,l,c,h;return l=c=h=a,a!=null&&typeof a!="number"&&(l=a.exit,c=a.enter,h=a.appear!==void 0?a.appear:c),{exit:l,enter:c,appear:h}},t.updateStatus=function(a,l){if(a===void 0&&(a=!1),l!==null)if(this.cancelNextCallback(),l===Or){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:kl.findDOMNode(this);c&&D9(c)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hs&&this.setState({status:Yc})},t.performEnter=function(a){var l=this,c=this.props.enter,h=this.context?this.context.isMounting:a,p=this.props.nodeRef?[h]:[kl.findDOMNode(this),h],m=p[0],y=p[1],_=this.getTimeouts(),E=h?_.appear:_.enter;if(!a&&!c||nR.disabled){this.safeSetState({status:Ki},function(){l.props.onEntered(m)});return}this.props.onEnter(m,y),this.safeSetState({status:Or},function(){l.props.onEntering(m,y),l.onTransitionEnd(E,function(){l.safeSetState({status:Ki},function(){l.props.onEntered(m,y)})})})},t.performExit=function(){var a=this,l=this.props.exit,c=this.getTimeouts(),h=this.props.nodeRef?void 0:kl.findDOMNode(this);if(!l||nR.disabled){this.safeSetState({status:Hs},function(){a.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Ef},function(){a.props.onExiting(h),a.onTransitionEnd(c.exit,function(){a.safeSetState({status:Hs},function(){a.props.onExited(h)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(a,l){l=this.setNextCallback(l),this.setState(a,l)},t.setNextCallback=function(a){var l=this,c=!0;return this.nextCallback=function(h){c&&(c=!1,l.nextCallback=null,a(h))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(a,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:kl.findDOMNode(this),h=a==null&&!this.props.addEndListener;if(!c||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],m=p[0],y=p[1];this.props.addEndListener(m,y)}a!=null&&setTimeout(this.nextCallback,a)},t.render=function(){var a=this.state.status;if(a===Yc)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var h=yI(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return _t.createElement(vI.Provider,{value:null},typeof c=="function"?c(a,h):_t.cloneElement(_t.Children.only(c),h))},e}(_t.Component);hs.contextType=vI;hs.propTypes={};function Il(){}hs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Il,onEntering:Il,onEntered:Il,onExit:Il,onExiting:Il,onExited:Il};hs.UNMOUNTED=Yc;hs.EXITED=Hs;hs.ENTERING=Or;hs.ENTERED=Ki;hs.EXITING=Ef;function N9(n){return n.code==="Escape"||n.keyCode===27}function M9(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Au(n){if(!n||typeof n=="function")return null;const{major:e}=M9();return e>=19?n.props.ref:n.ref}const Cu=!!(typeof window<"u"&&window.document&&window.document.createElement);var Gv=!1,Kv=!1;try{var qy={get passive(){return Gv=!0},get once(){return Kv=Gv=!0}};Cu&&(window.addEventListener("test",qy,qy),window.removeEventListener("test",qy,!0))}catch{}function uE(n,e,t,i){if(i&&typeof i!="boolean"&&!Kv){var a=i.once,l=i.capture,c=t;!Kv&&a&&(c=t.__once||function h(p){this.removeEventListener(e,h,l),t.call(this,p)},t.__once=c),n.addEventListener(e,c,Gv?i:l)}n.addEventListener(e,t,i)}function Qv(n,e,t,i){var a=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,a),t.__once&&n.removeEventListener(e,t.__once,a)}function ia(n,e,t,i){return uE(n,e,t,i),function(){Qv(n,e,t,i)}}function P9(n,e,t,i){if(i===void 0&&(i=!0),n){var a=document.createEvent("HTMLEvents");a.initEvent(e,t,i),n.dispatchEvent(a)}}function k9(n){var e=Ji(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function V9(n,e,t){t===void 0&&(t=5);var i=!1,a=setTimeout(function(){i||P9(n,"transitionend",!0)},e+t),l=ia(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(a),l()}}function _I(n,e,t,i){t==null&&(t=k9(n)||0);var a=V9(n,t,i),l=ia(n,"transitionend",e);return function(){a(),l()}}function rR(n,e){const t=Ji(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function cE(n,e){const t=rR(n,"transitionDuration"),i=rR(n,"transitionDelay"),a=_I(n,l=>{l.target===n&&(a(),e(l))},t+i)}function Uc(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...a){e.apply(this,a),t.apply(this,a)}},null)}function EI(n){n.offsetHeight}const iR=n=>!n||typeof n=="function"?n:e=>{n.current=e};function L9(n,e){const t=iR(n),i=iR(e);return a=>{t&&t(a),i&&i(a)}}function im(n,e){return w.useMemo(()=>L9(n,e),[n,e])}function U9(n){return n&&"setState"in n?kl.findDOMNode(n):n??null}const fE=_t.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,onExited:l,addEndListener:c,children:h,childRef:p,...m},y)=>{const _=w.useRef(null),E=im(_,p),S=J=>{E(U9(J))},C=J=>N=>{J&&_.current&&J(_.current,N)},k=w.useCallback(C(n),[n]),x=w.useCallback(C(e),[e]),U=w.useCallback(C(t),[t]),G=w.useCallback(C(i),[i]),z=w.useCallback(C(a),[a]),H=w.useCallback(C(l),[l]),K=w.useCallback(C(c),[c]);return R.jsx(hs,{ref:y,...m,onEnter:k,onEntered:U,onEntering:x,onExit:G,onExited:H,onExiting:z,addEndListener:K,nodeRef:_,children:typeof h=="function"?(J,N)=>h(J,{...N,ref:S}):_t.cloneElement(h,{ref:S})})}),j9={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function B9(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=e[t],a=j9[n];return i+parseInt(Ji(e,a[0]),10)+parseInt(Ji(e,a[1]),10)}const z9={[Hs]:"collapse",[Ef]:"collapsing",[Or]:"collapsing",[Ki]:"collapse show"},F9=_t.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:a,className:l,children:c,dimension:h="height",in:p=!1,timeout:m=300,mountOnEnter:y=!1,unmountOnExit:_=!1,appear:E=!1,getDimensionValue:S=B9,...C},k)=>{const x=typeof h=="function"?h():h,U=w.useMemo(()=>Uc(J=>{J.style[x]="0"},n),[x,n]),G=w.useMemo(()=>Uc(J=>{const N=`scroll${x[0].toUpperCase()}${x.slice(1)}`;J.style[x]=`${J[N]}px`},e),[x,e]),z=w.useMemo(()=>Uc(J=>{J.style[x]=null},t),[x,t]),H=w.useMemo(()=>Uc(J=>{J.style[x]=`${S(x,J)}px`,EI(J)},i),[i,S,x]),K=w.useMemo(()=>Uc(J=>{J.style[x]=null},a),[x,a]);return R.jsx(fE,{ref:k,addEndListener:cE,...C,"aria-expanded":C.role?p:null,onEnter:U,onEntering:G,onEntered:z,onExit:H,onExiting:K,childRef:Au(c),in:p,timeout:m,mountOnEnter:y,unmountOnExit:_,appear:E,children:(J,N)=>_t.cloneElement(c,{...N,className:me(l,c.props.className,z9[J],x==="width"&&"collapse-horizontal")})})});function q9(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function va(n){const e=q9(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const TI=Hf("h4");TI.displayName="DivStyledAsH4";const bI=w.forwardRef(({className:n,bsPrefix:e,as:t=TI,...i},a)=>(e=Te(e,"alert-heading"),R.jsx(t,{ref:a,className:me(n,e),...i})));bI.displayName="AlertHeading";function H9(){return w.useState(null)}function $9(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function bn(n){const e=$9(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function G9(n,e,t,i=!1){const a=bn(t);w.useEffect(()=>{const l=typeof n=="function"?n():n;return l.addEventListener(e,a,i),()=>l.removeEventListener(e,a,i)},[n])}function wI(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function SI(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const K9=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Q9=typeof document<"u",sR=Q9||K9?w.useLayoutEffect:w.useEffect,Y9=["onKeyDown"];function X9(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function W9(n){return!n||n.trim()==="#"}const sm=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=X9(n,Y9);const[a]=oE(Object.assign({tagName:"a"},i)),l=bn(c=>{a.onKeyDown(c),t==null||t(c)});return W9(i.href)||i.role==="button"?R.jsx("a",Object.assign({ref:e},i,a,{onKeyDown:l})):R.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});sm.displayName="Anchor";const RI=w.forwardRef(({className:n,bsPrefix:e,as:t=sm,...i},a)=>(e=Te(e,"alert-link"),R.jsx(t,{ref:a,className:me(n,e),...i})));RI.displayName="AlertLink";const Z9={[Or]:"show",[Ki]:"show"},hu=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...a},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},h=w.useCallback((p,m)=>{EI(p),i==null||i(p,m)},[i]);return R.jsx(fE,{ref:l,addEndListener:cE,...c,onEnter:h,childRef:Au(e),children:(p,m)=>w.cloneElement(e,{...m,className:me("fade",n,e.props.className,Z9[p],t[p])})})});hu.displayName="Fade";const J9={"aria-label":es.string,onClick:es.func,variant:es.oneOf(["white"])},am=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},a)=>R.jsx("button",{ref:a,type:"button",className:me("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));am.displayName="CloseButton";am.propTypes=J9;const AI=w.forwardRef((n,e)=>{const{bsPrefix:t,show:i=!0,closeLabel:a="Close alert",closeVariant:l,className:c,children:h,variant:p="primary",onClose:m,dismissible:y,transition:_=hu,...E}=rm(n,{show:"onClose"}),S=Te(t,"alert"),C=va(U=>{m&&m(!1,U)}),k=_===!0?hu:_,x=R.jsxs("div",{role:"alert",...k?void 0:E,ref:e,className:me(c,S,p&&`${S}-${p}`,y&&`${S}-dismissible`),children:[y&&R.jsx(am,{onClick:C,"aria-label":a,variant:l}),h]});return k?R.jsx(k,{unmountOnExit:!0,...E,ref:void 0,in:i,children:x}):i?x:null});AI.displayName="Alert";const Gf=Object.assign(AI,{Link:RI,Heading:bI});function e6(n){const e=w.useRef(n);return e.current=n,e}function t6(n){const e=e6(n);w.useEffect(()=>()=>e.current(),[])}function n6(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}var r6=Function.prototype.bind.call(Function.prototype.call,[].slice);function $i(n,e){return r6(n.querySelectorAll(e))}function i6(n,e,t){const i=w.useRef(n!==void 0),[a,l]=w.useState(e),c=n!==void 0,h=i.current;return i.current=c,!c&&h&&a!==e&&l(e),[c?n:a,w.useCallback((...p)=>{const[m,...y]=p;let _=t==null?void 0:t(m,...y);return l(m),_},[t])]}function CI(){const[,n]=w.useReducer(e=>e+1,0);return n}const om=w.createContext(null);var aR=Object.prototype.hasOwnProperty;function oR(n,e,t){for(t of n.keys())if(tf(t,e))return t}function tf(n,e){var t,i,a;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&tf(n[i],e[i]););return i===-1}if(t===Set){if(n.size!==e.size)return!1;for(i of n)if(a=i,a&&typeof a=="object"&&(a=oR(e,a),!a)||!e.has(a))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(i of n)if(a=i[0],a&&typeof a=="object"&&(a=oR(e,a),!a)||!tf(i[1],e.get(a)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((i=n.byteLength)===e.byteLength)for(;i--&&n.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(aR.call(n,t)&&++i&&!aR.call(e,t)||!(t in e)||!tf(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}function s6(n){const e=wI();return[n[0],w.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Bn="top",vr="bottom",_r="right",zn="left",hE="auto",Kf=[Bn,vr,_r,zn],du="start",Tf="end",a6="clippingParents",II="viewport",jc="popper",o6="reference",lR=Kf.reduce(function(n,e){return n.concat([e+"-"+du,e+"-"+Tf])},[]),xI=[].concat(Kf,[hE]).reduce(function(n,e){return n.concat([e,e+"-"+du,e+"-"+Tf])},[]),l6="beforeRead",u6="read",c6="afterRead",f6="beforeMain",h6="main",d6="afterMain",p6="beforeWrite",m6="write",g6="afterWrite",y6=[l6,u6,c6,f6,h6,d6,p6,m6,g6];function fi(n){return n.split("-")[0]}function er(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Do(n){var e=er(n).Element;return n instanceof e||n instanceof Element}function hi(n){var e=er(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function dE(n){if(typeof ShadowRoot>"u")return!1;var e=er(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var Eo=Math.max,Tp=Math.min,pu=Math.round;function Yv(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function OI(){return!/^((?!chrome|android).)*safari/i.test(Yv())}function mu(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),a=1,l=1;e&&hi(n)&&(a=n.offsetWidth>0&&pu(i.width)/n.offsetWidth||1,l=n.offsetHeight>0&&pu(i.height)/n.offsetHeight||1);var c=Do(n)?er(n):window,h=c.visualViewport,p=!OI()&&t,m=(i.left+(p&&h?h.offsetLeft:0))/a,y=(i.top+(p&&h?h.offsetTop:0))/l,_=i.width/a,E=i.height/l;return{width:_,height:E,top:y,right:m+_,bottom:y+E,left:m,x:m,y}}function pE(n){var e=mu(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function DI(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&dE(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function _a(n){return n?(n.nodeName||"").toLowerCase():null}function os(n){return er(n).getComputedStyle(n)}function v6(n){return["table","td","th"].indexOf(_a(n))>=0}function Sa(n){return((Do(n)?n.ownerDocument:n.document)||window.document).documentElement}function lm(n){return _a(n)==="html"?n:n.assignedSlot||n.parentNode||(dE(n)?n.host:null)||Sa(n)}function uR(n){return!hi(n)||os(n).position==="fixed"?null:n.offsetParent}function _6(n){var e=/firefox/i.test(Yv()),t=/Trident/i.test(Yv());if(t&&hi(n)){var i=os(n);if(i.position==="fixed")return null}var a=lm(n);for(dE(a)&&(a=a.host);hi(a)&&["html","body"].indexOf(_a(a))<0;){var l=os(a);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return a;a=a.parentNode}return null}function Qf(n){for(var e=er(n),t=uR(n);t&&v6(t)&&os(t).position==="static";)t=uR(t);return t&&(_a(t)==="html"||_a(t)==="body"&&os(t).position==="static")?e:t||_6(n)||e}function mE(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function nf(n,e,t){return Eo(n,Tp(e,t))}function E6(n,e,t){var i=nf(n,e,t);return i>t?t:i}function NI(){return{top:0,right:0,bottom:0,left:0}}function MI(n){return Object.assign({},NI(),n)}function PI(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var T6=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,MI(typeof e!="number"?e:PI(e,Kf))};function b6(n){var e,t=n.state,i=n.name,a=n.options,l=t.elements.arrow,c=t.modifiersData.popperOffsets,h=fi(t.placement),p=mE(h),m=[zn,_r].indexOf(h)>=0,y=m?"height":"width";if(!(!l||!c)){var _=T6(a.padding,t),E=pE(l),S=p==="y"?Bn:zn,C=p==="y"?vr:_r,k=t.rects.reference[y]+t.rects.reference[p]-c[p]-t.rects.popper[y],x=c[p]-t.rects.reference[p],U=Qf(l),G=U?p==="y"?U.clientHeight||0:U.clientWidth||0:0,z=k/2-x/2,H=_[S],K=G-E[y]-_[C],J=G/2-E[y]/2+z,N=nf(H,J,K),I=p;t.modifiersData[i]=(e={},e[I]=N,e.centerOffset=N-J,e)}}function w6(n){var e=n.state,t=n.options,i=t.element,a=i===void 0?"[data-popper-arrow]":i;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||DI(e.elements.popper,a)&&(e.elements.arrow=a))}const S6={name:"arrow",enabled:!0,phase:"main",fn:b6,effect:w6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gu(n){return n.split("-")[1]}var R6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function A6(n,e){var t=n.x,i=n.y,a=e.devicePixelRatio||1;return{x:pu(t*a)/a||0,y:pu(i*a)/a||0}}function cR(n){var e,t=n.popper,i=n.popperRect,a=n.placement,l=n.variation,c=n.offsets,h=n.position,p=n.gpuAcceleration,m=n.adaptive,y=n.roundOffsets,_=n.isFixed,E=c.x,S=E===void 0?0:E,C=c.y,k=C===void 0?0:C,x=typeof y=="function"?y({x:S,y:k}):{x:S,y:k};S=x.x,k=x.y;var U=c.hasOwnProperty("x"),G=c.hasOwnProperty("y"),z=zn,H=Bn,K=window;if(m){var J=Qf(t),N="clientHeight",I="clientWidth";if(J===er(t)&&(J=Sa(t),os(J).position!=="static"&&h==="absolute"&&(N="scrollHeight",I="scrollWidth")),J=J,a===Bn||(a===zn||a===_r)&&l===Tf){H=vr;var D=_&&J===K&&K.visualViewport?K.visualViewport.height:J[N];k-=D-i.height,k*=p?1:-1}if(a===zn||(a===Bn||a===vr)&&l===Tf){z=_r;var P=_&&J===K&&K.visualViewport?K.visualViewport.width:J[I];S-=P-i.width,S*=p?1:-1}}var V=Object.assign({position:h},m&&R6),B=y===!0?A6({x:S,y:k},er(t)):{x:S,y:k};if(S=B.x,k=B.y,p){var M;return Object.assign({},V,(M={},M[H]=G?"0":"",M[z]=U?"0":"",M.transform=(K.devicePixelRatio||1)<=1?"translate("+S+"px, "+k+"px)":"translate3d("+S+"px, "+k+"px, 0)",M))}return Object.assign({},V,(e={},e[H]=G?k+"px":"",e[z]=U?S+"px":"",e.transform="",e))}function C6(n){var e=n.state,t=n.options,i=t.gpuAcceleration,a=i===void 0?!0:i,l=t.adaptive,c=l===void 0?!0:l,h=t.roundOffsets,p=h===void 0?!0:h,m={placement:fi(e.placement),variation:gu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,cR(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:p})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,cR(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:p})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const I6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:C6,data:{}};var Dd={passive:!0};function x6(n){var e=n.state,t=n.instance,i=n.options,a=i.scroll,l=a===void 0?!0:a,c=i.resize,h=c===void 0?!0:c,p=er(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&m.forEach(function(y){y.addEventListener("scroll",t.update,Dd)}),h&&p.addEventListener("resize",t.update,Dd),function(){l&&m.forEach(function(y){y.removeEventListener("scroll",t.update,Dd)}),h&&p.removeEventListener("resize",t.update,Dd)}}const O6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:x6,data:{}};var D6={left:"right",right:"left",bottom:"top",top:"bottom"};function Gd(n){return n.replace(/left|right|bottom|top/g,function(e){return D6[e]})}var N6={start:"end",end:"start"};function fR(n){return n.replace(/start|end/g,function(e){return N6[e]})}function gE(n){var e=er(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function yE(n){return mu(Sa(n)).left+gE(n).scrollLeft}function M6(n,e){var t=er(n),i=Sa(n),a=t.visualViewport,l=i.clientWidth,c=i.clientHeight,h=0,p=0;if(a){l=a.width,c=a.height;var m=OI();(m||!m&&e==="fixed")&&(h=a.offsetLeft,p=a.offsetTop)}return{width:l,height:c,x:h+yE(n),y:p}}function P6(n){var e,t=Sa(n),i=gE(n),a=(e=n.ownerDocument)==null?void 0:e.body,l=Eo(t.scrollWidth,t.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=Eo(t.scrollHeight,t.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),h=-i.scrollLeft+yE(n),p=-i.scrollTop;return os(a||t).direction==="rtl"&&(h+=Eo(t.clientWidth,a?a.clientWidth:0)-l),{width:l,height:c,x:h,y:p}}function vE(n){var e=os(n),t=e.overflow,i=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+a+i)}function kI(n){return["html","body","#document"].indexOf(_a(n))>=0?n.ownerDocument.body:hi(n)&&vE(n)?n:kI(lm(n))}function rf(n,e){var t;e===void 0&&(e=[]);var i=kI(n),a=i===((t=n.ownerDocument)==null?void 0:t.body),l=er(i),c=a?[l].concat(l.visualViewport||[],vE(i)?i:[]):i,h=e.concat(c);return a?h:h.concat(rf(lm(c)))}function Xv(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function k6(n,e){var t=mu(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function hR(n,e,t){return e===II?Xv(M6(n,t)):Do(e)?k6(e,t):Xv(P6(Sa(n)))}function V6(n){var e=rf(lm(n)),t=["absolute","fixed"].indexOf(os(n).position)>=0,i=t&&hi(n)?Qf(n):n;return Do(i)?e.filter(function(a){return Do(a)&&DI(a,i)&&_a(a)!=="body"}):[]}function L6(n,e,t,i){var a=e==="clippingParents"?V6(n):[].concat(e),l=[].concat(a,[t]),c=l[0],h=l.reduce(function(p,m){var y=hR(n,m,i);return p.top=Eo(y.top,p.top),p.right=Tp(y.right,p.right),p.bottom=Tp(y.bottom,p.bottom),p.left=Eo(y.left,p.left),p},hR(n,c,i));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}function VI(n){var e=n.reference,t=n.element,i=n.placement,a=i?fi(i):null,l=i?gu(i):null,c=e.x+e.width/2-t.width/2,h=e.y+e.height/2-t.height/2,p;switch(a){case Bn:p={x:c,y:e.y-t.height};break;case vr:p={x:c,y:e.y+e.height};break;case _r:p={x:e.x+e.width,y:h};break;case zn:p={x:e.x-t.width,y:h};break;default:p={x:e.x,y:e.y}}var m=a?mE(a):null;if(m!=null){var y=m==="y"?"height":"width";switch(l){case du:p[m]=p[m]-(e[y]/2-t[y]/2);break;case Tf:p[m]=p[m]+(e[y]/2-t[y]/2);break}}return p}function bf(n,e){e===void 0&&(e={});var t=e,i=t.placement,a=i===void 0?n.placement:i,l=t.strategy,c=l===void 0?n.strategy:l,h=t.boundary,p=h===void 0?a6:h,m=t.rootBoundary,y=m===void 0?II:m,_=t.elementContext,E=_===void 0?jc:_,S=t.altBoundary,C=S===void 0?!1:S,k=t.padding,x=k===void 0?0:k,U=MI(typeof x!="number"?x:PI(x,Kf)),G=E===jc?o6:jc,z=n.rects.popper,H=n.elements[C?G:E],K=L6(Do(H)?H:H.contextElement||Sa(n.elements.popper),p,y,c),J=mu(n.elements.reference),N=VI({reference:J,element:z,placement:a}),I=Xv(Object.assign({},z,N)),D=E===jc?I:J,P={top:K.top-D.top+U.top,bottom:D.bottom-K.bottom+U.bottom,left:K.left-D.left+U.left,right:D.right-K.right+U.right},V=n.modifiersData.offset;if(E===jc&&V){var B=V[a];Object.keys(P).forEach(function(M){var Me=[_r,vr].indexOf(M)>=0?1:-1,Pe=[Bn,vr].indexOf(M)>=0?"y":"x";P[M]+=B[Pe]*Me})}return P}function U6(n,e){e===void 0&&(e={});var t=e,i=t.placement,a=t.boundary,l=t.rootBoundary,c=t.padding,h=t.flipVariations,p=t.allowedAutoPlacements,m=p===void 0?xI:p,y=gu(i),_=y?h?lR:lR.filter(function(C){return gu(C)===y}):Kf,E=_.filter(function(C){return m.indexOf(C)>=0});E.length===0&&(E=_);var S=E.reduce(function(C,k){return C[k]=bf(n,{placement:k,boundary:a,rootBoundary:l,padding:c})[fi(k)],C},{});return Object.keys(S).sort(function(C,k){return S[C]-S[k]})}function j6(n){if(fi(n)===hE)return[];var e=Gd(n);return[fR(n),e,fR(e)]}function B6(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var a=t.mainAxis,l=a===void 0?!0:a,c=t.altAxis,h=c===void 0?!0:c,p=t.fallbackPlacements,m=t.padding,y=t.boundary,_=t.rootBoundary,E=t.altBoundary,S=t.flipVariations,C=S===void 0?!0:S,k=t.allowedAutoPlacements,x=e.options.placement,U=fi(x),G=U===x,z=p||(G||!C?[Gd(x)]:j6(x)),H=[x].concat(z).reduce(function(de,ve){return de.concat(fi(ve)===hE?U6(e,{placement:ve,boundary:y,rootBoundary:_,padding:m,flipVariations:C,allowedAutoPlacements:k}):ve)},[]),K=e.rects.reference,J=e.rects.popper,N=new Map,I=!0,D=H[0],P=0;P<H.length;P++){var V=H[P],B=fi(V),M=gu(V)===du,Me=[Bn,vr].indexOf(B)>=0,Pe=Me?"width":"height",W=bf(e,{placement:V,boundary:y,rootBoundary:_,altBoundary:E,padding:m}),le=Me?M?_r:zn:M?vr:Bn;K[Pe]>J[Pe]&&(le=Gd(le));var he=Gd(le),Ce=[];if(l&&Ce.push(W[B]<=0),h&&Ce.push(W[le]<=0,W[he]<=0),Ce.every(function(de){return de})){D=V,I=!1;break}N.set(V,Ce)}if(I)for(var j=C?3:1,re=function(ve){var be=H.find(function(ot){var ze=N.get(ot);if(ze)return ze.slice(0,ve).every(function(xt){return xt})});if(be)return D=be,"break"},ce=j;ce>0;ce--){var oe=re(ce);if(oe==="break")break}e.placement!==D&&(e.modifiersData[i]._skip=!0,e.placement=D,e.reset=!0)}}const z6={name:"flip",enabled:!0,phase:"main",fn:B6,requiresIfExists:["offset"],data:{_skip:!1}};function dR(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function pR(n){return[Bn,_r,vr,zn].some(function(e){return n[e]>=0})}function F6(n){var e=n.state,t=n.name,i=e.rects.reference,a=e.rects.popper,l=e.modifiersData.preventOverflow,c=bf(e,{elementContext:"reference"}),h=bf(e,{altBoundary:!0}),p=dR(c,i),m=dR(h,a,l),y=pR(p),_=pR(m);e.modifiersData[t]={referenceClippingOffsets:p,popperEscapeOffsets:m,isReferenceHidden:y,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":_})}const q6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:F6};function H6(n,e,t){var i=fi(n),a=[zn,Bn].indexOf(i)>=0?-1:1,l=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,c=l[0],h=l[1];return c=c||0,h=(h||0)*a,[zn,_r].indexOf(i)>=0?{x:h,y:c}:{x:c,y:h}}function $6(n){var e=n.state,t=n.options,i=n.name,a=t.offset,l=a===void 0?[0,0]:a,c=xI.reduce(function(y,_){return y[_]=H6(_,e.rects,l),y},{}),h=c[e.placement],p=h.x,m=h.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=p,e.modifiersData.popperOffsets.y+=m),e.modifiersData[i]=c}const G6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$6};function K6(n){var e=n.state,t=n.name;e.modifiersData[t]=VI({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Q6={name:"popperOffsets",enabled:!0,phase:"read",fn:K6,data:{}};function Y6(n){return n==="x"?"y":"x"}function X6(n){var e=n.state,t=n.options,i=n.name,a=t.mainAxis,l=a===void 0?!0:a,c=t.altAxis,h=c===void 0?!1:c,p=t.boundary,m=t.rootBoundary,y=t.altBoundary,_=t.padding,E=t.tether,S=E===void 0?!0:E,C=t.tetherOffset,k=C===void 0?0:C,x=bf(e,{boundary:p,rootBoundary:m,padding:_,altBoundary:y}),U=fi(e.placement),G=gu(e.placement),z=!G,H=mE(U),K=Y6(H),J=e.modifiersData.popperOffsets,N=e.rects.reference,I=e.rects.popper,D=typeof k=="function"?k(Object.assign({},e.rects,{placement:e.placement})):k,P=typeof D=="number"?{mainAxis:D,altAxis:D}:Object.assign({mainAxis:0,altAxis:0},D),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(J){if(l){var M,Me=H==="y"?Bn:zn,Pe=H==="y"?vr:_r,W=H==="y"?"height":"width",le=J[H],he=le+x[Me],Ce=le-x[Pe],j=S?-I[W]/2:0,re=G===du?N[W]:I[W],ce=G===du?-I[W]:-N[W],oe=e.elements.arrow,de=S&&oe?pE(oe):{width:0,height:0},ve=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:NI(),be=ve[Me],ot=ve[Pe],ze=nf(0,N[W],de[W]),xt=z?N[W]/2-j-ze-be-P.mainAxis:re-ze-be-P.mainAxis,Jt=z?-N[W]/2+j+ze+ot+P.mainAxis:ce+ze+ot+P.mainAxis,$t=e.elements.arrow&&Qf(e.elements.arrow),fn=$t?H==="y"?$t.clientTop||0:$t.clientLeft||0:0,hn=(M=V==null?void 0:V[H])!=null?M:0,dn=le+xt-hn-fn,Je=le+Jt-hn,tr=nf(S?Tp(he,dn):he,le,S?Eo(Ce,Je):Ce);J[H]=tr,B[H]=tr-le}if(h){var St,Ra=H==="x"?Bn:zn,yi=H==="x"?vr:_r,pn=J[K],Dn=K==="y"?"height":"width",ds=pn+x[Ra],Er=pn-x[yi],nr=[Bn,zn].indexOf(U)!==-1,vi=(St=V==null?void 0:V[K])!=null?St:0,we=nr?ds:pn-N[Dn]-I[Dn]-vi+P.altAxis,Ue=nr?pn+N[Dn]+I[Dn]-vi-P.altAxis:Er,Vt=S&&nr?E6(we,pn,Ue):nf(S?we:ds,pn,S?Ue:Er);J[K]=Vt,B[K]=Vt-pn}e.modifiersData[i]=B}}const W6={name:"preventOverflow",enabled:!0,phase:"main",fn:X6,requiresIfExists:["offset"]};function Z6(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function J6(n){return n===er(n)||!hi(n)?gE(n):Z6(n)}function e3(n){var e=n.getBoundingClientRect(),t=pu(e.width)/n.offsetWidth||1,i=pu(e.height)/n.offsetHeight||1;return t!==1||i!==1}function t3(n,e,t){t===void 0&&(t=!1);var i=hi(e),a=hi(e)&&e3(e),l=Sa(e),c=mu(n,a,t),h={scrollLeft:0,scrollTop:0},p={x:0,y:0};return(i||!i&&!t)&&((_a(e)!=="body"||vE(l))&&(h=J6(e)),hi(e)?(p=mu(e,!0),p.x+=e.clientLeft,p.y+=e.clientTop):l&&(p.x=yE(l))),{x:c.left+h.scrollLeft-p.x,y:c.top+h.scrollTop-p.y,width:c.width,height:c.height}}function n3(n){var e=new Map,t=new Set,i=[];n.forEach(function(l){e.set(l.name,l)});function a(l){t.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(h){if(!t.has(h)){var p=e.get(h);p&&a(p)}}),i.push(l)}return n.forEach(function(l){t.has(l.name)||a(l)}),i}function r3(n){var e=n3(n);return y6.reduce(function(t,i){return t.concat(e.filter(function(a){return a.phase===i}))},[])}function i3(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function s3(n){var e=n.reduce(function(t,i){var a=t[i.name];return t[i.name]=a?Object.assign({},a,i,{options:Object.assign({},a.options,i.options),data:Object.assign({},a.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var mR={placement:"bottom",modifiers:[],strategy:"absolute"};function gR(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function a3(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,a=e.defaultOptions,l=a===void 0?mR:a;return function(h,p,m){m===void 0&&(m=l);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},mR,l),modifiersData:{},elements:{reference:h,popper:p},attributes:{},styles:{}},_=[],E=!1,S={state:y,setOptions:function(U){var G=typeof U=="function"?U(y.options):U;k(),y.options=Object.assign({},l,y.options,G),y.scrollParents={reference:Do(h)?rf(h):h.contextElement?rf(h.contextElement):[],popper:rf(p)};var z=r3(s3([].concat(i,y.options.modifiers)));return y.orderedModifiers=z.filter(function(H){return H.enabled}),C(),S.update()},forceUpdate:function(){if(!E){var U=y.elements,G=U.reference,z=U.popper;if(gR(G,z)){y.rects={reference:t3(G,Qf(z),y.options.strategy==="fixed"),popper:pE(z)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(P){return y.modifiersData[P.name]=Object.assign({},P.data)});for(var H=0;H<y.orderedModifiers.length;H++){if(y.reset===!0){y.reset=!1,H=-1;continue}var K=y.orderedModifiers[H],J=K.fn,N=K.options,I=N===void 0?{}:N,D=K.name;typeof J=="function"&&(y=J({state:y,options:I,name:D,instance:S})||y)}}}},update:i3(function(){return new Promise(function(x){S.forceUpdate(),x(y)})}),destroy:function(){k(),E=!0}};if(!gR(h,p))return S;S.setOptions(m).then(function(x){!E&&m.onFirstUpdate&&m.onFirstUpdate(x)});function C(){y.orderedModifiers.forEach(function(x){var U=x.name,G=x.options,z=G===void 0?{}:G,H=x.effect;if(typeof H=="function"){var K=H({state:y,name:U,instance:S,options:z}),J=function(){};_.push(K||J)}})}function k(){_.forEach(function(x){return x()}),_=[]}return S}}const o3=a3({defaultModifiers:[q6,Q6,I6,O6,G6,z6,W6,S6]}),l3=["enabled","placement","strategy","modifiers"];function u3(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const c3={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},f3={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const i=(e.getAttribute("aria-describedby")||"").split(",").filter(a=>a.trim()!==t.id);i.length?e.setAttribute("aria-describedby",i.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:i}=n.elements,a=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&a==="tooltip"&&"setAttribute"in i){const l=i.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(t.id)!==-1)return;i.setAttribute("aria-describedby",l?`${l},${t.id}`:t.id)}}},h3=[];function d3(n,e,t={}){let{enabled:i=!0,placement:a="bottom",strategy:l="absolute",modifiers:c=h3}=t,h=u3(t,l3);const p=w.useRef(c),m=w.useRef(),y=w.useCallback(()=>{var x;(x=m.current)==null||x.update()},[]),_=w.useCallback(()=>{var x;(x=m.current)==null||x.forceUpdate()},[]),[E,S]=s6(w.useState({placement:a,update:y,forceUpdate:_,attributes:{},styles:{popper:{},arrow:{}}})),C=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:x})=>{const U={},G={};Object.keys(x.elements).forEach(z=>{U[z]=x.styles[z],G[z]=x.attributes[z]}),S({state:x,styles:U,attributes:G,update:y,forceUpdate:_,placement:x.placement})}}),[y,_,S]),k=w.useMemo(()=>(tf(p.current,c)||(p.current=c),p.current),[c]);return w.useEffect(()=>{!m.current||!i||m.current.setOptions({placement:a,strategy:l,modifiers:[...k,C,c3]})},[l,a,C,i,k]),w.useEffect(()=>{if(!(!i||n==null||e==null))return m.current=o3(n,e,Object.assign({},h,{placement:a,strategy:l,modifiers:[...k,f3,C]})),()=>{m.current!=null&&(m.current.destroy(),m.current=void 0,S(x=>Object.assign({},x,{attributes:{},styles:{popper:{}}})))}},[i,n,e]),E}function bp(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var Hy,yR;function p3(){if(yR)return Hy;yR=1;var n=function(){};return Hy=n,Hy}var m3=p3();const g3=If(m3),vR=()=>{};function y3(n){return n.button===0}function v3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const $y=n=>n&&("current"in n?n.current:n),_R={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function _3(n,e=vR,{disabled:t,clickTrigger:i="click"}={}){const a=w.useRef(!1),l=w.useRef(!1),c=w.useCallback(m=>{const y=$y(n);g3(!!y,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),a.current=!y||v3(m)||!y3(m)||!!bp(y,m.target)||l.current,l.current=!1},[n]),h=bn(m=>{const y=$y(n);y&&bp(y,m.target)?l.current=!0:l.current=!1}),p=bn(m=>{a.current||e(m)});w.useEffect(()=>{var m,y;if(t||n==null)return;const _=$f($y(n)),E=_.defaultView||window;let S=(m=E.event)!=null?m:(y=E.parent)==null?void 0:y.event,C=null;_R[i]&&(C=ia(_,_R[i],h,!0));const k=ia(_,i,c,!0),x=ia(_,i,G=>{if(G===S){S=void 0;return}p(G)});let U=[];return"ontouchstart"in _.documentElement&&(U=[].slice.call(_.body.children).map(G=>ia(G,"mousemove",vR))),()=>{C==null||C(),k(),x(),U.forEach(G=>G())}},[n,t,i,c,h,p])}function E3(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function T3(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function b3({enabled:n,enableEvents:e,placement:t,flip:i,offset:a,fixed:l,containerPadding:c,arrowElement:h,popperConfig:p={}}){var m,y,_,E,S;const C=E3(p.modifiers);return Object.assign({},p,{placement:t,enabled:n,strategy:l?"fixed":p.strategy,modifiers:T3(Object.assign({},C,{eventListeners:{enabled:e,options:(m=C.eventListeners)==null?void 0:m.options},preventOverflow:Object.assign({},C.preventOverflow,{options:c?Object.assign({padding:c},(y=C.preventOverflow)==null?void 0:y.options):(_=C.preventOverflow)==null?void 0:_.options}),offset:{options:Object.assign({offset:a},(E=C.offset)==null?void 0:E.options)},arrow:Object.assign({},C.arrow,{enabled:!!h,options:Object.assign({},(S=C.arrow)==null?void 0:S.options,{element:h})}),flip:Object.assign({enabled:!!i},C.flip)}))})}const w3=["children","usePopper"];function S3(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const R3=()=>{};function LI(n={}){const e=w.useContext(om),[t,i]=H9(),a=w.useRef(!1),{flip:l,offset:c,rootCloseEvent:h,fixed:p=!1,placement:m,popperConfig:y={},enableEventListeners:_=!0,usePopper:E=!!e}=n,S=(e==null?void 0:e.show)==null?!!n.show:e.show;S&&!a.current&&(a.current=!0);const C=J=>{e==null||e.toggle(!1,J)},{placement:k,setMenu:x,menuElement:U,toggleElement:G}=e||{},z=d3(G,U,b3({placement:m||k||"bottom-start",enabled:E,enableEvents:_??S,offset:c,flip:l,fixed:p,arrowElement:t,popperConfig:y})),H=Object.assign({ref:x||R3,"aria-labelledby":G==null?void 0:G.id},z.attributes.popper,{style:z.styles.popper}),K={show:S,placement:k,hasShown:a.current,toggle:e==null?void 0:e.toggle,popper:E?z:null,arrowProps:E?Object.assign({ref:i},z.attributes.arrow,{style:z.styles.arrow}):{}};return _3(U,C,{clickTrigger:h,disabled:!S}),[H,K]}function UI(n){let{children:e,usePopper:t=!0}=n,i=S3(n,w3);const[a,l]=LI(Object.assign({},i,{usePopper:t}));return R.jsx(R.Fragment,{children:e(a,l)})}UI.displayName="DropdownMenu";const jI={prefix:String(Math.round(Math.random()*1e10)),current:0},BI=_t.createContext(jI),A3=_t.createContext(!1);let Gy=new WeakMap;function C3(n=!1){let e=w.useContext(BI),t=w.useRef(null);if(t.current===null&&!n){var i,a;let l=(a=_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||a===void 0||(i=a.ReactCurrentOwner)===null||i===void 0?void 0:i.current;if(l){let c=Gy.get(l);c==null?Gy.set(l,{id:e.current,state:l.memoizedState}):l.memoizedState!==c.state&&(e.current=c.id,Gy.delete(l))}t.current=++e.current}return t.current}function I3(n){let e=w.useContext(BI),t=C3(!!n),i=`react-aria${e.prefix}`;return n||`${i}-${t}`}function x3(n){let e=_t.useId(),[t]=w.useState(P3()),i=t?"react-aria":`react-aria${jI.prefix}`;return n||`${i}-${e}`}const O3=typeof _t.useId=="function"?x3:I3;function D3(){return!1}function N3(){return!0}function M3(n){return()=>{}}function P3(){return typeof _t.useSyncExternalStore=="function"?_t.useSyncExternalStore(M3,D3,N3):w.useContext(A3)}const zI=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},ER=()=>{};function FI(){const n=O3(),{show:e=!1,toggle:t=ER,setToggle:i,menuElement:a}=w.useContext(om)||{},l=w.useCallback(h=>{t(!e,h)},[e,t]),c={id:n,ref:i||ER,onClick:l,"aria-expanded":!!e};return a&&zI(a)&&(c["aria-haspopup"]=!0),[c,{show:e,toggle:t}]}function qI({children:n}){const[e,t]=FI();return R.jsx(R.Fragment,{children:n(e,t)})}qI.displayName="DropdownToggle";const No=w.createContext(null),wf=(n,e=null)=>n!=null?String(n):e||null,um=w.createContext(null);um.displayName="NavContext";const k3="data-rr-ui-",V3="rrUi";function Iu(n){return`${k3}${n}`}function L3(n){return`${V3}${n}`}const U3=["eventKey","disabled","onClick","active","as"];function j3(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function HI({key:n,href:e,active:t,disabled:i,onClick:a}){const l=w.useContext(No),c=w.useContext(um),{activeKey:h}=c||{},p=wf(n,e),m=t==null&&n!=null?wf(h)===p:t;return[{onClick:bn(_=>{i||(a==null||a(_),l&&!_.isPropagationStopped()&&l(p,_))}),"aria-disabled":i||void 0,"aria-selected":m,[Iu("dropdown-item")]:""},{isActive:m}]}const $I=w.forwardRef((n,e)=>{let{eventKey:t,disabled:i,onClick:a,active:l,as:c=lE}=n,h=j3(n,U3);const[p]=HI({key:t,href:h.href,disabled:i,onClick:a,active:l});return R.jsx(c,Object.assign({},h,{ref:e},p))});$I.displayName="DropdownItem";const GI=w.createContext(Cu?window:void 0);GI.Provider;function cm(){return w.useContext(GI)}function TR(){const n=CI(),e=w.useRef(null),t=w.useCallback(i=>{e.current=i,n()},[n]);return[e,t]}function Yf({defaultShow:n,show:e,onSelect:t,onToggle:i,itemSelector:a=`* [${Iu("dropdown-item")}]`,focusFirstItemOnShow:l,placement:c="bottom-start",children:h}){const p=cm(),[m,y]=i6(e,n,i),[_,E]=TR(),S=_.current,[C,k]=TR(),x=C.current,U=SI(m),G=w.useRef(null),z=w.useRef(!1),H=w.useContext(No),K=w.useCallback((V,B,M=B==null?void 0:B.type)=>{y(V,{originalEvent:B,source:M})},[y]),J=bn((V,B)=>{t==null||t(V,B),K(!1,B,"select"),B.isPropagationStopped()||H==null||H(V,B)}),N=w.useMemo(()=>({toggle:K,placement:c,show:m,menuElement:S,toggleElement:x,setMenu:E,setToggle:k}),[K,c,m,S,x,E,k]);S&&U&&!m&&(z.current=S.contains(S.ownerDocument.activeElement));const I=bn(()=>{x&&x.focus&&x.focus()}),D=bn(()=>{const V=G.current;let B=l;if(B==null&&(B=_.current&&zI(_.current)?"keyboard":!1),B===!1||B==="keyboard"&&!/^key.+$/.test(V))return;const M=$i(_.current,a)[0];M&&M.focus&&M.focus()});w.useEffect(()=>{m?D():z.current&&(z.current=!1,I())},[m,z,I,D]),w.useEffect(()=>{G.current=null});const P=(V,B)=>{if(!_.current)return null;const M=$i(_.current,a);let Me=M.indexOf(V)+B;return Me=Math.max(0,Math.min(Me,M.length)),M[Me]};return G9(w.useCallback(()=>p.document,[p]),"keydown",V=>{var B,M;const{key:Me}=V,Pe=V.target,W=(B=_.current)==null?void 0:B.contains(Pe),le=(M=C.current)==null?void 0:M.contains(Pe);if(/input|textarea/i.test(Pe.tagName)&&(Me===" "||Me!=="Escape"&&W||Me==="Escape"&&Pe.type==="search")||!W&&!le||Me==="Tab"&&(!_.current||!m))return;G.current=V.type;const Ce={originalEvent:V,source:V.type};switch(Me){case"ArrowUp":{const j=P(Pe,-1);j&&j.focus&&j.focus(),V.preventDefault();return}case"ArrowDown":if(V.preventDefault(),!m)y(!0,Ce);else{const j=P(Pe,1);j&&j.focus&&j.focus()}return;case"Tab":uE(Pe.ownerDocument,"keyup",j=>{var re;(j.key==="Tab"&&!j.target||!((re=_.current)!=null&&re.contains(j.target)))&&y(!1,Ce)},{once:!0});break;case"Escape":Me==="Escape"&&(V.preventDefault(),V.stopPropagation()),y(!1,Ce);break}}),R.jsx(No.Provider,{value:J,children:R.jsx(om.Provider,{value:N,children:h})})}Yf.displayName="Dropdown";Yf.Menu=UI;Yf.Toggle=qI;Yf.Item=$I;const _E=w.createContext({});_E.displayName="DropdownContext";const KI=w.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:i="separator",...a},l)=>(e=Te(e,"dropdown-divider"),R.jsx(t,{ref:l,className:me(n,e),role:i,...a})));KI.displayName="DropdownDivider";const QI=w.forwardRef(({className:n,bsPrefix:e,as:t="div",role:i="heading",...a},l)=>(e=Te(e,"dropdown-header"),R.jsx(t,{ref:l,className:me(n,e),role:i,...a})));QI.displayName="DropdownHeader";const YI=w.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:i=!1,onClick:a,active:l,as:c=sm,...h},p)=>{const m=Te(n,"dropdown-item"),[y,_]=HI({key:t,href:h.href,disabled:i,onClick:a,active:l});return R.jsx(c,{...h,...y,ref:p,className:me(e,m,_.isActive&&"active",i&&"disabled")})});YI.displayName="DropdownItem";const XI=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},a)=>(e=Te(e,"dropdown-item-text"),R.jsx(t,{ref:a,className:me(n,e),...i})));XI.displayName="DropdownItemText";const B3=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",z3=typeof document<"u",WI=z3||B3?w.useLayoutEffect:w.useEffect,EE=w.createContext(null);EE.displayName="InputGroupContext";const Lo=w.createContext(null);Lo.displayName="NavbarContext";function ZI(n,e){return n}function JI(n,e,t){const i=t?"top-end":"top-start",a=t?"top-start":"top-end",l=t?"bottom-end":"bottom-start",c=t?"bottom-start":"bottom-end",h=t?"right-start":"left-start",p=t?"right-end":"left-end",m=t?"left-start":"right-start",y=t?"left-end":"right-end";let _=n?c:l;return e==="up"?_=n?a:i:e==="end"?_=n?y:m:e==="start"?_=n?p:h:e==="down-centered"?_="bottom":e==="up-centered"&&(_="top"),_}const ex=w.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:i,flip:a=!0,show:l,renderOnMount:c,as:h="div",popperConfig:p,variant:m,...y},_)=>{let E=!1;const S=w.useContext(Lo),C=Te(n,"dropdown-menu"),{align:k,drop:x,isRTL:U}=w.useContext(_E);t=t||k;const G=w.useContext(EE),z=[];if(t)if(typeof t=="object"){const V=Object.keys(t);if(V.length){const B=V[0],M=t[B];E=M==="start",z.push(`${C}-${B}-${M}`)}}else t==="end"&&(E=!0);const H=JI(E,x,U),[K,{hasShown:J,popper:N,show:I,toggle:D}]=LI({flip:a,rootCloseEvent:i,show:l,usePopper:!S&&z.length===0,offset:[0,2],popperConfig:p,placement:H});if(K.ref=im(ZI(_),K.ref),WI(()=>{I&&(N==null||N.update())},[I]),!J&&!c&&!G)return null;typeof h!="string"&&(K.show=I,K.close=()=>D==null?void 0:D(!1),K.align=t);let P=y.style;return N!=null&&N.placement&&(P={...y.style,...K.style},y["x-placement"]=N.placement),R.jsx(h,{...y,...K,style:P,...(z.length||S)&&{"data-bs-popper":"static"},className:me(e,C,I&&"show",E&&`${C}-end`,m&&`${C}-${m}`,...z)})});ex.displayName="DropdownMenu";const tx=w.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:i,as:a=kt,...l},c)=>{const h=Te(n,"dropdown-toggle"),p=w.useContext(om);i!==void 0&&(l.bsPrefix=i);const[m]=FI();return m.ref=im(m.ref,ZI(c)),R.jsx(a,{className:me(t,h,e&&`${h}-split`,(p==null?void 0:p.show)&&"show"),...m,...l})});tx.displayName="DropdownToggle";const nx=w.forwardRef((n,e)=>{const{bsPrefix:t,drop:i="down",show:a,className:l,align:c="start",onSelect:h,onToggle:p,focusFirstItemOnShow:m,as:y="div",navbar:_,autoClose:E=!0,...S}=rm(n,{show:"onToggle"}),C=w.useContext(EE),k=Te(t,"dropdown"),x=aA(),U=N=>E===!1?N==="click":E==="inside"?N!=="rootClose":E==="outside"?N!=="select":!0,G=va((N,I)=>{var D;!((D=I.originalEvent)==null||(D=D.target)==null)&&D.classList.contains("dropdown-toggle")&&I.source==="mousedown"||(I.originalEvent.currentTarget===document&&(I.source!=="keydown"||I.originalEvent.key==="Escape")&&(I.source="rootClose"),U(I.source)&&(p==null||p(N,I)))}),H=JI(c==="end",i,x),K=w.useMemo(()=>({align:c,drop:i,isRTL:x}),[c,i,x]),J={down:k,"down-centered":`${k}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return R.jsx(_E.Provider,{value:K,children:R.jsx(Yf,{placement:H,show:a,onSelect:h,onToggle:G,focusFirstItemOnShow:m,itemSelector:`.${k}-item:not(.disabled):not(:disabled)`,children:C?S.children:R.jsx(y,{...S,ref:e,className:me(l,a&&"show",J[i])})})})});nx.displayName="Dropdown";const co=Object.assign(nx,{Toggle:tx,Menu:ex,Item:YI,ItemText:XI,Divider:KI,Header:QI}),F3={type:es.string,tooltip:es.bool,as:es.elementType},fm=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:i=!1,...a},l)=>R.jsx(n,{...a,ref:l,className:me(e,`${t}-${i?"tooltip":"feedback"}`)}));fm.displayName="Feedback";fm.propTypes=F3;const ls=w.createContext({}),TE=w.forwardRef(({id:n,bsPrefix:e,className:t,type:i="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...h},p)=>{const{controlId:m}=w.useContext(ls);return e=Te(e,"form-check-input"),R.jsx(c,{...h,ref:p,type:i,id:n||m,className:me(t,e,a&&"is-valid",l&&"is-invalid")})});TE.displayName="FormCheckInput";const wp=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...i},a)=>{const{controlId:l}=w.useContext(ls);return n=Te(n,"form-check-label"),R.jsx("label",{...i,ref:a,htmlFor:t||l,className:me(e,n)})});wp.displayName="FormCheckLabel";const rx=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:i=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:h=!1,feedbackTooltip:p=!1,feedback:m,feedbackType:y,className:_,style:E,title:S="",type:C="checkbox",label:k,children:x,as:U="input",...G},z)=>{e=Te(e,"form-check"),t=Te(t,"form-switch");const{controlId:H}=w.useContext(ls),K=w.useMemo(()=>({controlId:n||H}),[H,n]),J=!x&&k!=null&&k!==!1||n6(x,wp),N=R.jsx(TE,{...G,type:C==="switch"?"checkbox":C,ref:z,isValid:c,isInvalid:h,disabled:l,as:U});return R.jsx(ls.Provider,{value:K,children:R.jsx("div",{style:E,className:me(_,J&&e,i&&`${e}-inline`,a&&`${e}-reverse`,C==="switch"&&t),children:x||R.jsxs(R.Fragment,{children:[N,J&&R.jsx(wp,{title:S,children:k}),m&&R.jsx(fm,{type:y,tooltip:p,children:m})]})})})});rx.displayName="FormCheck";const Sp=Object.assign(rx,{Input:TE,Label:wp}),ix=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:i,id:a,className:l,isValid:c=!1,isInvalid:h=!1,plaintext:p,readOnly:m,as:y="input",..._},E)=>{const{controlId:S}=w.useContext(ls);return n=Te(n,"form-control"),R.jsx(y,{..._,type:e,size:i,ref:E,readOnly:m,id:a||S,className:me(l,p?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",h&&"is-invalid")})});ix.displayName="FormControl";const q3=Object.assign(ix,{Feedback:fm}),sx=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Te(e,"form-floating"),R.jsx(t,{ref:a,className:me(n,e),...i})));sx.displayName="FormFloating";const bE=w.forwardRef(({controlId:n,as:e="div",...t},i)=>{const a=w.useMemo(()=>({controlId:n}),[n]);return R.jsx(ls.Provider,{value:a,children:R.jsx(e,{...t,ref:i})})});bE.displayName="FormGroup";const ax=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:i=!1,className:a,htmlFor:l,...c},h)=>{const{controlId:p}=w.useContext(ls);e=Te(e,"form-label");let m="col-form-label";typeof t=="string"&&(m=`${m} ${m}-${t}`);const y=me(a,e,i&&"visually-hidden",t&&m);return l=l||p,t?R.jsx(ca,{ref:h,as:"label",className:y,htmlFor:l,...c}):R.jsx(n,{ref:h,className:y,htmlFor:l,...c})});ax.displayName="FormLabel";const ox=w.forwardRef(({bsPrefix:n,className:e,id:t,...i},a)=>{const{controlId:l}=w.useContext(ls);return n=Te(n,"form-range"),R.jsx("input",{...i,type:"range",ref:a,className:me(e,n),id:t||l})});ox.displayName="FormRange";const lx=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:i,isValid:a=!1,isInvalid:l=!1,id:c,...h},p)=>{const{controlId:m}=w.useContext(ls);return n=Te(n,"form-select"),R.jsx("select",{...h,size:t,ref:p,className:me(i,n,e&&`${n}-${e}`,a&&"is-valid",l&&"is-invalid"),id:c||m})});lx.displayName="FormSelect";const ux=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:i,...a},l)=>(n=Te(n,"form-text"),R.jsx(t,{...a,ref:l,className:me(e,n,i&&"text-muted")})));ux.displayName="FormText";const cx=w.forwardRef((n,e)=>R.jsx(Sp,{...n,ref:e,type:"switch"}));cx.displayName="Switch";const H3=Object.assign(cx,{Input:Sp.Input,Label:Sp.Label}),fx=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:i,label:a,...l},c)=>(n=Te(n,"form-floating"),R.jsxs(bE,{ref:c,className:me(e,n),controlId:i,...l,children:[t,R.jsx("label",{htmlFor:i,children:a})]})));fx.displayName="FloatingLabel";const $3={_ref:es.any,validated:es.bool,as:es.elementType},wE=w.forwardRef(({className:n,validated:e,as:t="form",...i},a)=>R.jsx(t,{...i,ref:a,className:me(n,e&&"was-validated")}));wE.displayName="Form";wE.propTypes=$3;const Le=Object.assign(wE,{Group:bE,Control:q3,Floating:sx,Check:Sp,Switch:H3,Label:ax,Text:ux,Range:ox,Select:lx,FloatingLabel:fx}),bR=n=>!n||typeof n=="function"?n:e=>{n.current=e};function G3(n,e){const t=bR(n),i=bR(e);return a=>{t&&t(a),i&&i(a)}}function hm(n,e){return w.useMemo(()=>G3(n,e),[n,e])}const hx=w.createContext(null),K3=["as","active","eventKey"];function Q3(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function dx({key:n,onClick:e,active:t,id:i,role:a,disabled:l}){const c=w.useContext(No),h=w.useContext(um),p=w.useContext(hx);let m=t;const y={role:a};if(h){!a&&h.role==="tablist"&&(y.role="tab");const _=h.getControllerId(n??null),E=h.getControlledId(n??null);y[Iu("event-key")]=n,y.id=_||i,m=t==null&&n!=null?h.activeKey===n:t,(m||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(y["aria-controls"]=E)}return y.role==="tab"&&(y["aria-selected"]=m,m||(y.tabIndex=-1),l&&(y.tabIndex=-1,y["aria-disabled"]=!0)),y.onClick=bn(_=>{l||(e==null||e(_),n!=null&&c&&!_.isPropagationStopped()&&c(n,_))}),[y,{isActive:m}]}const px=w.forwardRef((n,e)=>{let{as:t=lE,active:i,eventKey:a}=n,l=Q3(n,K3);const[c,h]=dx(Object.assign({key:wf(a,l.href),active:i},l));return c[Iu("active")]=h.isActive,R.jsx(t,Object.assign({},l,c,{ref:e}))});px.displayName="NavItem";const Y3=["as","onSelect","activeKey","role","onKeyDown"];function X3(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const wR=()=>{},SR=Iu("event-key"),mx=w.forwardRef((n,e)=>{let{as:t="div",onSelect:i,activeKey:a,role:l,onKeyDown:c}=n,h=X3(n,Y3);const p=CI(),m=w.useRef(!1),y=w.useContext(No),_=w.useContext(hx);let E,S;_&&(l=l||"tablist",a=_.activeKey,E=_.getControlledId,S=_.getControllerId);const C=w.useRef(null),k=z=>{const H=C.current;if(!H)return null;const K=$i(H,`[${SR}]:not([aria-disabled=true])`),J=H.querySelector("[aria-selected=true]");if(!J||J!==document.activeElement)return null;const N=K.indexOf(J);if(N===-1)return null;let I=N+z;return I>=K.length&&(I=0),I<0&&(I=K.length-1),K[I]},x=(z,H)=>{z!=null&&(i==null||i(z,H),y==null||y(z,H))},U=z=>{if(c==null||c(z),!_)return;let H;switch(z.key){case"ArrowLeft":case"ArrowUp":H=k(-1);break;case"ArrowRight":case"ArrowDown":H=k(1);break;default:return}H&&(z.preventDefault(),x(H.dataset[L3("EventKey")]||null,z),m.current=!0,p())};w.useEffect(()=>{if(C.current&&m.current){const z=C.current.querySelector(`[${SR}][aria-selected=true]`);z==null||z.focus()}m.current=!1});const G=hm(e,C);return R.jsx(No.Provider,{value:x,children:R.jsx(um.Provider,{value:{role:l,activeKey:wf(a),getControlledId:E||wR,getControllerId:S||wR},children:R.jsx(t,Object.assign({},h,{onKeyDown:U,ref:G,role:l}))})})});mx.displayName="Nav";const W3=Object.assign(mx,{Item:px});var Nd;function RR(n){if((!Nd&&Nd!==0||n)&&Cu){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Nd=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Nd}function Z3(){return w.useState(null)}function Ky(n){n===void 0&&(n=$f());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function J3(n){const e=w.useRef(n);return e.current=n,e}function eB(n){const e=J3(n);w.useEffect(()=>()=>e.current(),[])}function tB(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const AR=Iu("modal-open");class SE{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return tB(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[i]:a.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(Ji(a,i)||"0",10)+e.scrollBarWidth}px`),a.setAttribute(AR,""),Ji(a,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(AR),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Qy=(n,e)=>Cu?n==null?(e||$f()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function nB(n,e){const t=cm(),[i,a]=w.useState(()=>Qy(n,t==null?void 0:t.document));if(!i){const l=Qy(n);l&&a(l)}return w.useEffect(()=>{},[e,i]),w.useEffect(()=>{const l=Qy(n);l!==i&&a(l)},[n,i]),i}function rB({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:a}){const l=w.useRef(null),c=w.useRef(e),h=bn(t);w.useEffect(()=>{e?c.current=!0:h(l.current)},[e,h]);const p=hm(l,Au(n)),m=w.cloneElement(n,{ref:p});return e?m:a||!c.current&&i?null:m}const iB=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function sB(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function aB(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:a,onExiting:l,onExited:c,addEndListener:h,children:p}=n,m=sB(n,iB);const y=w.useRef(null),_=hm(y,Au(p)),E=H=>K=>{H&&y.current&&H(y.current,K)},S=w.useCallback(E(e),[e]),C=w.useCallback(E(t),[t]),k=w.useCallback(E(i),[i]),x=w.useCallback(E(a),[a]),U=w.useCallback(E(l),[l]),G=w.useCallback(E(c),[c]),z=w.useCallback(E(h),[h]);return Object.assign({},m,{nodeRef:y},e&&{onEnter:S},t&&{onEntering:C},i&&{onEntered:k},a&&{onExit:x},l&&{onExiting:U},c&&{onExited:G},h&&{addEndListener:z},{children:typeof p=="function"?(H,K)=>p(H,Object.assign({},K,{ref:_})):w.cloneElement(p,{ref:_})})}const oB=["component"];function lB(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const uB=w.forwardRef((n,e)=>{let{component:t}=n,i=lB(n,oB);const a=aB(i);return R.jsx(t,Object.assign({ref:e},a))});function cB({in:n,onTransition:e}){const t=w.useRef(null),i=w.useRef(!0),a=bn(e);return sR(()=>{if(!t.current)return;let l=!1;return a({in:n,element:t.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[n,a]),sR(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function fB({children:n,in:e,onExited:t,onEntered:i,transition:a}){const[l,c]=w.useState(!e);e&&l&&c(!1);const h=cB({in:!!e,onTransition:m=>{const y=()=>{m.isStale()||(m.in?i==null||i(m.element,m.initial):(c(!0),t==null||t(m.element)))};Promise.resolve(a(m)).then(y,_=>{throw m.in||c(!0),_})}}),p=hm(h,Au(n));return l&&!e?null:w.cloneElement(n,{ref:p})}function CR(n,e,t){return n?R.jsx(uB,Object.assign({},t,{component:n})):e?R.jsx(fB,Object.assign({},t,{transition:e})):R.jsx(rB,Object.assign({},t))}const hB=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function dB(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let Yy;function pB(n){return Yy||(Yy=new SE({ownerDocument:n==null?void 0:n.document})),Yy}function mB(n){const e=cm(),t=n||pB(e),i=w.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:w.useCallback(a=>{i.current.dialog=a},[]),setBackdropRef:w.useCallback(a=>{i.current.backdrop=a},[])})}const gx=w.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:a,style:l,children:c,backdrop:h=!0,keyboard:p=!0,onBackdropClick:m,onEscapeKeyDown:y,transition:_,runTransition:E,backdropTransition:S,runBackdropTransition:C,autoFocus:k=!0,enforceFocus:x=!0,restoreFocus:U=!0,restoreFocusOptions:G,renderDialog:z,renderBackdrop:H=Je=>R.jsx("div",Object.assign({},Je)),manager:K,container:J,onShow:N,onHide:I=()=>{},onExit:D,onExited:P,onExiting:V,onEnter:B,onEntering:M,onEntered:Me}=n,Pe=dB(n,hB);const W=cm(),le=nB(J),he=mB(K),Ce=wI(),j=SI(t),[re,ce]=w.useState(!t),oe=w.useRef(null);w.useImperativeHandle(e,()=>he,[he]),Cu&&!j&&t&&(oe.current=Ky(W==null?void 0:W.document)),t&&re&&ce(!1);const de=bn(()=>{if(he.add(),Jt.current=ia(document,"keydown",ze),xt.current=ia(document,"focus",()=>setTimeout(be),!0),N&&N(),k){var Je,tr;const St=Ky((Je=(tr=he.dialog)==null?void 0:tr.ownerDocument)!=null?Je:W==null?void 0:W.document);he.dialog&&St&&!bp(he.dialog,St)&&(oe.current=St,he.dialog.focus())}}),ve=bn(()=>{if(he.remove(),Jt.current==null||Jt.current(),xt.current==null||xt.current(),U){var Je;(Je=oe.current)==null||Je.focus==null||Je.focus(G),oe.current=null}});w.useEffect(()=>{!t||!le||de()},[t,le,de]),w.useEffect(()=>{re&&ve()},[re,ve]),eB(()=>{ve()});const be=bn(()=>{if(!x||!Ce()||!he.isTopModal())return;const Je=Ky(W==null?void 0:W.document);he.dialog&&Je&&!bp(he.dialog,Je)&&he.dialog.focus()}),ot=bn(Je=>{Je.target===Je.currentTarget&&(m==null||m(Je),h===!0&&I())}),ze=bn(Je=>{p&&N9(Je)&&he.isTopModal()&&(y==null||y(Je),Je.defaultPrevented||I())}),xt=w.useRef(),Jt=w.useRef(),$t=(...Je)=>{ce(!0),P==null||P(...Je)};if(!le)return null;const fn=Object.assign({role:i,ref:he.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},Pe,{style:l,className:a,tabIndex:-1});let hn=z?z(fn):R.jsx("div",Object.assign({},fn,{children:w.cloneElement(c,{role:"document"})}));hn=CR(_,E,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:D,onExiting:V,onExited:$t,onEnter:B,onEntering:M,onEntered:Me,children:hn});let dn=null;return h&&(dn=H({ref:he.setBackdropRef,onClick:ot}),dn=CR(S,C,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:dn})),R.jsx(R.Fragment,{children:kl.createPortal(R.jsxs(R.Fragment,{children:[dn,hn]}),le)})});gx.displayName="Modal";const yx=Object.assign(gx,{Manager:SE});function gB(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function yB(n,e){n.classList?n.classList.add(e):gB(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function IR(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function vB(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=IR(n.className,e):n.setAttribute("class",IR(n.className&&n.className.baseVal||"",e))}const xl={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class vx extends SE{adjustAndStore(e,t,i){const a=t.style[e];t.dataset[e]=a,Ji(t,{[e]:`${parseFloat(Ji(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],Ji(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(yB(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";$i(t,xl.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,e.scrollBarWidth)),$i(t,xl.STICKY_CONTENT).forEach(l=>this.adjustAndStore(a,l,-e.scrollBarWidth)),$i(t,xl.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(a,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();vB(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";$i(t,xl.FIXED_CONTENT).forEach(l=>this.restore(i,l)),$i(t,xl.STICKY_CONTENT).forEach(l=>this.restore(a,l)),$i(t,xl.NAVBAR_TOGGLER).forEach(l=>this.restore(a,l))}}let Xy;function _x(n){return Xy||(Xy=new vx(n)),Xy}const Ex=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Te(e,"modal-body"),R.jsx(t,{ref:a,className:me(n,e),...i})));Ex.displayName="ModalBody";const RE=w.createContext({onHide(){}}),AE=w.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:i,size:a,fullscreen:l,children:c,scrollable:h,...p},m)=>{n=Te(n,"modal");const y=`${n}-dialog`,_=typeof l=="string"?`${n}-fullscreen-${l}`:`${n}-fullscreen`;return R.jsx("div",{...p,ref:m,className:me(y,e,a&&`${n}-${a}`,i&&`${y}-centered`,h&&`${y}-scrollable`,l&&_),children:R.jsx("div",{className:me(`${n}-content`,t),children:c})})});AE.displayName="ModalDialog";const Tx=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Te(e,"modal-footer"),R.jsx(t,{ref:a,className:me(n,e),...i})));Tx.displayName="ModalFooter";const bx=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:a,...l},c)=>{const h=w.useContext(RE),p=va(()=>{h==null||h.onHide(),i==null||i()});return R.jsxs("div",{ref:c,...l,children:[a,t&&R.jsx(am,{"aria-label":n,variant:e,onClick:p})]})}),wx=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...a},l)=>(n=Te(n,"modal-header"),R.jsx(bx,{ref:l,...a,className:me(e,n),closeLabel:t,closeButton:i})));wx.displayName="ModalHeader";const _B=Hf("h4"),Sx=w.forwardRef(({className:n,bsPrefix:e,as:t=_B,...i},a)=>(e=Te(e,"modal-title"),R.jsx(t,{ref:a,className:me(n,e),...i})));Sx.displayName="ModalTitle";function EB(n){return R.jsx(hu,{...n,timeout:null})}function TB(n){return R.jsx(hu,{...n,timeout:null})}const Rx=w.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:i,contentClassName:a,children:l,dialogAs:c=AE,"data-bs-theme":h,"aria-labelledby":p,"aria-describedby":m,"aria-label":y,show:_=!1,animation:E=!0,backdrop:S=!0,keyboard:C=!0,onEscapeKeyDown:k,onShow:x,onHide:U,container:G,autoFocus:z=!0,enforceFocus:H=!0,restoreFocus:K=!0,restoreFocusOptions:J,onEntered:N,onExit:I,onExiting:D,onEnter:P,onEntering:V,onExited:B,backdropClassName:M,manager:Me,...Pe},W)=>{const[le,he]=w.useState({}),[Ce,j]=w.useState(!1),re=w.useRef(!1),ce=w.useRef(!1),oe=w.useRef(null),[de,ve]=Z3(),be=im(W,ve),ot=va(U),ze=aA();n=Te(n,"modal");const xt=w.useMemo(()=>({onHide:ot}),[ot]);function Jt(){return Me||_x({isRTL:ze})}function $t(we){if(!Cu)return;const Ue=Jt().getScrollbarWidth()>0,Vt=we.scrollHeight>$f(we).documentElement.clientHeight;he({paddingRight:Ue&&!Vt?RR():void 0,paddingLeft:!Ue&&Vt?RR():void 0})}const fn=va(()=>{de&&$t(de.dialog)});t6(()=>{Qv(window,"resize",fn),oe.current==null||oe.current()});const hn=()=>{re.current=!0},dn=we=>{re.current&&de&&we.target===de.dialog&&(ce.current=!0),re.current=!1},Je=()=>{j(!0),oe.current=_I(de.dialog,()=>{j(!1)})},tr=we=>{we.target===we.currentTarget&&Je()},St=we=>{if(S==="static"){tr(we);return}if(ce.current||we.target!==we.currentTarget){ce.current=!1;return}U==null||U()},Ra=we=>{C?k==null||k(we):(we.preventDefault(),S==="static"&&Je())},yi=(we,Ue)=>{we&&$t(we),P==null||P(we,Ue)},pn=we=>{oe.current==null||oe.current(),I==null||I(we)},Dn=(we,Ue)=>{V==null||V(we,Ue),uE(window,"resize",fn)},ds=we=>{we&&(we.style.display=""),B==null||B(we),Qv(window,"resize",fn)},Er=w.useCallback(we=>R.jsx("div",{...we,className:me(`${n}-backdrop`,M,!E&&"show")}),[E,M,n]),nr={...t,...le};nr.display="block";const vi=we=>R.jsx("div",{role:"dialog",...we,style:nr,className:me(e,n,Ce&&`${n}-static`,!E&&"show"),onClick:S?St:void 0,onMouseUp:dn,"data-bs-theme":h,"aria-label":y,"aria-labelledby":p,"aria-describedby":m,children:R.jsx(c,{...Pe,onMouseDown:hn,className:i,contentClassName:a,children:l})});return R.jsx(RE.Provider,{value:xt,children:R.jsx(yx,{show:_,ref:be,backdrop:S,container:G,keyboard:!0,autoFocus:z,enforceFocus:H,restoreFocus:K,restoreFocusOptions:J,onEscapeKeyDown:Ra,onShow:x,onHide:U,onEnter:yi,onEntering:Dn,onEntered:N,onExit:pn,onExiting:D,onExited:ds,manager:Jt(),transition:E?EB:void 0,backdropTransition:E?TB:void 0,renderBackdrop:Er,renderDialog:vi})})});Rx.displayName="Modal";const On=Object.assign(Rx,{Body:Ex,Header:wx,Title:Sx,Footer:Tx,Dialog:AE,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Ax=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Te(e,"nav-item"),R.jsx(t,{ref:a,className:me(n,e),...i})));Ax.displayName="NavItem";const CE=w.forwardRef(({bsPrefix:n,className:e,as:t=sm,active:i,eventKey:a,disabled:l=!1,...c},h)=>{n=Te(n,"nav-link");const[p,m]=dx({key:wf(a,c.href),active:i,disabled:l,...c});return R.jsx(t,{...c,...p,ref:h,disabled:l,className:me(e,n,l&&"disabled",m.isActive&&"active")})});CE.displayName="NavLink";const Cx=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:i,variant:a,fill:l=!1,justify:c=!1,navbar:h,navbarScroll:p,className:m,activeKey:y,..._}=rm(n,{activeKey:"onSelect"}),E=Te(i,"nav");let S,C,k=!1;const x=w.useContext(Lo),U=w.useContext(aE);return x?(S=x.bsPrefix,k=h??!0):U&&({cardHeaderBsPrefix:C}=U),R.jsx(W3,{as:t,ref:e,activeKey:y,className:me(m,{[E]:!k,[`${S}-nav`]:k,[`${S}-nav-scroll`]:k&&p,[`${C}-${a}`]:!!C,[`${E}-${a}`]:!!a,[`${E}-fill`]:l,[`${E}-justified`]:c}),..._})});Cx.displayName="Nav";const Wy=Object.assign(Cx,{Item:Ax,Link:CE}),Ix=w.forwardRef(({bsPrefix:n,className:e,as:t,...i},a)=>{n=Te(n,"navbar-brand");const l=t||(i.href?"a":"span");return R.jsx(l,{...i,ref:a,className:me(e,n)})});Ix.displayName="NavbarBrand";const xx=w.forwardRef(({children:n,bsPrefix:e,...t},i)=>{e=Te(e,"navbar-collapse");const a=w.useContext(Lo);return R.jsx(F9,{in:!!(a&&a.expanded),...t,children:R.jsx("div",{ref:i,className:e,children:n})})});xx.displayName="NavbarCollapse";const Ox=w.forwardRef(({bsPrefix:n,className:e,children:t,label:i="Toggle navigation",as:a="button",onClick:l,...c},h)=>{n=Te(n,"navbar-toggler");const{onToggle:p,expanded:m}=w.useContext(Lo)||{},y=va(_=>{l&&l(_),p&&p()});return a==="button"&&(c.type="button"),R.jsx(a,{...c,ref:h,onClick:y,"aria-label":i,className:me(e,n,!m&&"collapsed"),children:t||R.jsx("span",{className:`${n}-icon`})})});Ox.displayName="NavbarToggle";const Wv=new WeakMap,xR=(n,e)=>{if(!n||!e)return;const t=Wv.get(e)||new Map;Wv.set(e,t);let i=t.get(n);return i||(i=e.matchMedia(n),i.refCount=0,t.set(i.media,i)),i};function bB(n,e=typeof window>"u"?void 0:window){const t=xR(n,e),[i,a]=w.useState(()=>t?t.matches:!1);return WI(()=>{let l=xR(n,e);if(!l)return a(!1);let c=Wv.get(e);const h=()=>{a(l.matches)};return l.refCount++,l.addListener(h),h(),()=>{l.removeListener(h),l.refCount--,l.refCount<=0&&(c==null||c.delete(l.media)),l=void 0}},[n]),i}function wB(n){const e=Object.keys(n);function t(h,p){return h===p?p:h?`${h} and ${p}`:p}function i(h){return e[Math.min(e.indexOf(h)+1,e.length-1)]}function a(h){const p=i(h);let m=n[p];return typeof m=="number"?m=`${m-.2}px`:m=`calc(${m} - 0.2px)`,`(max-width: ${m})`}function l(h){let p=n[h];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function c(h,p,m){let y;typeof h=="object"?(y=h,m=p,p=!0):(p=p||!0,y={[h]:p});let _=w.useMemo(()=>Object.entries(y).reduce((E,[S,C])=>((C==="up"||C===!0)&&(E=t(E,l(S))),(C==="down"||C===!0)&&(E=t(E,a(S))),E),""),[JSON.stringify(y)]);return bB(_,m)}return c}const SB=wB({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Dx=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},a)=>(e=Te(e,"offcanvas-body"),R.jsx(t,{ref:a,className:me(n,e),...i})));Dx.displayName="OffcanvasBody";const RB={[Or]:"show",[Ki]:"show"},Nx=w.forwardRef(({bsPrefix:n,className:e,children:t,in:i=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:c=!1,...h},p)=>(n=Te(n,"offcanvas"),R.jsx(fE,{ref:p,addEndListener:cE,in:i,mountOnEnter:a,unmountOnExit:l,appear:c,...h,childRef:Au(t),children:(m,y)=>w.cloneElement(t,{...y,className:me(e,t.props.className,(m===Or||m===Ef)&&`${n}-toggling`,RB[m])})})));Nx.displayName="OffcanvasToggling";const Mx=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...a},l)=>(n=Te(n,"offcanvas-header"),R.jsx(bx,{ref:l,...a,className:me(e,n),closeLabel:t,closeButton:i})));Mx.displayName="OffcanvasHeader";const AB=Hf("h5"),Px=w.forwardRef(({className:n,bsPrefix:e,as:t=AB,...i},a)=>(e=Te(e,"offcanvas-title"),R.jsx(t,{ref:a,className:me(n,e),...i})));Px.displayName="OffcanvasTitle";function CB(n){return R.jsx(Nx,{...n})}function IB(n){return R.jsx(hu,{...n})}const kx=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":i,placement:a="start",responsive:l,show:c=!1,backdrop:h=!0,keyboard:p=!0,scroll:m=!1,onEscapeKeyDown:y,onShow:_,onHide:E,container:S,autoFocus:C=!0,enforceFocus:k=!0,restoreFocus:x=!0,restoreFocusOptions:U,onEntered:G,onExit:z,onExiting:H,onEnter:K,onEntering:J,onExited:N,backdropClassName:I,manager:D,renderStaticNode:P=!1,...V},B)=>{const M=w.useRef();n=Te(n,"offcanvas");const[Me,Pe]=w.useState(!1),W=va(E),le=SB(l||"xs","up");w.useEffect(()=>{Pe(l?c&&!le:c)},[c,l,le]);const he=w.useMemo(()=>({onHide:W}),[W]);function Ce(){return D||(m?(M.current||(M.current=new vx({handleContainerOverflow:!1})),M.current):_x())}const j=(de,...ve)=>{de&&(de.style.visibility="visible"),K==null||K(de,...ve)},re=(de,...ve)=>{de&&(de.style.visibility=""),N==null||N(...ve)},ce=w.useCallback(de=>R.jsx("div",{...de,className:me(`${n}-backdrop`,I)}),[I,n]),oe=de=>R.jsx("div",{...de,...V,className:me(e,l?`${n}-${l}`:n,`${n}-${a}`),"aria-labelledby":i,children:t});return R.jsxs(R.Fragment,{children:[!Me&&(l||P)&&oe({}),R.jsx(RE.Provider,{value:he,children:R.jsx(yx,{show:Me,ref:B,backdrop:h,container:S,keyboard:p,autoFocus:C,enforceFocus:k&&!m,restoreFocus:x,restoreFocusOptions:U,onEscapeKeyDown:y,onShow:_,onHide:W,onEnter:j,onEntering:J,onEntered:G,onExit:z,onExiting:H,onExited:re,manager:Ce(),transition:CB,backdropTransition:IB,renderBackdrop:ce,renderDialog:oe})})]})});kx.displayName="Offcanvas";const xB=Object.assign(kx,{Body:Dx,Header:Mx,Title:Px}),Vx=w.forwardRef(({onHide:n,...e},t)=>{const i=w.useContext(Lo),a=va(()=>{i==null||i.onToggle==null||i.onToggle(),n==null||n()});return R.jsx(xB,{ref:t,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:a})});Vx.displayName="NavbarOffcanvas";const Lx=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},a)=>(e=Te(e,"navbar-text"),R.jsx(t,{ref:a,className:me(n,e),...i})));Lx.displayName="NavbarText";const Ux=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:i=!0,variant:a="light",bg:l,fixed:c,sticky:h,className:p,as:m="nav",expanded:y,onToggle:_,onSelect:E,collapseOnSelect:S=!1,...C}=rm(n,{expanded:"onToggle"}),k=Te(t,"navbar"),x=w.useCallback((...z)=>{E==null||E(...z),S&&y&&(_==null||_(!1))},[E,S,y,_]);C.role===void 0&&m!=="nav"&&(C.role="navigation");let U=`${k}-expand`;typeof i=="string"&&(U=`${U}-${i}`);const G=w.useMemo(()=>({onToggle:()=>_==null?void 0:_(!y),bsPrefix:k,expanded:!!y,expand:i}),[k,y,i,_]);return R.jsx(Lo.Provider,{value:G,children:R.jsx(No.Provider,{value:x,children:R.jsx(m,{ref:e,...C,className:me(p,k,i&&U,a&&`${k}-${a}`,l&&`bg-${l}`,h&&`sticky-${h}`,c&&`fixed-${c}`)})})})});Ux.displayName="Navbar";const Md=Object.assign(Ux,{Brand:Ix,Collapse:xx,Offcanvas:Vx,Text:Lx,Toggle:Ox}),jx=w.forwardRef(({id:n,title:e,children:t,bsPrefix:i,className:a,rootCloseEvent:l,menuRole:c,disabled:h,active:p,renderMenuOnMount:m,menuVariant:y,..._},E)=>{const S=Te(void 0,"nav-item");return R.jsxs(co,{ref:E,..._,className:me(a,S),children:[R.jsx(co.Toggle,{id:n,eventKey:null,active:p,disabled:h,childBsPrefix:i,as:CE,children:e}),R.jsx(co.Menu,{role:c,renderOnMount:m,rootCloseEvent:l,variant:y,children:t})]})});jx.displayName="NavDropdown";const Bc=Object.assign(jx,{Item:co.Item,ItemText:co.ItemText,Divider:co.Divider,Header:co.Header}),Bx=w.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:i,as:a="div",className:l,...c},h)=>{n=Te(n,"spinner");const p=`${n}-${t}`;return R.jsx(a,{ref:h,...c,className:me(l,p,i&&`${p}-${i}`,e&&`text-${e}`)})});Bx.displayName="Spinner";const IE=w.forwardRef(({bsPrefix:n,className:e,striped:t,bordered:i,borderless:a,hover:l,size:c,variant:h,responsive:p,...m},y)=>{const _=Te(n,"table"),E=me(e,_,h&&`${_}-${h}`,c&&`${_}-${c}`,t&&`${_}-${typeof t=="string"?`striped-${t}`:"striped"}`,i&&`${_}-bordered`,a&&`${_}-borderless`,l&&`${_}-hover`),S=R.jsx("table",{...m,className:E,ref:y});if(p){let C=`${_}-responsive`;return typeof p=="string"&&(C=`${C}-${p}`),R.jsx("div",{className:C,children:S})}return S}),OB=()=>{const n=us(),{data:e,isLoading:t,isError:i}=vA({queryKey:["products"],queryFn:y4}),a=Pr(h=>h.products.products),l=Pr(h=>h.categories.selectedCategory);w.useEffect(()=>{e&&n(n9(e))},[e,n]);const c=l?a.filter(h=>h.category===l):a;return t?R.jsx(ca,{className:"text-center",children:R.jsx(Bx,{animation:"border",role:"status",children:R.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):i?R.jsx("p",{children:"Error loading data. Please try again later."}):R.jsxs(To,{className:"g-4",children:[" ",c.map(h=>R.jsxs(ca,{xs:12,sm:6,md:4,children:[" ",R.jsx(m9,{product:h})]},h.id))]})},DB={categories:[],selectedCategory:null},zx=nm({name:"categories",initialState:DB,reducers:{setCategories:(n,e)=>{n.categories=e.payload},setSelectedCategory:(n,e)=>{n.selectedCategory=e.payload}}}),{setCategories:NB,setSelectedCategory:MB}=zx.actions,PB=zx.reducer,kB=()=>{const n=us(),{data:e}=vA({queryKey:["categories"],queryFn:v4}),{categories:t,selectedCategory:i}=Pr(l=>l.categories);w.useEffect(()=>{e&&n(NB(e))},[e,n]);const a=l=>{n(MB(l.target.value))};return R.jsx(ca,{children:R.jsxs("select",{value:i||"",onChange:a,children:[R.jsx("option",{value:"",children:"All Categories"}),t.map(l=>R.jsx("option",{value:l,children:l},l))]})})},VB=()=>{const n=Pr(c=>c.cart.items),e=Pr(c=>c.user.user),t=us(),[i,a]=w.useState(null),l=async()=>{if(!e){alert("You must be logged in to place an order.");return}try{const c=`${e.email}_${new Date().toISOString()}`,h=oi(Un,"orders",c);await gf(h,{userEmail:e.email,orderDate:new Date().toISOString()});const p=`orders/${c}/UserOrder`;for(const m of n){const y=oi(Un,p,m.id.toString());await gf(y,{title:m.title,price:m.price,quantity:m.quantity})}t(d9()),a("Order placed successfully!")}catch(c){console.error("Error placing order:",c),a("Failed to place order. Please try again.")}};return R.jsxs(R.Fragment,{children:[i&&R.jsx("p",{className:"text-success",children:i}),R.jsx(kt,{variant:"success",onClick:l,disabled:n.length===0,children:"Checkout"})]})},LB=({show:n,handleClose:e})=>{const t=us(),i=Pr(l=>l.cart.items),a=i.reduce((l,c)=>l+c.price*(c.quantity||1),0);return R.jsxs(On,{show:n,onHide:e,children:[R.jsx(On.Header,{closeButton:!0,children:R.jsx(On.Title,{children:"Shopping Cart"})}),R.jsx(On.Body,{children:i.length===0?R.jsx("p",{children:"Your cart is empty."}):R.jsxs(IE,{striped:!0,bordered:!0,hover:!0,children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Product"}),R.jsx("th",{children:"Price"}),R.jsx("th",{children:"Quantity"}),R.jsx("th",{children:"Total"}),R.jsx("th",{children:"Actions"})]})}),R.jsx("tbody",{children:i.map(l=>R.jsxs("tr",{children:[R.jsx("td",{children:l.title}),R.jsxs("td",{children:["$",l.price.toFixed(2)]}),R.jsx("td",{children:R.jsx("input",{type:"number",value:l.quantity,min:"1",onChange:c=>t(f9({id:Number(l.id),quantity:Number(c.target.value)}))})}),R.jsxs("td",{children:["$",(l.price*(l.quantity||1)).toFixed(2)]}),R.jsx("td",{children:R.jsx(kt,{variant:"danger",onClick:()=>t(h9(Number(l.id))),children:"Remove"})})]},l.id))})]})}),R.jsxs(On.Footer,{children:[R.jsxs("h5",{children:["Total: $",a.toFixed(2)]}),R.jsx(VB,{})]})]})};var Fx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OR=_t.createContext&&_t.createContext(Fx),UB=["attr","size","title"];function jB(n,e){if(n==null)return{};var t=BB(n,e),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function BB(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Rp(){return Rp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Rp.apply(this,arguments)}function DR(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function Ap(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(t),!0).forEach(function(i){zB(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DR(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function zB(n,e,t){return e=FB(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FB(n){var e=qB(n,"string");return typeof e=="symbol"?e:e+""}function qB(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qx(n){return n&&n.map((e,t)=>_t.createElement(e.tag,Ap({key:t},e.attr),qx(e.child)))}function HB(n){return e=>_t.createElement($B,Rp({attr:Ap({},n.attr)},e),qx(n.child))}function $B(n){var e=t=>{var{attr:i,size:a,title:l}=n,c=jB(n,UB),h=a||t.size||"1em",p;return t.className&&(p=t.className),n.className&&(p=(p?p+" ":"")+n.className),_t.createElement("svg",Rp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:p,style:Ap(Ap({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&_t.createElement("title",null,l),n.children)};return OR!==void 0?_t.createElement(OR.Consumer,null,t=>e(t)):e(Fx)}function GB(n){return HB({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"},child:[]}]})(n)}const NR=()=>{const[n,e]=w.useState(!1);return R.jsxs(ca,{sm:12,lg:2,children:[R.jsx(kt,{variant:"secondary",onClick:()=>e(!0),children:R.jsx(GB,{size:24})}),R.jsx(LB,{show:n,handleClose:()=>e(!1)})]})},KB={user:null},Hx=nm({name:"user",initialState:KB,reducers:{setUser:(n,e)=>{n.user=e.payload},clearUser:n=>{n.user=null}}}),{setUser:xE,clearUser:$x}=Hx.actions,QB=Hx.reducer,YB=()=>{const n=Mo(),e=us(),t=async()=>{try{await nj(ii),e($x()),alert("Logged out!"),n("/")}catch(i){console.error("Logout error:",i.message)}};return R.jsx(kt,{variant:"secondary",onClick:t,children:"Logout"})},Xf=()=>{const n=Pr(e=>e.user.user);return R.jsx(Md,{bg:"light",expand:"lg",children:R.jsxs(Nf,{children:[R.jsx(Md.Brand,{as:lo,to:"/",children:"E-Commerce"}),R.jsx(Md.Toggle,{"aria-controls":"basic-navbar-nav"}),R.jsx(Md.Collapse,{id:"basic-navbar-nav",children:R.jsxs(Wy,{className:"ms-auto",children:[R.jsx(Wy.Link,{as:lo,to:"/",children:"Home"}),n?R.jsxs(R.Fragment,{children:[R.jsxs(Bc,{title:"Profile",id:"profile-dropdown",children:[R.jsx(Bc.Item,{as:lo,to:`/profile/${n.id}`,children:"Profile"}),R.jsx(Bc.Item,{as:lo,to:"/product/manage",children:"Edit Products"}),R.jsx(Bc.Divider,{}),R.jsxs(Bc.Item,{children:[" ",R.jsx(YB,{})," "]})]}),R.jsx(NR,{})]}):R.jsxs(R.Fragment,{children:[R.jsx(Wy.Link,{as:lo,to:"/login",children:"Login"}),R.jsx(NR,{})]})]})})]})})},XB=()=>R.jsxs(Nf,{children:[R.jsx(Xf,{}),R.jsx(To,{className:"py-3",children:R.jsx(ca,{sm:12,lg:10,children:R.jsx("h1",{children:" Fake E-Commerce App"})})}),R.jsx(To,{children:R.jsx(kB,{})}),R.jsx(OB,{})]}),WB=()=>{const[n,e]=w.useState(""),[t,i]=w.useState(""),[a,l]=w.useState(""),[c,h]=w.useState(null),p=us(),m=Mo(),y=async _=>{_.preventDefault();try{const S=(await XU(ii,n,t)).user.uid,C={id:S,name:a,email:n};await gf(oi(Un,"users",S),C),p(xE(C)),m("/"),alert("Registration successful!")}catch(E){h(E.message)}};return R.jsxs("div",{className:"container mt-5",children:[R.jsx("h2",{className:"mb-4",children:"Register"}),c&&R.jsx(Gf,{variant:"danger",children:c}),R.jsxs(Le,{onSubmit:y,children:[R.jsxs(Le.Group,{className:"mb-3",controlId:"formName",children:[R.jsx(Le.Label,{children:"Name"}),R.jsx(Le.Control,{type:"text",placeholder:"Enter your name",value:a,onChange:_=>l(_.target.value),required:!0})]}),R.jsxs(Le.Group,{className:"mb-3",controlId:"formEmail",children:[R.jsx(Le.Label,{children:"Email address"}),R.jsx(Le.Control,{type:"email",placeholder:"Enter email",value:n,onChange:_=>e(_.target.value),required:!0})]}),R.jsxs(Le.Group,{className:"mb-3",controlId:"formPassword",children:[R.jsx(Le.Label,{children:"Password"}),R.jsx(Le.Control,{type:"password",placeholder:"Enter password",value:t,onChange:_=>i(_.target.value),required:!0})]}),R.jsx(kt,{variant:"primary",type:"submit",children:"Register"})]})]})},ZB=()=>R.jsxs(Nf,{children:[R.jsx(Xf,{}),R.jsx(To,{children:R.jsx(ca,{children:R.jsx(WB,{})})})]}),JB=()=>{const n=Mo(),e=()=>{n("/register")};return R.jsx(kt,{variant:"secondary",onClick:e,children:"Register"})},ez=()=>{const[n,e]=w.useState(""),[t,i]=w.useState(""),[a,l]=w.useState(null),c=Mo(),h=us(),p=async m=>{m.preventDefault();try{const _=(await WU(ii,n,t)).user,E=oi(Un,"users",_.uid),S=await qL(E);if(S.exists()){const C=S.data();h(xE({id:_.uid,email:_.email||"",name:C.name||""}))}else console.error("No such user document in Firestore!");alert("Login successful!"),c("/")}catch(y){l(y.message)}};return R.jsxs(Nf,{children:[R.jsx(To,{children:R.jsx(Xf,{})}),R.jsxs(To,{children:[R.jsx("h2",{className:"mb-4",children:"Login"}),R.jsx("p",{className:"mb-4",children:"Please enter your email and password to login."}),a&&R.jsx(Gf,{variant:"danger",children:a}),R.jsxs(Le,{onSubmit:p,children:[R.jsxs(Le.Group,{className:"mb-3",controlId:"formEmail",children:[R.jsx(Le.Label,{children:"Email address"}),R.jsx(Le.Control,{type:"email",placeholder:"Enter email",value:n,onChange:m=>e(m.target.value),required:!0})]}),R.jsxs(Le.Group,{className:"mb-3",controlId:"formPassword",children:[R.jsx(Le.Label,{children:"Password"}),R.jsx(Le.Control,{type:"password",placeholder:"Enter password",value:t,onChange:m=>i(m.target.value),required:!0})]}),R.jsx(kt,{variant:"primary",type:"submit",className:"me-2",children:"Login"}),R.jsx(JB,{})]})]})]})},tz=({show:n,onHide:e,user:t,setUser:i})=>{const[a,l]=w.useState((t==null?void 0:t.name)||""),[c,h]=w.useState((t==null?void 0:t.email)||""),[p,m]=w.useState(null),y=async()=>{try{if(ii.currentUser){await ZU(ii.currentUser,c);const _=oi(Un,"users",(t==null?void 0:t.id)||"");await HL(_,{name:a,email:c}),i({id:(t==null?void 0:t.id)||"",name:a,email:c}),alert("Profile updated successfully!"),e()}}catch(_){m(_.message)}};return R.jsxs(On,{show:n,onHide:e,children:[R.jsx(On.Header,{closeButton:!0,children:R.jsx(On.Title,{children:"Edit Profile"})}),R.jsxs(On.Body,{children:[p&&R.jsx(Gf,{variant:"danger",children:p}),R.jsxs(Le,{children:[R.jsxs(Le.Group,{className:"mb-3",controlId:"formName",children:[R.jsx(Le.Label,{children:"Name"}),R.jsx(Le.Control,{type:"text",placeholder:"Enter your name",value:a,onChange:_=>l(_.target.value)})]}),R.jsxs(Le.Group,{className:"mb-3",controlId:"formEmail",children:[R.jsx(Le.Label,{children:"Email"}),R.jsx(Le.Control,{type:"email",placeholder:"Enter your email",value:c,onChange:_=>h(_.target.value)})]})]})]}),R.jsxs(On.Footer,{children:[R.jsx(kt,{variant:"secondary",onClick:e,children:"Close"}),R.jsx(kt,{variant:"primary",onClick:y,children:"Save Changes"})]})]})},nz=({isoDate:n})=>{const e=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return R.jsx("span",{children:e(n)})},rz=()=>{const n=Pr(l=>l.user.user),[e,t]=w.useState([]),[i,a]=w.useState(null);return w.useEffect(()=>{(async()=>{if(!n){a("You must be logged in to view your order history.");return}try{const c=[],h=lu(Un,"orders"),p=await mf(h);for(const m of p.docs)if(m.id.includes(n.email)){const _=m.data().orderDate||"Unknown Date",E=lu(m.ref,"UserOrder"),S=await mf(E),C=[];S.empty||S.forEach(k=>{const x=k.data();C.push(x)}),c.push({orderDate:_,items:C})}t(c)}catch(c){console.error("Error fetching orders:",c),a("Failed to fetch order history. Please try again.")}})()},[n]),R.jsxs("div",{className:"container mt-5",children:[R.jsx("h2",{className:"mb-4",children:"Order History"}),i&&R.jsx(Gf,{variant:"danger",children:i}),!i&&e.length===0&&R.jsx("p",{children:"No orders found."}),e.length>0&&R.jsx(R.Fragment,{children:e.map((l,c)=>R.jsxs("div",{className:"mb-4",children:[R.jsxs("h4",{children:["Order Date: ",R.jsx(nz,{isoDate:l.orderDate})]}),R.jsxs(IE,{striped:!0,bordered:!0,hover:!0,children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Item"}),R.jsx("th",{children:"Quantity"}),R.jsx("th",{children:"Price"})]})}),R.jsx("tbody",{children:l.items.map((h,p)=>R.jsxs("tr",{children:[R.jsx("td",{children:h.title}),R.jsx("td",{children:h.quantity}),R.jsxs("td",{children:["$",h.price.toFixed(2)]})]},p))})]}),R.jsxs("h5",{className:"mt-2",children:["Total Cost: $",l.items.reduce((h,p)=>h+p.price*p.quantity,0).toFixed(2)]})]},c))})]})},iz=()=>{const n=Pr(y=>y.user.user),e=us(),t=Mo(),[i,a]=w.useState(!1),[l,c]=w.useState(null),h=async()=>{var y;try{(y=ii.currentUser)!=null&&y.email&&(await YU(ii,ii.currentUser.email),alert("Password reset email sent!"))}catch(_){c(_.message)}},p=async()=>{if(window.confirm("Are you sure you want to permanently delete your account? This action cannot be undone."))try{if(ii.currentUser){const _=oi(Un,"users",(n==null?void 0:n.id)||"");await d1(_),await rj(ii.currentUser),e($x()),alert("Account deleted successfully!"),t("/")}}catch(_){c(_.message)}},m=y=>{e(xE(y))};return R.jsxs(R.Fragment,{children:[R.jsx(Xf,{}),R.jsxs("div",{className:"container mt-5",children:[R.jsx("h1",{children:"Profile Page"}),l&&R.jsx(Gf,{variant:"danger",children:l}),R.jsxs("p",{children:[R.jsx("strong",{children:"Name:"})," ",n==null?void 0:n.name]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Email:"})," ",n==null?void 0:n.email]}),R.jsxs("p",{children:[R.jsx("strong",{children:"User ID:"})," ",n==null?void 0:n.id]}),R.jsx(kt,{variant:"primary",className:"me-2",onClick:()=>a(!0),children:"Edit Profile"}),R.jsx(kt,{variant:"secondary",className:"me-2",onClick:h,children:"Reset Password"}),R.jsx(kt,{variant:"danger",onClick:p,children:"Delete Account"})]}),R.jsx(tz,{show:i,onHide:()=>a(!1),user:n,setUser:m}),R.jsx("div",{className:"container mt-5",children:R.jsx(rz,{})})]})},sz=()=>{const[n,e]=w.useState([]),[t,i]=w.useState([]),[a,l]=w.useState(null),[c,h]=w.useState(!1);w.useEffect(()=>{(async()=>{try{const S=lu(Un,"products"),k=(await mf(S)).docs.map(U=>({id:U.id,...U.data()}));e(k);const x=Array.from(new Set(k.map(U=>U.category)));i(x)}catch(S){console.error("Error fetching products or categories:",S)}})()},[]);const p=()=>{l({id:"",title:"",price:0,category:"",description:"",image:""}),h(!0)},m=E=>{l(E),h(!0)},y=async()=>{if(a)try{if(a.id){const E=oi(Un,"products",a.id);await gf(E,a),alert("Product updated successfully!")}else{const E=lu(Un,"products"),S=await $L(E,{title:a.title,price:a.price,category:a.category,description:a.description,image:a.image}),C={...a,id:S.id},k=oi(Un,"products",S.id);await gf(k,C),e(x=>[...x,C]),alert("Product added successfully!")}h(!1)}catch(E){console.error("Error saving product:",E)}},_=async E=>{if(window.confirm("Are you sure you want to delete this product? This action cannot be undone."))try{const C=oi(Un,"products",E);await d1(C),e(n.filter(k=>k.id!==E)),alert("Product deleted successfully!")}catch(C){console.error("Error deleting product:",C)}};return R.jsxs(R.Fragment,{children:[R.jsx(Xf,{}),R.jsxs("div",{className:"container mt-5",children:[R.jsx("h1",{children:"Product Management"}),R.jsx(kt,{variant:"success",className:"mb-3",onClick:p,children:"Add Product"}),R.jsxs(IE,{striped:!0,bordered:!0,hover:!0,children:[R.jsx("thead",{children:R.jsxs("tr",{children:[R.jsx("th",{children:"Title"}),R.jsx("th",{children:"Price"}),R.jsx("th",{children:"Category"}),R.jsx("th",{children:"Actions"})]})}),R.jsx("tbody",{children:n.map(E=>R.jsxs("tr",{children:[R.jsx("td",{children:E.title}),R.jsxs("td",{children:["$",E.price.toFixed(2)]}),R.jsx("td",{children:E.category}),R.jsxs("td",{children:[R.jsx(kt,{variant:"primary",className:"me-2",onClick:()=>m(E),children:"Edit"}),R.jsx(kt,{variant:"danger",onClick:()=>_(E.id),children:"Delete"})]})]},E.id))})]}),R.jsxs(On,{show:c,onHide:()=>h(!1),children:[R.jsx(On.Header,{closeButton:!0,children:R.jsx(On.Title,{children:a!=null&&a.id?"Edit Product":"Add Product"})}),R.jsx(On.Body,{children:a&&R.jsxs(Le,{children:[R.jsxs(Le.Group,{controlId:"productTitle",children:[R.jsx(Le.Label,{children:"Title"}),R.jsx(Le.Control,{type:"text",value:a.title,onChange:E=>l({...a,title:E.target.value}),required:!0})]}),R.jsxs(Le.Group,{controlId:"productPrice",children:[R.jsx(Le.Label,{children:"Price"}),R.jsx(Le.Control,{type:"number",value:a.price,onChange:E=>l({...a,price:parseFloat(E.target.value)}),required:!0})]}),R.jsxs(Le.Group,{controlId:"productCategory",children:[R.jsx(Le.Label,{children:"Category"}),R.jsxs(Le.Select,{value:a.category,onChange:E=>l({...a,category:E.target.value}),required:!0,children:[R.jsx("option",{value:"",children:"Select a category"}),t.map((E,S)=>R.jsx("option",{value:E,children:E},S))]})]}),R.jsxs(Le.Group,{controlId:"productDescription",children:[R.jsx(Le.Label,{children:"Description"}),R.jsx(Le.Control,{as:"textarea",rows:3,value:a.description,onChange:E=>l({...a,description:E.target.value}),required:!0})]}),R.jsxs(Le.Group,{controlId:"productImage",children:[R.jsx(Le.Label,{children:"Image URL"}),R.jsx(Le.Control,{type:"text",value:a.image,onChange:E=>l({...a,image:E.target.value}),required:!0})]})]})}),R.jsxs(On.Footer,{children:[R.jsx(kt,{variant:"secondary",onClick:()=>h(!1),children:"Cancel"}),R.jsx(kt,{variant:"primary",onClick:y,children:"Save Changes"})]})]})]})]})},MR=({children:n})=>Pr(t=>t.user.user)?n:R.jsx(dN,{to:"/login",replace:!0}),az=new yM;function oz(){const n=Pr(e=>e.user.user);return R.jsx(bM,{client:az,children:R.jsx(jN,{children:R.jsxs(mN,{children:[R.jsx(Ol,{path:"/",element:R.jsx(XB,{})}),R.jsx(Ol,{path:"/register",element:R.jsx(ZB,{})}),R.jsx(Ol,{path:"/login",element:R.jsx(ez,{})}),R.jsx(Ol,{path:`/profile/${n==null?void 0:n.id}`,element:R.jsx(MR,{children:R.jsx(iz,{})})}),R.jsx(Ol,{path:"/product/manage",element:R.jsx(MR,{children:R.jsx(sz,{})})})]})})})}const lz=q4({reducer:{products:r9,categories:PB,cart:p9,user:QB}});SD.createRoot(document.getElementById("root")).render(R.jsx(w.StrictMode,{children:R.jsx(YM,{store:lz,children:R.jsx(oz,{})})}));
